\hypertarget{classmdt_sql_selection_dialog}{
\section{mdtSqlSelectionDialog Class Reference}
\label{classmdt_sql_selection_dialog}\index{mdtSqlSelectionDialog@{mdtSqlSelectionDialog}}
}


Provide a way for the user to select row in a set of data.  




{\ttfamily \#include $<$mdtSqlSelectionDialog.h$>$}

\subsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classmdt_sql_selection_dialog_af8d08c3192c20d297439afa3a12229c6}{
void \hyperlink{classmdt_sql_selection_dialog_af8d08c3192c20d297439afa3a12229c6}{accept} ()}
\label{classmdt_sql_selection_dialog_af8d08c3192c20d297439afa3a12229c6}

\begin{DoxyCompactList}\small\item\em Overloads QDialog to to build selection results. \end{DoxyCompactList}\item 
\hypertarget{classmdt_sql_selection_dialog_a4277a8f432ee3470039311f9dda9c26d}{
void \hyperlink{classmdt_sql_selection_dialog_a4277a8f432ee3470039311f9dda9c26d}{reject} ()}
\label{classmdt_sql_selection_dialog_a4277a8f432ee3470039311f9dda9c26d}

\begin{DoxyCompactList}\small\item\em Overloads QDialog to tell \hyperlink{classmdt_sql_selection_dialog_a23592c799f3b8945b3f5e72082dc265b}{selectionResult()} that it must return a empty result. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classmdt_sql_selection_dialog_aaeb4d47e400bff8e58dec9f84f00517c}{
\hyperlink{classmdt_sql_selection_dialog_aaeb4d47e400bff8e58dec9f84f00517c}{mdtSqlSelectionDialog} (QWidget $\ast$parent=0)}
\label{classmdt_sql_selection_dialog_aaeb4d47e400bff8e58dec9f84f00517c}

\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hypertarget{classmdt_sql_selection_dialog_a586e3cb812e5e9634f42cb40bfd2d724}{
\hyperlink{classmdt_sql_selection_dialog_a586e3cb812e5e9634f42cb40bfd2d724}{$\sim$mdtSqlSelectionDialog} ()}
\label{classmdt_sql_selection_dialog_a586e3cb812e5e9634f42cb40bfd2d724}

\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
\hypertarget{classmdt_sql_selection_dialog_ab5ea543ebded60b4354c7c0902ca021f}{
void \hyperlink{classmdt_sql_selection_dialog_ab5ea543ebded60b4354c7c0902ca021f}{setMessage} (const QString \&message)}
\label{classmdt_sql_selection_dialog_ab5ea543ebded60b4354c7c0902ca021f}

\begin{DoxyCompactList}\small\item\em Set a message that will be displayed to the user. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_sql_selection_dialog_aabe0554b9ca3f4a8d37a79e812dd8770}{setModel} (QSqlQueryModel $\ast$model, bool allowMultiSelection=false)
\begin{DoxyCompactList}\small\item\em Set model that contain data to display. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_sql_selection_dialog_afc29f8965c2d6cc103d021ab54298a84}{setHeaderData} (const QString \&fieldName, const QString \&data)
\begin{DoxyCompactList}\small\item\em Set a user friendly name for a column. \end{DoxyCompactList}\item 
\hypertarget{classmdt_sql_selection_dialog_a8b7f8d24a959533ebe434443f19920c7}{
void \hyperlink{classmdt_sql_selection_dialog_a8b7f8d24a959533ebe434443f19920c7}{setColumnHidden} (int column, bool hide)}
\label{classmdt_sql_selection_dialog_a8b7f8d24a959533ebe434443f19920c7}

\begin{DoxyCompactList}\small\item\em Set a coulumn as hidden. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_sql_selection_dialog_a163280676920829583a4888b742fc96c}{setColumnHidden} (const QString \&fieldName, bool hide)
\begin{DoxyCompactList}\small\item\em Set a coulumn as hidden. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_sql_selection_dialog_a88311778de191bf78e351ea4370b9a6d}{setSelectionResultColumns} (const QList$<$ int $>$ \&columns)
\begin{DoxyCompactList}\small\item\em Set a list of column that will contain the selected data. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_sql_selection_dialog_a5c5c36414bf3c432979f53ad27f985cb}{setSelectionResultColumns} (const QStringList \&fields)
\begin{DoxyCompactList}\small\item\em Set a list of column that will contain the selected data. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_sql_selection_dialog_ae5582bd717078a137dd71d5a1b9cc9f9}{addSelectionResultColumn} (const QString \&field)
\begin{DoxyCompactList}\small\item\em Add a column to the list of column that will contain the selected data. \end{DoxyCompactList}\item 
QList$<$ QVariant $>$ \hyperlink{classmdt_sql_selection_dialog_a23592c799f3b8945b3f5e72082dc265b}{selectionResult} ()
\begin{DoxyCompactList}\small\item\em Return data that user has selected. \end{DoxyCompactList}\item 
QModelIndexList \hyperlink{classmdt_sql_selection_dialog_a85b7c1e3e156c141315d0873fa36d4b3}{selectionResults} ()
\begin{DoxyCompactList}\small\item\em Return data that user has selected. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Provide a way for the user to select row in a set of data. 

Definition at line 36 of file mdtSqlSelectionDialog.h.



\subsection{Member Function Documentation}
\hypertarget{classmdt_sql_selection_dialog_ae5582bd717078a137dd71d5a1b9cc9f9}{
\index{mdtSqlSelectionDialog@{mdtSqlSelectionDialog}!addSelectionResultColumn@{addSelectionResultColumn}}
\index{addSelectionResultColumn@{addSelectionResultColumn}!mdtSqlSelectionDialog@{mdtSqlSelectionDialog}}
\subsubsection[{addSelectionResultColumn}]{\setlength{\rightskip}{0pt plus 5cm}void mdtSqlSelectionDialog::addSelectionResultColumn (
\begin{DoxyParamCaption}
\item[{const QString \&}]{field}
\end{DoxyParamCaption}
)}}
\label{classmdt_sql_selection_dialog_ae5582bd717078a137dd71d5a1b9cc9f9}


Add a column to the list of column that will contain the selected data. 

Note: if a given field not exists, it will be simply ignored.

\begin{DoxyPrecond}{Precondition}
Model must be set with \hyperlink{classmdt_sql_selection_dialog_aabe0554b9ca3f4a8d37a79e812dd8770}{setModel()} before using this method. 
\end{DoxyPrecond}


Definition at line 138 of file mdtSqlSelectionDialog.cpp.

\hypertarget{classmdt_sql_selection_dialog_a23592c799f3b8945b3f5e72082dc265b}{
\index{mdtSqlSelectionDialog@{mdtSqlSelectionDialog}!selectionResult@{selectionResult}}
\index{selectionResult@{selectionResult}!mdtSqlSelectionDialog@{mdtSqlSelectionDialog}}
\subsubsection[{selectionResult}]{\setlength{\rightskip}{0pt plus 5cm}QList$<$ QVariant $>$ mdtSqlSelectionDialog::selectionResult (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_sql_selection_dialog_a23592c799f3b8945b3f5e72082dc265b}


Return data that user has selected. 

The data are these that was specified with \hyperlink{classmdt_sql_selection_dialog_a88311778de191bf78e351ea4370b9a6d}{setSelectionResultColumns()} , in the same order.

If the user reject the dialog, a empty list is returned.

This method works only for single row selection. 

if(pvDialogRejected)\{ return result; \} selectedRows = pvTableView-\/$>$selectionModel()-\/$>$selectedRows(); if(selectedRows.size() != 1)\{ return result; \} index = selectedRows.at(0); if(!index.isValid())\{ return result; \} row = index.row(); for(i = 0; i $<$ pvSelectionResultColumns.size(); ++i)\{ index = pvModel-\/$>$index(row, pvSelectionResultColumns.at(i)); result.append(pvModel-\/$>$data(index)); \}



Definition at line 149 of file mdtSqlSelectionDialog.cpp.

\hypertarget{classmdt_sql_selection_dialog_a85b7c1e3e156c141315d0873fa36d4b3}{
\index{mdtSqlSelectionDialog@{mdtSqlSelectionDialog}!selectionResults@{selectionResults}}
\index{selectionResults@{selectionResults}!mdtSqlSelectionDialog@{mdtSqlSelectionDialog}}
\subsubsection[{selectionResults}]{\setlength{\rightskip}{0pt plus 5cm}QModelIndexList mdtSqlSelectionDialog::selectionResults (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_sql_selection_dialog_a85b7c1e3e156c141315d0873fa36d4b3}


Return data that user has selected. 

The index list only contains columns that where set with \hyperlink{classmdt_sql_selection_dialog_a88311778de191bf78e351ea4370b9a6d}{setSelectionResultColumns()} or \hyperlink{classmdt_sql_selection_dialog_ae5582bd717078a137dd71d5a1b9cc9f9}{addSelectionResultColumn()} .

This method alos works for multiple rows selection. 

Definition at line 194 of file mdtSqlSelectionDialog.cpp.

\hypertarget{classmdt_sql_selection_dialog_a163280676920829583a4888b742fc96c}{
\index{mdtSqlSelectionDialog@{mdtSqlSelectionDialog}!setColumnHidden@{setColumnHidden}}
\index{setColumnHidden@{setColumnHidden}!mdtSqlSelectionDialog@{mdtSqlSelectionDialog}}
\subsubsection[{setColumnHidden}]{\setlength{\rightskip}{0pt plus 5cm}void mdtSqlSelectionDialog::setColumnHidden (
\begin{DoxyParamCaption}
\item[{const QString \&}]{fieldName, }
\item[{bool}]{hide}
\end{DoxyParamCaption}
)}}
\label{classmdt_sql_selection_dialog_a163280676920829583a4888b742fc96c}


Set a coulumn as hidden. 

\begin{DoxyPrecond}{Precondition}
Model must be set with \hyperlink{classmdt_sql_selection_dialog_aabe0554b9ca3f4a8d37a79e812dd8770}{setModel()} before using this method. 
\end{DoxyPrecond}


Definition at line 105 of file mdtSqlSelectionDialog.cpp.

\hypertarget{classmdt_sql_selection_dialog_afc29f8965c2d6cc103d021ab54298a84}{
\index{mdtSqlSelectionDialog@{mdtSqlSelectionDialog}!setHeaderData@{setHeaderData}}
\index{setHeaderData@{setHeaderData}!mdtSqlSelectionDialog@{mdtSqlSelectionDialog}}
\subsubsection[{setHeaderData}]{\setlength{\rightskip}{0pt plus 5cm}void mdtSqlSelectionDialog::setHeaderData (
\begin{DoxyParamCaption}
\item[{const QString \&}]{fieldName, }
\item[{const QString \&}]{data}
\end{DoxyParamCaption}
)}}
\label{classmdt_sql_selection_dialog_afc29f8965c2d6cc103d021ab54298a84}


Set a user friendly name for a column. 

\begin{DoxyPrecond}{Precondition}
Model must be set with \hyperlink{classmdt_sql_selection_dialog_aabe0554b9ca3f4a8d37a79e812dd8770}{setModel()} before using this method. 
\end{DoxyPrecond}


Definition at line 86 of file mdtSqlSelectionDialog.cpp.

\hypertarget{classmdt_sql_selection_dialog_aabe0554b9ca3f4a8d37a79e812dd8770}{
\index{mdtSqlSelectionDialog@{mdtSqlSelectionDialog}!setModel@{setModel}}
\index{setModel@{setModel}!mdtSqlSelectionDialog@{mdtSqlSelectionDialog}}
\subsubsection[{setModel}]{\setlength{\rightskip}{0pt plus 5cm}void mdtSqlSelectionDialog::setModel (
\begin{DoxyParamCaption}
\item[{QSqlQueryModel $\ast$}]{model, }
\item[{bool}]{allowMultiSelection = {\ttfamily false}}
\end{DoxyParamCaption}
)}}
\label{classmdt_sql_selection_dialog_aabe0554b9ca3f4a8d37a79e812dd8770}


Set model that contain data to display. 

\begin{DoxyPrecond}{Precondition}
model must be a valid pointer. 
\end{DoxyPrecond}


Definition at line 71 of file mdtSqlSelectionDialog.cpp.

\hypertarget{classmdt_sql_selection_dialog_a5c5c36414bf3c432979f53ad27f985cb}{
\index{mdtSqlSelectionDialog@{mdtSqlSelectionDialog}!setSelectionResultColumns@{setSelectionResultColumns}}
\index{setSelectionResultColumns@{setSelectionResultColumns}!mdtSqlSelectionDialog@{mdtSqlSelectionDialog}}
\subsubsection[{setSelectionResultColumns}]{\setlength{\rightskip}{0pt plus 5cm}void mdtSqlSelectionDialog::setSelectionResultColumns (
\begin{DoxyParamCaption}
\item[{const QStringList \&}]{fields}
\end{DoxyParamCaption}
)}}
\label{classmdt_sql_selection_dialog_a5c5c36414bf3c432979f53ad27f985cb}


Set a list of column that will contain the selected data. 

Note: if a given field not exists, it will be simply ignored.

\begin{DoxyPrecond}{Precondition}
Model must be set with \hyperlink{classmdt_sql_selection_dialog_aabe0554b9ca3f4a8d37a79e812dd8770}{setModel()} before using this method. 
\end{DoxyPrecond}


Definition at line 123 of file mdtSqlSelectionDialog.cpp.

\hypertarget{classmdt_sql_selection_dialog_a88311778de191bf78e351ea4370b9a6d}{
\index{mdtSqlSelectionDialog@{mdtSqlSelectionDialog}!setSelectionResultColumns@{setSelectionResultColumns}}
\index{setSelectionResultColumns@{setSelectionResultColumns}!mdtSqlSelectionDialog@{mdtSqlSelectionDialog}}
\subsubsection[{setSelectionResultColumns}]{\setlength{\rightskip}{0pt plus 5cm}void mdtSqlSelectionDialog::setSelectionResultColumns (
\begin{DoxyParamCaption}
\item[{const QList$<$ int $>$ \&}]{columns}
\end{DoxyParamCaption}
)}}
\label{classmdt_sql_selection_dialog_a88311778de191bf78e351ea4370b9a6d}


Set a list of column that will contain the selected data. 

Note: if a given column is out of range, it will be simply ignored.

\begin{DoxyPrecond}{Precondition}
Model must be set with \hyperlink{classmdt_sql_selection_dialog_aabe0554b9ca3f4a8d37a79e812dd8770}{setModel()} before using this method. 
\end{DoxyPrecond}


Definition at line 118 of file mdtSqlSelectionDialog.cpp.



The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
src/mdtutilsgui/mdtSqlSelectionDialog.h\item 
src/mdtutilsgui/mdtSqlSelectionDialog.cpp\end{DoxyCompactItemize}
