<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Multi diag tools: mdtPortManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Multi diag tools</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-slots">Protected Slots</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">mdtPortManager Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="mdtPortManager" -->
<p>Port manager base class.  
 <a href="classmdt_port_manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mdt_port_manager_8h_source.html">mdtPortManager.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mdtPortManager:</div>
<div class="dyncontent">
<div class="center"><img src="classmdt_port_manager__inherit__graph.png" border="0" usemap="#mdt_port_manager_inherit__map" alt="Inheritance graph"/></div>
<map name="mdt_port_manager_inherit__map" id="mdt_port_manager_inherit__map">
<area shape="rect" id="node3" href="classmdt_modbus_tcp_port_manager.html" title="#include &lt;QVariant&gt;" alt="" coords="5,83,192,112"/><area shape="rect" id="node5" href="classmdt_serial_port_manager.html" title="Serial port manager class." alt="" coords="216,83,365,112"/><area shape="rect" id="node7" href="classmdt_usb_port_manager.html" title="Helper class that simplify access to USB port API." alt="" coords="389,83,531,112"/><area shape="rect" id="node9" href="classmdt_usbtmc_port_manager.html" title="USBTMC port manager." alt="" coords="379,160,541,189"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for mdtPortManager:</div>
<div class="dyncontent">
<div class="center"><img src="classmdt_port_manager__coll__graph.png" border="0" usemap="#mdt_port_manager_coll__map" alt="Collaboration graph"/></div>
<map name="mdt_port_manager_coll__map" id="mdt_port_manager_coll__map">
<area shape="rect" id="node2" href="classmdt_port_thread.html" title="mdtPortThread" alt="" coords="87,197,193,227"/><area shape="rect" id="node4" href="classmdt_abstract_port.html" title="Base class for port I/O." alt="" coords="5,101,123,131"/><area shape="rect" id="node6" href="classmdt_port_config.html" title="mdtPortConfig" alt="" coords="11,5,117,35"/><area shape="rect" id="node8" href="classmdt_port_info.html" title="Contains informations about a port." alt="" coords="217,197,308,227"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classmdt_port_manager-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382da">state_t</a> { <br/>
&#160;&#160;<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daaf2ba40e19587c3a98235ee96a4acf20e">Ready</a> =  0, 
<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daa4004253e25d51b1e628bb5006dbbd153">Disconnected</a>, 
<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daa89e805c9c75c39ecc8371d5f38131227">Connecting</a>, 
<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daa5da3fa5dd98a264ecb4a37a1983ea0ff">Busy</a>, 
<br/>
&#160;&#160;<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daa8ca72085e29c5c6745294e58684e5d3c">Warning</a>, 
<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daa687598301ad573e51cafaa209da72718">Error</a>
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">State of device.  <a href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382da">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a1d185e9bb610aee16ccd9499ae7bff0d">abort</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel read and write operations.  <a href="#a1d185e9bb610aee16ccd9499ae7bff0d"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="signals"></a>
Signals</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a77ef4a432306638f5b0f91df7863ac62">newReadenFrame</a> (QByteArray data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to.  <a href="#a77ef4a432306638f5b0f91df7863ac62"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a915ff3372cccd5f412b828cc81a3381f">newReadenFrame</a> (<a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> transaction)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when new frame was readen.  <a href="#a915ff3372cccd5f412b828cc81a3381f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a7f9437d084e136d8d265dace7431395f">errorStateChanged</a> (int error, const QString &amp;message=QString(), const QString &amp;details=QString())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when error number has changed.  <a href="#a7f9437d084e136d8d265dace7431395f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a6f6c6f8a8430d8631a08c765565db9ab">statusMessageChanged</a> (const QString &amp;message, const QString &amp;details, int timeout)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when a new status message is to display.  <a href="#a6f6c6f8a8430d8631a08c765565db9ab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1c9e1848373831962b7ec83fd4fe5d35"></a><!-- doxytag: member="mdtPortManager::stateChanged" ref="a1c9e1848373831962b7ec83fd4fe5d35" args="(int newState)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a1c9e1848373831962b7ec83fd4fe5d35">stateChanged</a> (int newState)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when state has changed. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a6095719fbd3967428d48e7f57f23c56e">connecting</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Connecting event.  <a href="#a6095719fbd3967428d48e7f57f23c56e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ac6cfb9054c3b77689132dcf3a906eeb6">disconnected</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnected event.  <a href="#ac6cfb9054c3b77689132dcf3a906eeb6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#afc4e88b2ade86ac13469bc0732c95f59">ready</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Device ready event event.  <a href="#afc4e88b2ade86ac13469bc0732c95f59"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a0936c65454409ffcf64ecb0632f6dbe3">busy</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Device busy event event.  <a href="#a0936c65454409ffcf64ecb0632f6dbe3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a30fac00920ab8d760df777f917183add">handledError</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handled error event.  <a href="#a30fac00920ab8d760df777f917183add"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a75111efb0c8956ddc98a87a9aedec695">unhandledError</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Unhandled error event.  <a href="#a75111efb0c8956ddc98a87a9aedec695"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a5ec36523089b7528d973e29cdbc64d01">mdtPortManager</a> (QObject *parent=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Contruct a port manager.  <a href="#a5ec36523089b7528d973e29cdbc64d01"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#adf797f8fd7a3ffdc000890a224e4c1b6">~mdtPortManager</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#adf797f8fd7a3ffdc000890a224e4c1b6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual QList&lt; <a class="el" href="classmdt_port_info.html">mdtPortInfo</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ad56afb411ab5468005fca04767557ece">scan</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan for available ports.  <a href="#ad56afb411ab5468005fca04767557ece"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6">setPort</a> (<a class="el" href="classmdt_abstract_port.html">mdtAbstractPort</a> *port)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set port object.  <a href="#afcd156b2d0c9d340999935efb6cd8cb6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a39cb4af4aedc0b6b7c4d4f53002c3fd1">detachPort</a> (bool deletePort, bool deleteThreads)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach port.  <a href="#a39cb4af4aedc0b6b7c4d4f53002c3fd1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ab62591409d019a4a2576b4310c411b8f">addThread</a> (<a class="el" href="classmdt_port_thread.html">mdtPortThread</a> *thread)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a thread and assign it to port.  <a href="#ab62591409d019a4a2576b4310c411b8f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmdt_port_thread.html">mdtPortThread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ad9233b5156a45f2684783317d75fdf9b">readThread</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns instance of reader thread.  <a href="#ad9233b5156a45f2684783317d75fdf9b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmdt_port_thread.html">mdtPortThread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#af44b6e9876e6687b1d4fe7e05ffd5a91">writeThread</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns instance of writer thread.  <a href="#af44b6e9876e6687b1d4fe7e05ffd5a91"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#aaa0a474183bcae0fff4fb9ef43023c25">removeThreads</a> (bool releaseMemory)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach threads from port and remove threads.  <a href="#aaa0a474183bcae0fff4fb9ef43023c25"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#af1fb103ffafc227337a59c7e82f44fbc">start</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start threads.  <a href="#af1fb103ffafc227337a59c7e82f44fbc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#af460167e604b8b6e2e933a98b2b6b5a2">isRunning</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the running state.  <a href="#af460167e604b8b6e2e933a98b2b6b5a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#aacbf87cc3d9c37c87e21696f8a6514bd">stop</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop threads.  <a href="#aacbf87cc3d9c37c87e21696f8a6514bd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a2b2ed690cbba9f544c6ac1b46684e59a">setPortName</a> (const QString &amp;portName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set port name.  <a href="#a2b2ed690cbba9f544c6ac1b46684e59a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a7e2ef93ec2731e66aa2b2d5f7ce9bc1c">setPortInfo</a> (<a class="el" href="classmdt_port_info.html">mdtPortInfo</a> info)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set port info.  <a href="#a7e2ef93ec2731e66aa2b2d5f7ce9bc1c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88109b455fc5a5f5adf0636f7450143e"></a><!-- doxytag: member="mdtPortManager::portInfo" ref="a88109b455fc5a5f5adf0636f7450143e" args="()" -->
<a class="el" href="classmdt_port_info.html">mdtPortInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a88109b455fc5a5f5adf0636f7450143e">portInfo</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current port info. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af4fcab6aaad98d74aeabfc972da1d406"></a><!-- doxytag: member="mdtPortManager::portName" ref="af4fcab6aaad98d74aeabfc972da1d406" args="() const " -->
QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#af4fcab6aaad98d74aeabfc972da1d406">portName</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current port name. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmdt_port_config.html">mdtPortConfig</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a9cf3ea2da38f81682695b37448712ffd">config</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the port's config object.  <a href="#a9cf3ea2da38f81682695b37448712ffd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmdt_port_config.html">mdtPortConfig</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a735b7dc766fc2f45fb2cf9772c4201b0">config</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the port's config object.  <a href="#a735b7dc766fc2f45fb2cf9772c4201b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#aab594613e8985590c835194efbc27b5e">openPort</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the port.  <a href="#aab594613e8985590c835194efbc27b5e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ace8065f1f5083041ee7f65c2892bc77d">closePort</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the port.  <a href="#ace8065f1f5083041ee7f65c2892bc77d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a7f0bc97ad55160ea09b9079dd6d816d4">setTransactionsEnabled</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable transactions support.  <a href="#a7f0bc97ad55160ea09b9079dd6d816d4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a40f6d2a420d1ce103af207237c45901a">setTransactionsDisabled</a> (bool enqueueIncommingFrames)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Diseable transactions support.  <a href="#a40f6d2a420d1ce103af207237c45901a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a75ebd3d1859e3ed38b9558981e53aac4">getNewTransaction</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a new transaction.  <a href="#a75ebd3d1859e3ed38b9558981e53aac4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a5fea4a9b8e94d38e8ec699dba05c7ca8">restoreTransaction</a> (<a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *transaction)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore a transaction into pool.  <a href="#a5fea4a9b8e94d38e8ec699dba05c7ca8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a1ca92c5ac120d87e5b10bff54ed1aa5c">waitOnWriteReady</a> (int timeout=0, int granularity=50)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until data can be written.  <a href="#a1ca92c5ac120d87e5b10bff54ed1aa5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a8b60d53d6e553f15dedec916f9c1614b">writeData</a> (QByteArray data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data by copy.  <a href="#a8b60d53d6e553f15dedec916f9c1614b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ad87eff1f2dd54a165a78b34e30592901">waitReadenFrame</a> (int timeout=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until a complete frame is available.  <a href="#ad87eff1f2dd54a165a78b34e30592901"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a680546498a0cd486c4fc16d28f44e4c6">waitOnFrame</a> (int id, int timeout=0, int granularity=50)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait on readen frame with defined ID.  <a href="#a680546498a0cd486c4fc16d28f44e4c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QByteArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a830ae182d06dd6a52c43a7f45b9240ac">readenFrame</a> (int id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get data by frame ID.  <a href="#a830ae182d06dd6a52c43a7f45b9240ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QList&lt; QByteArray &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#addd5dcae9644cea42a9871205af41796">readenFrames</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all readen data.  <a href="#addd5dcae9644cea42a9871205af41796"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a7cb3155940e23db0122d14f21fca858d">adjustedReadTimeout</a> (int requestedTimeout, bool warn=true) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust a requested timeout to minimal timeout.  <a href="#a7cb3155940e23db0122d14f21fca858d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a9d6782be514745a1b1392216d17d41df">adjustedWriteTimeout</a> (int requestedTimeout, bool warn=true) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjust a requested timeout to minimal timeout.  <a href="#a9d6782be514745a1b1392216d17d41df"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ac0844a5cd4043a95a479d458ac7ce590">flushIn</a> (bool flushPortManagerBuffers, bool flushPortBuffers)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush input buffers.  <a href="#ac0844a5cd4043a95a479d458ac7ce590"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a4c44ce6ec40c4afc6be441c10d7ee827">flushIn</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush input buffers.  <a href="#a4c44ce6ec40c4afc6be441c10d7ee827"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a3f0c2722a41c49de2bea9013bccd049c">flushOut</a> (bool flushPortManagerBuffers, bool flushPortBuffers)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush output buffers.  <a href="#a3f0c2722a41c49de2bea9013bccd049c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ab34018a9653a5af784fa7da06a9e50d3">flushOut</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush output buffers.  <a href="#ab34018a9653a5af784fa7da06a9e50d3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a97b91e7c1641836eb6afb47fd244a18e">flush</a> (bool flushPortManagerBuffers, bool flushPortBuffers)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush I/O buffers.  <a href="#a97b91e7c1641836eb6afb47fd244a18e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a3eab774008d7530ae341ce9c38265d65">flush</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush I/O buffers.  <a href="#a3eab774008d7530ae341ce9c38265d65"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a59241d9e6b6ee71e6c1aeb3e6c0ca81a"></a><!-- doxytag: member="mdtPortManager::currentState" ref="a59241d9e6b6ee71e6c1aeb3e6c0ca81a" args="() const " -->
<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382da">state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a59241d9e6b6ee71e6c1aeb3e6c0ca81a">currentState</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current state. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#acc5c63ad33fdd3cc153fc23e00c6e69c">wait</a> (int msecs, int granularity=50)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait some time without break the GUI's event loop.  <a href="#acc5c63ad33fdd3cc153fc23e00c6e69c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-slots"></a>
Protected Slots</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a4fcc8f0699b655156e661bb3de6056cc">fromThreadNewFrameReaden</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by the read thread whenn a complete frame was readen.  <a href="#a4fcc8f0699b655156e661bb3de6056cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a7e45b8e3475e5182ed12218616664d07">onThreadsErrorOccured</a> (int error)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Manage errors comming from port threads.  <a href="#a7e45b8e3475e5182ed12218616664d07"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ae5357262f1a0d6b95cc3fc7b975cdd38">addTransaction</a> (<a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *transaction)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a transaction to pending queue.  <a href="#ae5357262f1a0d6b95cc3fc7b975cdd38"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a4b5300fbf05c2c267ca3a247ac3ab77f">addTransaction</a> (int id, bool queryReplyMode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a transaction to pending queue.  <a href="#a4b5300fbf05c2c267ca3a247ac3ab77f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a117486e5720465e1295d337063d536c2">pendingTransaction</a> (int id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get pending transaction matching id.  <a href="#a117486e5720465e1295d337063d536c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ada4b906ade973dfd45200dacbfe63f73">removeTransactionDone</a> (int id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a transaction from DONE queue and restore it to pool.  <a href="#ada4b906ade973dfd45200dacbfe63f73"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ad024a2db17ae2e6459da0adad3d7c3c8">enqueueTransactionDone</a> (<a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *transaction)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a transaction to the DONE queue.  <a href="#ad024a2db17ae2e6459da0adad3d7c3c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ab30fc99951b2b6a566422c7525106ddf">enqueueTransactionRx</a> (<a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *transaction)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a transaction to the RX queue.  <a href="#ab30fc99951b2b6a566422c7525106ddf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a84d37b380080eb26e56c68424dedd958">commitFrames</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Emit signals for each done transactions.  <a href="#a84d37b380080eb26e56c68424dedd958"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a016996e823cc729eb1f595307f3dd1cf">cancelReadWait</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the wait cancel flag.  <a href="#a016996e823cc729eb1f595307f3dd1cf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a83ade128d6e70f7216355e9df840c2a6">readWaitCanceled</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the wait cancel flag.  <a href="#a83ade128d6e70f7216355e9df840c2a6"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af856162aab4f1c5202c1dfb330fae538"></a><!-- doxytag: member="mdtPortManager::pvPort" ref="af856162aab4f1c5202c1dfb330fae538" args="" -->
<a class="el" href="classmdt_abstract_port.html">mdtAbstractPort</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>pvPort</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e0d49b789f8b01d469e84b487799573"></a><!-- doxytag: member="mdtPortManager::pvThreads" ref="a8e0d49b789f8b01d469e84b487799573" args="" -->
QList&lt; <a class="el" href="classmdt_port_thread.html">mdtPortThread</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>pvThreads</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Port manager base class. </p>
<p>Manages a port based on <a class="el" href="classmdt_abstract_port.html" title="Base class for port I/O.">mdtAbstractPort</a> an several threads based on <a class="el" href="classmdt_port_thread.html">mdtPortThread</a>. The goal is to hide the complexity of the port API.</p>
<p>Example: </p>
<div class="fragment"><pre class="fragment"> <a class="code" href="classmdt_port_manager.html" title="Port manager base class.">mdtPortManager</a> m;
 <a class="code" href="classmdt_port.html">mdtPort</a> *port;
 <a class="code" href="classmdt_port_config.html">mdtPortConfig</a> *<a class="code" href="classmdt_port_manager.html#a9cf3ea2da38f81682695b37448712ffd" title="Get the port&#39;s config object.">config</a>;
 QList&lt;QByteArray&gt; responses;

 <span class="comment">// Setup</span>
 config = <span class="keyword">new</span> <a class="code" href="classmdt_port_config.html">mdtPortConfig</a>;
 config-&gt;<a class="code" href="classmdt_port_config.html#a627adcb87d26757238f844db19fc248d" title="Set frame type.">setFrameType</a>(<a class="code" href="classmdt_frame.html#af936e37d5fe4c066c0fb0161fafd4a17ac649559564652abbe656b97d4a84b722">mdtFrame::FT_ASCII</a>);
 config-&gt;<a class="code" href="classmdt_port_config.html#a3c5e1c444a18da7d68430bd1c14030f4" title="Set the end of frame sequence (applies on ASCII frames)">setEndOfFrameSeq</a>(<span class="stringliteral">&quot;$&quot;</span>);

 <span class="comment">// Init port</span>
 port = <span class="keyword">new</span> <a class="code" href="classmdt_port.html">mdtPort</a>;
 port-&gt;<a class="code" href="classmdt_abstract_port.html#a48bdc0a8057c3b119763643098cf798f" title="Set configuration.">setConfig</a>(config);

 <span class="comment">// Init port manager - We wand blocking mode</span>
 m.<a class="code" href="classmdt_port_manager.html#a40f6d2a420d1ce103af207237c45901a" title="Diseable transactions support.">setTransactionsDisabled</a>(<span class="keyword">true</span>);
 m.<a class="code" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort</a>(port);
 m.<a class="code" href="classmdt_port_manager.html#ab62591409d019a4a2576b4310c411b8f" title="Add a thread and assign it to port.">addThread</a>(mew <a class="code" href="classmdt_port_write_thread.html">mdtPortWriteThread</a>);
 m.<a class="code" href="classmdt_port_manager.html#ab62591409d019a4a2576b4310c411b8f" title="Add a thread and assign it to port.">addThread</a>(mew <a class="code" href="classmdt_port_read_thread.html" title="Reader thread for port I/O.">mdtPortReadThread</a>);
 m.<a class="code" href="classmdt_port_manager.html#a2b2ed690cbba9f544c6ac1b46684e59a" title="Set port name.">setPortName</a>(<span class="stringliteral">&quot;/dev/xyz&quot;</span>));
 <span class="keywordflow">if</span>(!m.<a class="code" href="classmdt_port_manager.html#aab594613e8985590c835194efbc27b5e" title="Open the port.">openPort</a>()){
  <span class="comment">// Handle error</span>
 }

 <span class="comment">// Start threads</span>
 <span class="keywordflow">if</span>(!m.<a class="code" href="classmdt_port_manager.html#af1fb103ffafc227337a59c7e82f44fbc" title="Start threads.">start</a>()){
  <span class="comment">// Handle error</span>
 }

 <span class="comment">// Send some data</span>
 <span class="keywordflow">if</span>(!m.<a class="code" href="classmdt_port_manager.html#a8b60d53d6e553f15dedec916f9c1614b" title="Write data by copy.">writeData</a>(<span class="stringliteral">&quot;Test$&quot;</span>)){
  <span class="comment">// Handle error</span>
 }

 <span class="comment">// Wait on answer - Timout: 1500 [ms]</span>
 <span class="keywordflow">if</span>(!m.<a class="code" href="classmdt_port_manager.html#ad87eff1f2dd54a165a78b34e30592901" title="Wait until a complete frame is available.">waitReadenFrame</a>(1500)){
  <span class="comment">// Timout , handle error</span>
 }

 <span class="comment">// Do something with received data</span>
 responses = m.<a class="code" href="classmdt_port_manager.html#addd5dcae9644cea42a9871205af41796" title="Get all readen data.">readenFrames</a>();
 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;responses.size(); i++){
  qDebug() &lt;&lt; responses.at(i);
 }

 <span class="comment">// Cleanup - detachPort() will delete port and threads objects</span>
 m.<a class="code" href="classmdt_port_manager.html#a39cb4af4aedc0b6b7c4d4f53002c3fd1" title="Detach port.">detachPort</a>(<span class="keyword">true</span>, <span class="keyword">true</span>);
 <span class="keyword">delete</span> <a class="code" href="classmdt_port_manager.html#a9cf3ea2da38f81682695b37448712ffd" title="Get the port&#39;s config object.">config</a>;
</pre></div><p>A (recommended) alternative is to disable frames enqueuing and use the <a class="el" href="classmdt_port_manager.html#a77ef4a432306638f5b0f91df7863ac62" title="Try to.">newReadenFrame(QByteArray)</a> signal.</p>
<ul>
<li>Disable enqueuing with setTransactionsDisabled(false)</li>
<li>Connect <a class="el" href="classmdt_port_manager.html#a77ef4a432306638f5b0f91df7863ac62" title="Try to.">newReadenFrame(QByteArray)</a> to a slot </li>
</ul>

<p>Definition at line <a class="el" href="mdt_port_manager_8h_source.html#l00104">104</a> of file <a class="el" href="mdt_port_manager_8h_source.html">mdtPortManager.h</a>.</p>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a9448339d7f08ca5e18b904df25b382da"></a><!-- doxytag: member="mdtPortManager::state_t" ref="a9448339d7f08ca5e18b904df25b382da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382da">mdtPortManager::state_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>State of device. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daaf2ba40e19587c3a98235ee96a4acf20e"></a><!-- doxytag: member="Ready" ref="a9448339d7f08ca5e18b904df25b382daaf2ba40e19587c3a98235ee96a4acf20e" args="" -->Ready</em>&nbsp;</td><td>
<p>Port is open, setup is done and threads are running. Depending on port type, device is connected (USB, TCP). </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daa4004253e25d51b1e628bb5006dbbd153"></a><!-- doxytag: member="Disconnected" ref="a9448339d7f08ca5e18b904df25b382daa4004253e25d51b1e628bb5006dbbd153" args="" -->Disconnected</em>&nbsp;</td><td>
<p>Device is not connected or port is down </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daa89e805c9c75c39ecc8371d5f38131227"></a><!-- doxytag: member="Connecting" ref="a9448339d7f08ca5e18b904df25b382daa89e805c9c75c39ecc8371d5f38131227" args="" -->Connecting</em>&nbsp;</td><td>
<p>Trying to connect to device </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daa5da3fa5dd98a264ecb4a37a1983ea0ff"></a><!-- doxytag: member="Busy" ref="a9448339d7f08ca5e18b904df25b382daa5da3fa5dd98a264ecb4a37a1983ea0ff" args="" -->Busy</em>&nbsp;</td><td>
<p>Port is up and device is connected but cannot accept requests for the moment </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daa8ca72085e29c5c6745294e58684e5d3c"></a><!-- doxytag: member="Warning" ref="a9448339d7f08ca5e18b904df25b382daa8ca72085e29c5c6745294e58684e5d3c" args="" -->Warning</em>&nbsp;</td><td>
<p>Device or port communication handled error occured </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daa687598301ad573e51cafaa209da72718"></a><!-- doxytag: member="Error" ref="a9448339d7f08ca5e18b904df25b382daa687598301ad573e51cafaa209da72718" args="" -->Error</em>&nbsp;</td><td>
<p>Device or port communication unhandled error occured </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8h_source.html#l00112">112</a> of file <a class="el" href="mdt_port_manager_8h_source.html">mdtPortManager.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5ec36523089b7528d973e29cdbc64d01"></a><!-- doxytag: member="mdtPortManager::mdtPortManager" ref="a5ec36523089b7528d973e29cdbc64d01" args="(QObject *parent=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mdtPortManager::mdtPortManager </td>
          <td>(</td>
          <td class="paramtype">QObject *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Contruct a port manager. </p>
<p>Transaction will be set disabled. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00030">30</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="adf797f8fd7a3ffdc000890a224e4c1b6"></a><!-- doxytag: member="mdtPortManager::~mdtPortManager" ref="adf797f8fd7a3ffdc000890a224e4c1b6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mdtPortManager::~mdtPortManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>
<p>If a port was set, the manager will stop (if running), and port will be closed (if open).</p>
<p>Note that port set by <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> and threads are not deleted. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00046">46</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a1d185e9bb610aee16ccd9499ae7bff0d"></a><!-- doxytag: member="mdtPortManager::abort" ref="a1d185e9bb610aee16ccd9499ae7bff0d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::abort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cancel read and write operations. </p>
<p>Default implementation calls <a class="el" href="classmdt_abstract_port.html#abde440c49b95833f821e1333c40a7398" title="Flush read/write buffers.">mdtAbstractPort::flush()</a>. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00689">689</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab62591409d019a4a2576b4310c411b8f"></a><!-- doxytag: member="mdtPortManager::addThread" ref="ab62591409d019a4a2576b4310c411b8f" args="(mdtPortThread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::addThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_port_thread.html">mdtPortThread</a> *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a thread and assign it to port. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with setPort before using this method </dd>
<dd>
Manager must no running </dd>
<dd>
thread must be a valid pointer </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00103">103</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae5357262f1a0d6b95cc3fc7b975cdd38"></a><!-- doxytag: member="mdtPortManager::addTransaction" ref="ae5357262f1a0d6b95cc3fc7b975cdd38" args="(mdtPortTransaction *transaction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::addTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a transaction to pending queue. </p>
<p>Add a existing transaction to the pending queue. A transaction can be requested with <a class="el" href="classmdt_port_manager.html#a75ebd3d1859e3ed38b9558981e53aac4" title="Get a new transaction.">getNewTransaction()</a>.</p>
<p>If id and queryReplyMode are sufficient, see addTransaction(id, bool).</p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>transaction must be a valid pointer. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00696">696</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4b5300fbf05c2c267ca3a247ac3ab77f"></a><!-- doxytag: member="mdtPortManager::addTransaction" ref="a4b5300fbf05c2c267ca3a247ac3ab77f" args="(int id, bool queryReplyMode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::addTransaction </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>queryReplyMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a transaction to pending queue. </p>
<p>Will get a new transaction and add it to pending transactions queue.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Frame ID (f.ex. transaction ID in MODBUS/TCP, bTag in USBTMC) </td></tr>
    <tr><td class="paramname">queryReplyMode</td><td>If true, transaction will be keeped in transactions done queue until <a class="el" href="classmdt_port_manager.html#a830ae182d06dd6a52c43a7f45b9240ac" title="Get data by frame ID.">readenFrame()</a> or <a class="el" href="classmdt_port_manager.html#addd5dcae9644cea42a9871205af41796" title="Get all readen data.">readenFrames()</a> is called. If false, transaction will be removed from transactions done queue just after <a class="el" href="classmdt_port_manager.html#a915ff3372cccd5f412b828cc81a3381f" title="Emitted when new frame was readen.">newReadenFrame(mdtPortTransaction)</a> is emited. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00712">712</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7cb3155940e23db0122d14f21fca858d"></a><!-- doxytag: member="mdtPortManager::adjustedReadTimeout" ref="a7cb3155940e23db0122d14f21fca858d" args="(int requestedTimeout, bool warn=true) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdtPortManager::adjustedReadTimeout </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>requestedTimeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>warn</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adjust a requested timeout to minimal timeout. </p>
<p>We have 2 different timeouts:</p>
<ul>
<li>Port timeout: If data are expected on the port, and nothing comes in, a port timeout occurs.</li>
<li>Response (or complete frame) timeout: Timeout to receive a complete frame</li>
</ul>
<p>For example, we expect a complete frame of, say, 200 Bytes. The device will send , f.ex. , 20 x 10 Bytes. During the read process, a port timeout can occur (device busy, or something else). If read process works fine, all data can be readen in a time less than port timeout.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">requestedTimeout</td><td>Requested timeout [ms] </td></tr>
    <tr><td class="paramname">warn</td><td>If true, a warning will be logged if requested timeout is to small. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Requested timeout or port's timeout + offset (offset is currently hardcoded: 1000 [ms]) </dd></dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> and contain a valid configuration. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00542">542</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9d6782be514745a1b1392216d17d41df"></a><!-- doxytag: member="mdtPortManager::adjustedWriteTimeout" ref="a9d6782be514745a1b1392216d17d41df" args="(int requestedTimeout, bool warn=true) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdtPortManager::adjustedWriteTimeout </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>requestedTimeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>warn</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adjust a requested timeout to minimal timeout. </p>
<p>See <a class="el" href="classmdt_port_manager.html#a7cb3155940e23db0122d14f21fca858d" title="Adjust a requested timeout to minimal timeout.">adjustedReadTimeout()</a> for details.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">requestedTimeout</td><td>Requested timeout [ms] </td></tr>
    <tr><td class="paramname">warn</td><td>If true, a warning will be logged if requested timeout is to small. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Requested timeout or port's timeout + offset (offset is currently hardcoded: 1000 [ms]) </dd></dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> and contain a valid configuration. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00571">571</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0936c65454409ffcf64ecb0632f6dbe3"></a><!-- doxytag: member="mdtPortManager::busy" ref="a0936c65454409ffcf64ecb0632f6dbe3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::busy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Device busy event event. </p>
<p>Used by internal state machine </p>

</div>
</div>
<a class="anchor" id="a016996e823cc729eb1f595307f3dd1cf"></a><!-- doxytag: member="mdtPortManager::cancelReadWait" ref="a016996e823cc729eb1f595307f3dd1cf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::cancelReadWait </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the wait cancel flag. </p>
<p>If flag is set, <a class="el" href="classmdt_port_manager.html#a680546498a0cd486c4fc16d28f44e4c6" title="Wait on readen frame with defined ID.">waitOnFrame()</a>, <a class="el" href="classmdt_port_manager.html#ad87eff1f2dd54a165a78b34e30592901" title="Wait until a complete frame is available.">waitReadenFrame()</a> will return.</p>
<p>Note: this will not cancel anything in port or port threads. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00806">806</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ace8065f1f5083041ee7f65c2892bc77d"></a><!-- doxytag: member="mdtPortManager::closePort" ref="ace8065f1f5083041ee7f65c2892bc77d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::closePort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Close the port. </p>
<p>This stops the threads (if exists) and close the port.</p>
<p>If port was never set (with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> ), this method does nothing. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00259">259</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a84d37b380080eb26e56c68424dedd958"></a><!-- doxytag: member="mdtPortManager::commitFrames" ref="a84d37b380080eb26e56c68424dedd958" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::commitFrames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Emit signals for each done transactions. </p>
<p>The emited signals depend on setup ....</p>
<p>Internally, transactions are restored to pool.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000028">Todo:</a></b></dt><dd>Clarify + implement </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00757">757</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a735b7dc766fc2f45fb2cf9772c4201b0"></a><!-- doxytag: member="mdtPortManager::config" ref="a735b7dc766fc2f45fb2cf9772c4201b0" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_port_config.html">mdtPortConfig</a> &amp; mdtPortManager::config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the port's config object. </p>
<p>Usefull to read internal port configuration</p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before use of this method. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00239">239</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9cf3ea2da38f81682695b37448712ffd"></a><!-- doxytag: member="mdtPortManager::config" ref="a9cf3ea2da38f81682695b37448712ffd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_port_config.html">mdtPortConfig</a> &amp; mdtPortManager::config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the port's config object. </p>
<p>Usefull to alter internal port configuration</p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before use of this method. </dd></dl>

<p>Reimplemented in <a class="el" href="classmdt_serial_port_manager.html#a4b8ab7b9d53966a1887d9ce8557b8416">mdtSerialPortManager</a>.</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00232">232</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6095719fbd3967428d48e7f57f23c56e"></a><!-- doxytag: member="mdtPortManager::connecting" ref="a6095719fbd3967428d48e7f57f23c56e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::connecting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Connecting event. </p>
<p>Used by internal state machine </p>

</div>
</div>
<a class="anchor" id="a39cb4af4aedc0b6b7c4d4f53002c3fd1"></a><!-- doxytag: member="mdtPortManager::detachPort" ref="a39cb4af4aedc0b6b7c4d4f53002c3fd1" args="(bool deletePort, bool deleteThreads)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::detachPort </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>deletePort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>deleteThreads</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Detach port. </p>
<p>Will detach port from each thread and from port manager. If port was not set, this method does nothing. If manager is running, it will be stopped. If port is open, it will be closed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">deletePort</td><td>If true, the port object that was set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> will be deleted. </td></tr>
    <tr><td class="paramname">deleteThreads</td><td>If true, each thread added with <a class="el" href="classmdt_port_manager.html#ab62591409d019a4a2576b4310c411b8f" title="Add a thread and assign it to port.">addThread()</a> will be deleted. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00080">80</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac6cfb9054c3b77689132dcf3a906eeb6"></a><!-- doxytag: member="mdtPortManager::disconnected" ref="ac6cfb9054c3b77689132dcf3a906eeb6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::disconnected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disconnected event. </p>
<p>Used by internal state machine </p>

</div>
</div>
<a class="anchor" id="ad024a2db17ae2e6459da0adad3d7c3c8"></a><!-- doxytag: member="mdtPortManager::enqueueTransactionDone" ref="ad024a2db17ae2e6459da0adad3d7c3c8" args="(mdtPortTransaction *transaction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::enqueueTransactionDone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a transaction to the DONE queue. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>transaction must be a valid pointer. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00740">740</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab30fc99951b2b6a566422c7525106ddf"></a><!-- doxytag: member="mdtPortManager::enqueueTransactionRx" ref="ab30fc99951b2b6a566422c7525106ddf" args="(mdtPortTransaction *transaction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::enqueueTransactionRx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a transaction to the RX queue. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>transaction must be a valid pointer. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00748">748</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7f9437d084e136d8d265dace7431395f"></a><!-- doxytag: member="mdtPortManager::errorStateChanged" ref="a7f9437d084e136d8d265dace7431395f" args="(int error, const QString &amp;message=QString(), const QString &amp;details=QString())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::errorStateChanged </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>message</em> = <code>QString()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>details</em> = <code>QString()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Emitted when error number has changed. </p>
<p>The error is one of the <a class="el" href="classmdt_abstract_port.html#ad4121bb930c95887e77f8bafa065a85e" title="Error.">mdtAbstractPort::error_t</a>. </p>

</div>
</div>
<a class="anchor" id="a97b91e7c1641836eb6afb47fd244a18e"></a><!-- doxytag: member="mdtPortManager::flush" ref="a97b91e7c1641836eb6afb47fd244a18e" args="(bool flushPortManagerBuffers, bool flushPortBuffers)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::flush </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flushPortManagerBuffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flushPortBuffers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flush I/O buffers. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">flushPortManagerBuffers</td><td>If true, port manager buffers will be cleared. (Has no effect in this implementation, but some subclass can have output buffers). </td></tr>
    <tr><td class="paramname">flushPortBuffers</td><td>If true, port's buffers will be cleared. </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before calling this method. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00668">668</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3eab774008d7530ae341ce9c38265d65"></a><!-- doxytag: member="mdtPortManager::flush" ref="a3eab774008d7530ae341ce9c38265d65" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flush I/O buffers. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before calling this method. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00679">679</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac0844a5cd4043a95a479d458ac7ce590"></a><!-- doxytag: member="mdtPortManager::flushIn" ref="ac0844a5cd4043a95a479d458ac7ce590" args="(bool flushPortManagerBuffers, bool flushPortBuffers)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::flushIn </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flushPortManagerBuffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flushPortBuffers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flush input buffers. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">flushPortManagerBuffers</td><td>If true, port manager buffers will be cleared. </td></tr>
    <tr><td class="paramname">flushPortBuffers</td><td>If true, port's buffers will be cleared. </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before calling this method. </dd></dl>

<p>Reimplemented in <a class="el" href="classmdt_usb_port_manager.html#a982256ed17db155e1c95d544683a6dba">mdtUsbPortManager</a>.</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00613">613</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4c44ce6ec40c4afc6be441c10d7ee827"></a><!-- doxytag: member="mdtPortManager::flushIn" ref="a4c44ce6ec40c4afc6be441c10d7ee827" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::flushIn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flush input buffers. </p>
<p>Will flush portmanger and port's buffers.</p>
<p>Internally, <a class="el" href="classmdt_port_manager.html#ac0844a5cd4043a95a479d458ac7ce590" title="Flush input buffers.">flushIn(bool, bool)</a> is called. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00651">651</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3f0c2722a41c49de2bea9013bccd049c"></a><!-- doxytag: member="mdtPortManager::flushOut" ref="a3f0c2722a41c49de2bea9013bccd049c" args="(bool flushPortManagerBuffers, bool flushPortBuffers)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::flushOut </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flushPortManagerBuffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flushPortBuffers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flush output buffers. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">flushPortManagerBuffers</td><td>If true, port manager buffers will be cleared. (Has no effect in this implementation, but some subclass can have output buffers). </td></tr>
    <tr><td class="paramname">flushPortBuffers</td><td>If true, port's buffers will be cleared. </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before calling this method. </dd></dl>

<p>Reimplemented in <a class="el" href="classmdt_usb_port_manager.html#ab723086376175c40635df44adf358985">mdtUsbPortManager</a>.</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00656">656</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab34018a9653a5af784fa7da06a9e50d3"></a><!-- doxytag: member="mdtPortManager::flushOut" ref="ab34018a9653a5af784fa7da06a9e50d3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::flushOut </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flush output buffers. </p>
<p>Will flush portmanger and port's buffers.</p>
<p>Internally, <a class="el" href="classmdt_port_manager.html#a3f0c2722a41c49de2bea9013bccd049c" title="Flush output buffers.">flushOut(bool, bool)</a> is called. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00663">663</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4fcc8f0699b655156e661bb3de6056cc"></a><!-- doxytag: member="mdtPortManager::fromThreadNewFrameReaden" ref="a4fcc8f0699b655156e661bb3de6056cc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::fromThreadNewFrameReaden </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called by the read thread whenn a complete frame was readen. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classmdt_port_thread.html">mdtPortThread</a> </dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000024">Todo:</a></b></dt><dd>Error on incomplete frame </dd></dl>
</p>

<p>Reimplemented in <a class="el" href="classmdt_modbus_tcp_port_manager.html#ad941ea607f00db54aa6deb2866a539e9">mdtModbusTcpPortManager</a>, and <a class="el" href="classmdt_usbtmc_port_manager.html#aca42b343ae1f6a324e6e45968f03bbea">mdtUsbtmcPortManager</a>.</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00820">820</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a75ebd3d1859e3ed38b9558981e53aac4"></a><!-- doxytag: member="mdtPortManager::getNewTransaction" ref="a75ebd3d1859e3ed38b9558981e53aac4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> * mdtPortManager::getNewTransaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a new transaction. </p>
<p>If transactions pool is empty, a new transaction is created. Note that each transaction should be put back in pool with <a class="el" href="classmdt_port_manager.html#a5fea4a9b8e94d38e8ec699dba05c7ca8" title="Restore a transaction into pool.">restoreTransaction()</a>. In most cases, if a method that uses transactions fails, the transaction must be restored with <a class="el" href="classmdt_port_manager.html#a5fea4a9b8e94d38e8ec699dba05c7ca8" title="Restore a transaction into pool.">restoreTransaction()</a>.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A empty transaction (<a class="el" href="classmdt_port_transaction.html#a5f7b04df58291d52e61c5bd1b7f7bb7f" title="Clear transaction.">mdtPortTransaction::clear()</a> is called internally).</dd></dl>
<dl class="post"><dt><b>Postcondition:</b></dt><dd>Returned transaction is valid (never Null). </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00289">289</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a30fac00920ab8d760df777f917183add"></a><!-- doxytag: member="mdtPortManager::handledError" ref="a30fac00920ab8d760df777f917183add" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::handledError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handled error event. </p>
<p>Used by internal state machine </p>

</div>
</div>
<a class="anchor" id="af460167e604b8b6e2e933a98b2b6b5a2"></a><!-- doxytag: member="mdtPortManager::isRunning" ref="af460167e604b8b6e2e933a98b2b6b5a2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::isRunning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the running state. </p>
<p>If one of the threads is running, true is returned.</p>
<p>If port was not set, it returns false. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00173">173</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a915ff3372cccd5f412b828cc81a3381f"></a><!-- doxytag: member="mdtPortManager::newReadenFrame" ref="a915ff3372cccd5f412b828cc81a3381f" args="(mdtPortTransaction transaction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::newReadenFrame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a>&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Emitted when new frame was readen. </p>
<p>This variant is sent when transactions support is ON. (See <a class="el" href="classmdt_port_manager.html#a40f6d2a420d1ce103af207237c45901a" title="Diseable transactions support.">setTransactionsDisabled()</a> for details). </p>

</div>
</div>
<a class="anchor" id="a77ef4a432306638f5b0f91df7863ac62"></a><!-- doxytag: member="mdtPortManager::newReadenFrame" ref="a77ef4a432306638f5b0f91df7863ac62" args="(QByteArray data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::newReadenFrame </td>
          <td>(</td>
          <td class="paramtype">QByteArray&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Try to. </p>
<p>Emitted when new frame was readen</p>
<p>This variant is sent when transactions support is OFF. (See <a class="el" href="classmdt_port_manager.html#a40f6d2a420d1ce103af207237c45901a" title="Diseable transactions support.">setTransactionsDisabled()</a> for details). </p>

</div>
</div>
<a class="anchor" id="a7e45b8e3475e5182ed12218616664d07"></a><!-- doxytag: member="mdtPortManager::onThreadsErrorOccured" ref="a7e45b8e3475e5182ed12218616664d07" args="(int error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::onThreadsErrorOccured </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td><code> [protected, virtual, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Manage errors comming from port threads. </p>
<p>This implementation simply change the current state emiting transistions signal. Subclass can reimplement this method to handle port specific error. Dont forget to emit transistion signals.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000025">Todo:</a></b></dt><dd>On disconnect, should flush I/O ? </dd></dl>

<p><p>emit(errorStateChanged(error)); </p>
</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00847">847</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aab594613e8985590c835194efbc27b5e"></a><!-- doxytag: member="mdtPortManager::openPort" ref="aab594613e8985590c835194efbc27b5e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::openPort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open the port. </p>
<p>Will try to open port defined with <a class="el" href="classmdt_port_manager.html#a2b2ed690cbba9f544c6ac1b46684e59a" title="Set port name.">setPortName()</a>.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True on success, false else. </dd></dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before use of this method. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000026">Todo:</a></b></dt><dd>Should return <a class="el" href="classmdt_abstract_port.html#ad4121bb930c95887e77f8bafa065a85e" title="Error.">mdtAbstractPort::error_t</a> </dd></dl>

<p>Reimplemented in <a class="el" href="classmdt_usb_port_manager.html#a7e7e6a29c2cf8d1d6bee23dd3f69d829">mdtUsbPortManager</a>.</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00246">246</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a117486e5720465e1295d337063d536c2"></a><!-- doxytag: member="mdtPortManager::pendingTransaction" ref="a117486e5720465e1295d337063d536c2" args="(int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> * mdtPortManager::pendingTransaction </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get pending transaction matching id. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A valid transaction if exists, else a Null pointer. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00724">724</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a830ae182d06dd6a52c43a7f45b9240ac"></a><!-- doxytag: member="mdtPortManager::readenFrame" ref="a830ae182d06dd6a52c43a7f45b9240ac" args="(int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QByteArray mdtPortManager::readenFrame </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get data by frame ID. </p>
<p>The frame ID is a protocol specific identification. F.ex. in MODBUS/TCP, the transaction ID is used, or bTag for USBTMC.</p>
<p>If found, the frame is removed from received queue. (A second call with same ID will return a empty QByteArray).</p>
<p>If ID was not found, a empty QByteArray is returned.</p>
<p>Note: if transactions support is diseabled, a empty QByteArray is allways returned. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00504">504</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="addd5dcae9644cea42a9871205af41796"></a><!-- doxytag: member="mdtPortManager::readenFrames" ref="addd5dcae9644cea42a9871205af41796" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt; QByteArray &gt; mdtPortManager::readenFrames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get all readen data. </p>
<p>Note that calling this methode will clear the internal queue. (A second call will return a empty list). </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00517">517</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad9233b5156a45f2684783317d75fdf9b"></a><!-- doxytag: member="mdtPortManager::readThread" ref="ad9233b5156a45f2684783317d75fdf9b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_port_thread.html">mdtPortThread</a> * mdtPortManager::readThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns instance of reader thread. </p>
<p>Note that a Null pointer can be returned </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00123">123</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a83ade128d6e70f7216355e9df840c2a6"></a><!-- doxytag: member="mdtPortManager::readWaitCanceled" ref="a83ade128d6e70f7216355e9df840c2a6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::readWaitCanceled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the wait cancel flag. </p>
<p>After a call, the flag will be reset. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00811">811</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="afc4e88b2ade86ac13469bc0732c95f59"></a><!-- doxytag: member="mdtPortManager::ready" ref="afc4e88b2ade86ac13469bc0732c95f59" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::ready </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Device ready event event. </p>
<p>Used by internal state machine </p>

</div>
</div>
<a class="anchor" id="aaa0a474183bcae0fff4fb9ef43023c25"></a><!-- doxytag: member="mdtPortManager::removeThreads" ref="aaa0a474183bcae0fff4fb9ef43023c25" args="(bool releaseMemory)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::removeThreads </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>releaseMemory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Detach threads from port and remove threads. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">releaseMemory</td><td>If true, all threads are deleted </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port manager must not running. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00133">133</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ada4b906ade973dfd45200dacbfe63f73"></a><!-- doxytag: member="mdtPortManager::removeTransactionDone" ref="ada4b906ade973dfd45200dacbfe63f73" args="(int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::removeTransactionDone </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove a transaction from DONE queue and restore it to pool. </p>
<p>If transaction not exists in DONE queue, this method simply makes nothing. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00730">730</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5fea4a9b8e94d38e8ec699dba05c7ca8"></a><!-- doxytag: member="mdtPortManager::restoreTransaction" ref="a5fea4a9b8e94d38e8ec699dba05c7ca8" args="(mdtPortTransaction *transaction)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::restoreTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Restore a transaction into pool. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>transaction must be a valid pointer (not Null) </dd>
<dd>
One transaction must be commited once (avoid corrupted double free) </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00312">312</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad56afb411ab5468005fca04767557ece"></a><!-- doxytag: member="mdtPortManager::scan" ref="ad56afb411ab5468005fca04767557ece" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt; <a class="el" href="classmdt_port_info.html">mdtPortInfo</a> * &gt; mdtPortManager::scan </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Scan for available ports. </p>
<p>This method is implemented is port's specific subclass. Default implementation returns a empty list.</p>
<p>Note that returned list must be freed by user after usage. (for.ex. with qDeletAll() and QList::clear() ).</p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Manager must no running </dd></dl>

<p>Reimplemented in <a class="el" href="classmdt_usb_port_manager.html#a3a2370c3a2d0353a880bf9b777728c3b">mdtUsbPortManager</a>, <a class="el" href="classmdt_usbtmc_port_manager.html#a992d1227810186d3c7dc166452e2e3b6">mdtUsbtmcPortManager</a>, and <a class="el" href="classmdt_serial_port_manager.html#a791572f869d1d605d0c4658ca4187260">mdtSerialPortManager</a>.</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00065">65</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="afcd156b2d0c9d340999935efb6cd8cb6"></a><!-- doxytag: member="mdtPortManager::setPort" ref="afcd156b2d0c9d340999935efb6cd8cb6" args="(mdtAbstractPort *port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::setPort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_abstract_port.html">mdtAbstractPort</a> *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set port object. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>port must be a valid pointer to the expected class instance (for ex: <a class="el" href="classmdt_serial_port.html">mdtSerialPort</a>). </dd>
<dd>
Manager must no running </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00072">72</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7e2ef93ec2731e66aa2b2d5f7ce9bc1c"></a><!-- doxytag: member="mdtPortManager::setPortInfo" ref="a7e2ef93ec2731e66aa2b2d5f7ce9bc1c" args="(mdtPortInfo info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::setPortInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_port_info.html">mdtPortInfo</a>&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set port info. </p>
<p>Store given port info, and call <a class="el" href="classmdt_port_manager.html#a2b2ed690cbba9f544c6ac1b46684e59a" title="Set port name.">setPortName()</a> with port info's stored port name (see <a class="el" href="classmdt_port_info.html#ad456aac33dccc9b0583ed8aa4796cdf0" title="Get the port name.">mdtPortInfo::portName()</a> ).</p>
<p>Setting a port info can be usefull if other informations are needed later in application (f.ex. <a class="el" href="classmdt_port_info.html#a38bcac67372782228a91d8e7dbf49211" title="Get the display text.">mdtPortInfo::displayText()</a> ). You can get port informations later with <a class="el" href="classmdt_port_manager.html#a88109b455fc5a5f5adf0636f7450143e" title="Get current port info.">portInfo()</a>. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00215">215</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2b2ed690cbba9f544c6ac1b46684e59a"></a><!-- doxytag: member="mdtPortManager::setPortName" ref="a2b2ed690cbba9f544c6ac1b46684e59a" args="(const QString &amp;portName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::setPortName </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>portName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set port name. </p>
<p>Set the port name to internally port object. Does nothing else. To open the port, use <a class="el" href="classmdt_port_manager.html#aab594613e8985590c835194efbc27b5e" title="Open the port.">openPort()</a>.</p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set before with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classmdt_abstract_port.html" title="Base class for port I/O.">mdtAbstractPort</a> </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00208">208</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a40f6d2a420d1ce103af207237c45901a"></a><!-- doxytag: member="mdtPortManager::setTransactionsDisabled" ref="a40f6d2a420d1ce103af207237c45901a" args="(bool enqueueIncommingFrames)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::setTransactionsDisabled </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enqueueIncommingFrames</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Diseable transactions support. </p>
<p>See <a class="el" href="classmdt_port_manager.html#a7f0bc97ad55160ea09b9079dd6d816d4" title="Enable transactions support.">setTransactionsEnabled()</a> for details about transactions.</p>
<p>If transactions are disabled, it's only possible to choose once if blocking mode is supported. Each time a frame comes in, the newReadenFrame(int, QByteArray) signal is emited.</p>
<p>In this mode, <a class="el" href="classmdt_port_manager.html#a680546498a0cd486c4fc16d28f44e4c6" title="Wait on readen frame with defined ID.">waitOnFrame()</a> will allways timeout.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">enqueueIncommingFrames</td><td>If true, each incomming frame is enqueued (usefull for blocking mode). Note: if true, don't forget to take each frame with <a class="el" href="classmdt_port_manager.html#a830ae182d06dd6a52c43a7f45b9240ac" title="Get data by frame ID.">readenFrame()</a> or <a class="el" href="classmdt_port_manager.html#addd5dcae9644cea42a9871205af41796" title="Get all readen data.">readenFrames()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port manager must not running when this method is called. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00281">281</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7f0bc97ad55160ea09b9079dd6d816d4"></a><!-- doxytag: member="mdtPortManager::setTransactionsEnabled" ref="a7f0bc97ad55160ea09b9079dd6d816d4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::setTransactionsEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable transactions support. </p>
<p>Transaction is usefull for protocols wich supports frame identification (like transaction ID in MODBUS/TCP or bTag in USBTMC).</p>
<p>If transaction support is enabled, port manager can work on both event (signal) and blocking mode "on the fly". Each time a frame comes in, the <a class="el" href="classmdt_port_manager.html#a915ff3372cccd5f412b828cc81a3381f" title="Emitted when new frame was readen.">newReadenFrame(mdtPortTransaction)</a> signal is emited. Optionnaly, it's possible to request that a frame must be enqueued for a given transaction (regarding a specific ID), witch is requierd for blocking mode (see <a class="el" href="classmdt_port_manager.html#a680546498a0cd486c4fc16d28f44e4c6" title="Wait on readen frame with defined ID.">waitOnFrame()</a> ).</p>
<p>Note that not all port manager support transactions. For example, this default implementation cannot work with transactions. By default, they are disabled, and no frame is enqueued (see <a class="el" href="classmdt_port_manager.html#a40f6d2a420d1ce103af207237c45901a" title="Diseable transactions support.">setTransactionsDisabled()</a>). See specific subclass for details.</p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port manager must not running when this method is called. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00273">273</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af1fb103ffafc227337a59c7e82f44fbc"></a><!-- doxytag: member="mdtPortManager::start" ref="af1fb103ffafc227337a59c7e82f44fbc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start threads. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before use of this method. </dd>
<dd>
Port must be open with <a class="el" href="classmdt_port_manager.html#aab594613e8985590c835194efbc27b5e" title="Open the port.">openPort()</a> before using this method </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00155">155</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6f6c6f8a8430d8631a08c765565db9ab"></a><!-- doxytag: member="mdtPortManager::statusMessageChanged" ref="a6f6c6f8a8430d8631a08c765565db9ab" args="(const QString &amp;message, const QString &amp;details, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::statusMessageChanged </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>details</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Emitted when a new status message is to display. </p>
<p>Typically used with mdtDeviceStatusWidget. </p>

</div>
</div>
<a class="anchor" id="aacbf87cc3d9c37c87e21696f8a6514bd"></a><!-- doxytag: member="mdtPortManager::stop" ref="aacbf87cc3d9c37c87e21696f8a6514bd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop threads. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before use of this method. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00190">190</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a75111efb0c8956ddc98a87a9aedec695"></a><!-- doxytag: member="mdtPortManager::unhandledError" ref="a75111efb0c8956ddc98a87a9aedec695" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::unhandledError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unhandled error event. </p>
<p>Used by internal state machine </p>

</div>
</div>
<a class="anchor" id="acc5c63ad33fdd3cc153fc23e00c6e69c"></a><!-- doxytag: member="mdtPortManager::wait" ref="acc5c63ad33fdd3cc153fc23e00c6e69c" args="(int msecs, int granularity=50)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::wait </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msecs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>granularity</em> = <code>50</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait some time without break the GUI's event loop. </p>
<p>This is a helper method that provide a blocking wait. Internally, a couple of sleep and event processing is done, avoiding freesing the GUI.</p>
<p>This wait method is not precise.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msecs</td><td>Time to wait [ms] </td></tr>
    <tr><td class="paramname">granularity</td><td>Sleep time between each call of event processing [ms]<br/>
 A little value needs more CPU and big value can freese the GUI. Should be between 50 and 100, and must be &gt; 0. Note that msecs must be a multiple of granularity. </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>granularity must be &gt; 0. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00600">600</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a680546498a0cd486c4fc16d28f44e4c6"></a><!-- doxytag: member="mdtPortManager::waitOnFrame" ref="a680546498a0cd486c4fc16d28f44e4c6" args="(int id, int timeout=0, int granularity=50)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::waitOnFrame </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>granularity</em> = <code>50</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait on readen frame with defined ID. </p>
<p>Will return when frame with given ID was read or after timeout.</p>
<p>Internally, a couple of sleep and process event are called, so Qt's event loop will not be broken.</p>
<p>This method can return if timeout occurs, or for other reason depending on specific port (port timeout, read cancelled, ...).</p>
<p>Note: transactions are not handled here. The caller is responsible of transactions management.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Frame ID. Depending on protocol, this can be a transaction ID or what else. </td></tr>
    <tr><td class="paramname">timeout</td><td>Maximum wait time [ms]. Must be a multiple of granularity [ms] If 0, the minimal timeout will be used (see <a class="el" href="classmdt_port_manager.html#a7cb3155940e23db0122d14f21fca858d" title="Adjust a requested timeout to minimal timeout.">adjustedReadTimeout()</a> ). </td></tr>
    <tr><td class="paramname">granularity</td><td>Sleep time between each call of event processing [ms]<br/>
 A little value needs more CPU and big value can freese the GUI. Should be between 50 and 100, and must be &gt; 0. Note that timeout must be a multiple of granularity. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if Ok, false on timeout. If id was not found in transactions lists, a warning will be generated in <a class="el" href="classmdt_error.html">mdtError</a> system, and false will be returned. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00453">453</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1ca92c5ac120d87e5b10bff54ed1aa5c"></a><!-- doxytag: member="mdtPortManager::waitOnWriteReady" ref="a1ca92c5ac120d87e5b10bff54ed1aa5c" args="(int timeout=0, int granularity=50)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::waitOnWriteReady </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>granularity</em> = <code>50</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait until data can be written. </p>
<p>Wait until a frame is available in write frames pool. The wait will not breack Qt's event loop, so this method can be called from GUI Thread. (See <a class="el" href="classmdt_port_manager.html#acc5c63ad33fdd3cc153fc23e00c6e69c" title="Wait some time without break the GUI&#39;s event loop.">wait()</a> for details).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>Timeout [ms] If 0, the minimal timeout will be used (see <a class="el" href="classmdt_port_manager.html#a9d6782be514745a1b1392216d17d41df" title="Adjust a requested timeout to minimal timeout.">adjustedWriteTimeout()</a> ). </td></tr>
    <tr><td class="paramname">granularity</td><td>Sleep time between each call of event processing [ms]<br/>
 A little value needs more CPU and big value can freese the GUI. Should be between 50 and 100, and must be &gt; 0. Note that timeout must be a multiple of granularity. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if a frame is available before timeout, false else. </dd></dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Granularity must be &gt; 0. </dd>
<dd>
Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before calling this method. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00319">319</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad87eff1f2dd54a165a78b34e30592901"></a><!-- doxytag: member="mdtPortManager::waitReadenFrame" ref="ad87eff1f2dd54a165a78b34e30592901" args="(int timeout=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::waitReadenFrame </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait until a complete frame is available. </p>
<p>This method will return when a complete frame was readen. This is usefull for query/answer protocols.</p>
<p>Internally, a couple of sleep and process event are called, so Qt's event loop will not be broken.</p>
<p>This method can return if timeout occurs, or for other reason depending on specific port (port timeout, read cancelled, ...).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>Maximum wait time [ms]. Must be a multiple of 50 [ms] If 0, the minimal timeout will be used (see <a class="el" href="classmdt_port_manager.html#a7cb3155940e23db0122d14f21fca858d" title="Adjust a requested timeout to minimal timeout.">adjustedReadTimeout()</a> ). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if Ok, false on timeout </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classmdt_port_manager.html#a77ef4a432306638f5b0f91df7863ac62" title="Try to.">newReadenFrame()</a> </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00392">392</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8b60d53d6e553f15dedec916f9c1614b"></a><!-- doxytag: member="mdtPortManager::writeData" ref="a8b60d53d6e553f15dedec916f9c1614b" args="(QByteArray data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdtPortManager::writeData </td>
          <td>(</td>
          <td class="paramtype">QByteArray&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write data by copy. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000027">Todo:</a></b></dt><dd>adjust write timeout </dd></dl>
<p>Data will be passed to the mdtPort's write queue by copy. This method returns immediatly after enqueue, and don't wait until data was written.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Data to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success or value &lt; 0 on error. In this implementation, the only possible error is mdtAbstractPort::WriteQueueEmpty . Some subclass can return a frame ID on success, or a other error. See subclass documentation for details. </dd></dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before use of this method.</dd></dl>
<p>Subclass notes:<br/>
 This method can be reimplemented in subclass if needed. Typically usefull if some encoding is needed before the frame is submitted to port. A frame must be taken from port's write frames pool with <a class="el" href="classmdt_abstract_port.html#abf093b67fddebffa4f3c52277b9a8cf7" title="Get the write frames Queue pool.">mdtAbstractPort::writeFramesPool()</a> dequeue() method (see Qt's QQueue documentation for more details on dequeue() ), then added to port's write queue with <a class="el" href="classmdt_abstract_port.html#a9a69eb2fc07d551ab37c011487fa319d" title="Add a frame to write.">mdtAbstractPort::addFrameToWrite()</a> . If protocol supports frame identification (like MODBUS's transaction ID or USBTMC's bTag), it should be returned here and incremented. </p>

<p>Reimplemented in <a class="el" href="classmdt_usbtmc_port_manager.html#ab7229e9d519e80a6509bec90dc9239b3">mdtUsbtmcPortManager</a>.</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00364">364</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af44b6e9876e6687b1d4fe7e05ffd5a91"></a><!-- doxytag: member="mdtPortManager::writeThread" ref="af44b6e9876e6687b1d4fe7e05ffd5a91" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_port_thread.html">mdtPortThread</a> * mdtPortManager::writeThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns instance of writer thread. </p>
<p>Note that a Null pointer can be returned </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00128">128</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/mdtport/<a class="el" href="mdt_port_manager_8h_source.html">mdtPortManager.h</a></li>
<li>src/mdtport/<a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a></li>
</ul>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Mon Apr 22 2013 20:11:49 for Multi diag tools by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
