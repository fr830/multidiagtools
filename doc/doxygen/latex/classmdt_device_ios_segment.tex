\hypertarget{classmdt_device_ios_segment}{
\section{mdtDeviceIosSegment Class Reference}
\label{classmdt_device_ios_segment}\index{mdtDeviceIosSegment@{mdtDeviceIosSegment}}
}


Store a segment of device I/O list.  




{\ttfamily \#include $<$mdtDeviceIosSegment.h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classmdt_device_ios_segment_a700a57dbaeedc6d75e4230cb1fedd65b}{mdtDeviceIosSegment} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hypertarget{classmdt_device_ios_segment_a7310c0a5724f370716b0b7f1a4ad4e0a}{
\hyperlink{classmdt_device_ios_segment_a7310c0a5724f370716b0b7f1a4ad4e0a}{$\sim$mdtDeviceIosSegment} ()}
\label{classmdt_device_ios_segment_a7310c0a5724f370716b0b7f1a4ad4e0a}

\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_device_ios_segment_a0542a6bf1578390e8b646e5fbd238e24}{setIos} (const QList$<$ \hyperlink{classmdt_analog_io}{mdtAnalogIo} $\ast$ $>$ \&ios)
\begin{DoxyCompactList}\small\item\em Set the I/O's values and address range for this segment. \end{DoxyCompactList}\item 
\hypertarget{classmdt_device_ios_segment_ab2ad8b6cebc1f2b6a4ae3a2a4a87b592}{
void {\bfseries setIos} (const QList$<$ \hyperlink{classmdt_digital_io}{mdtDigitalIo} $\ast$ $>$ \&ios)}
\label{classmdt_device_ios_segment_ab2ad8b6cebc1f2b6a4ae3a2a4a87b592}

\item 
\hypertarget{classmdt_device_ios_segment_a91dba1936e6a50ac3833190a93901e9a}{
int \hyperlink{classmdt_device_ios_segment_a91dba1936e6a50ac3833190a93901e9a}{startAddressRead} () const }
\label{classmdt_device_ios_segment_a91dba1936e6a50ac3833190a93901e9a}

\begin{DoxyCompactList}\small\item\em Get start address for read access. \end{DoxyCompactList}\item 
\hypertarget{classmdt_device_ios_segment_a5e0d32079a575623d1ae75f81a172169}{
int \hyperlink{classmdt_device_ios_segment_a5e0d32079a575623d1ae75f81a172169}{startAddressWrite} () const }
\label{classmdt_device_ios_segment_a5e0d32079a575623d1ae75f81a172169}

\begin{DoxyCompactList}\small\item\em Get start address for write access. \end{DoxyCompactList}\item 
\hypertarget{classmdt_device_ios_segment_aa3a37811ccdefd9750e395f31f1bb472}{
int \hyperlink{classmdt_device_ios_segment_aa3a37811ccdefd9750e395f31f1bb472}{endAddressRead} () const }
\label{classmdt_device_ios_segment_aa3a37811ccdefd9750e395f31f1bb472}

\begin{DoxyCompactList}\small\item\em Get end address for read access. \end{DoxyCompactList}\item 
\hypertarget{classmdt_device_ios_segment_a92bb27b37027668c25e50958397961f6}{
int \hyperlink{classmdt_device_ios_segment_a92bb27b37027668c25e50958397961f6}{endAddressWrite} () const }
\label{classmdt_device_ios_segment_a92bb27b37027668c25e50958397961f6}

\begin{DoxyCompactList}\small\item\em Get end address for write access. \end{DoxyCompactList}\item 
\hypertarget{classmdt_device_ios_segment_aa5d6905c7200a8fb74a6c86708be434e}{
int \hyperlink{classmdt_device_ios_segment_aa5d6905c7200a8fb74a6c86708be434e}{ioCount} () const }
\label{classmdt_device_ios_segment_aa5d6905c7200a8fb74a6c86708be434e}

\begin{DoxyCompactList}\small\item\em Get number of I/O's. \end{DoxyCompactList}\item 
\hypertarget{classmdt_device_ios_segment_a895870593b581138ed7e43e6773741ed}{
bool \hyperlink{classmdt_device_ios_segment_a895870593b581138ed7e43e6773741ed}{containsAddressRead} (int address) const }
\label{classmdt_device_ios_segment_a895870593b581138ed7e43e6773741ed}

\begin{DoxyCompactList}\small\item\em Check if segment contains a address for read access. \end{DoxyCompactList}\item 
\hypertarget{classmdt_device_ios_segment_a6fceed16afdb918856792ede4e839d24}{
QList$<$ int $>$ \hyperlink{classmdt_device_ios_segment_a6fceed16afdb918856792ede4e839d24}{addressesRead} () const }
\label{classmdt_device_ios_segment_a6fceed16afdb918856792ede4e839d24}

\begin{DoxyCompactList}\small\item\em Get a list of contigous addresses for read access. \end{DoxyCompactList}\item 
\hypertarget{classmdt_device_ios_segment_a67b3a56f03a7dd8b6713a17908f88230}{
bool \hyperlink{classmdt_device_ios_segment_a67b3a56f03a7dd8b6713a17908f88230}{containsAddressWrite} (int address) const }
\label{classmdt_device_ios_segment_a67b3a56f03a7dd8b6713a17908f88230}

\begin{DoxyCompactList}\small\item\em Check if segment contains a address for write access. \end{DoxyCompactList}\item 
\hypertarget{classmdt_device_ios_segment_a87429d142a5de4831623e04e6f8dabf9}{
QList$<$ int $>$ \hyperlink{classmdt_device_ios_segment_a87429d142a5de4831623e04e6f8dabf9}{addressesWrite} () const }
\label{classmdt_device_ios_segment_a87429d142a5de4831623e04e6f8dabf9}

\begin{DoxyCompactList}\small\item\em Get a list of contigous addresses for write access. \end{DoxyCompactList}\item 
int \hyperlink{classmdt_device_ios_segment_a369b37d7b9db7d56e15765a44706e4d3}{setValues} (const QList$<$ \hyperlink{classmdt_value}{mdtValue} $>$ \&values, int max=-\/1)
\begin{DoxyCompactList}\small\item\em Set values. \end{DoxyCompactList}\item 
\hypertarget{classmdt_device_ios_segment_a9eba9ce97404ea4fbcf89339a2e03502}{
int {\bfseries setValues} (const QList$<$ QVariant $>$ \&values, int max=-\/1)}
\label{classmdt_device_ios_segment_a9eba9ce97404ea4fbcf89339a2e03502}

\item 
int \hyperlink{classmdt_device_ios_segment_af51f263e2a0f5db725cad4b867339cdf}{updateValuesFromAddressRead} (int startAddress, const QList$<$ \hyperlink{classmdt_value}{mdtValue} $>$ \&values, int max=-\/1)
\begin{DoxyCompactList}\small\item\em Update some values starting at address read. \end{DoxyCompactList}\item 
\hypertarget{classmdt_device_ios_segment_a521ec9f8fb527d1e95fc16ae87337a12}{
int {\bfseries updateValuesFromAddressRead} (int startAddress, const QList$<$ QVariant $>$ \&values, int max=-\/1)}
\label{classmdt_device_ios_segment_a521ec9f8fb527d1e95fc16ae87337a12}

\item 
int \hyperlink{classmdt_device_ios_segment_ae99f379be2908bd3d9774ddcb81bfbb0}{updateValuesFromAddressWrite} (int startAddress, const QList$<$ \hyperlink{classmdt_value}{mdtValue} $>$ \&values, int max=-\/1)
\begin{DoxyCompactList}\small\item\em Update some values starting at address write. \end{DoxyCompactList}\item 
\hypertarget{classmdt_device_ios_segment_a06def14996b18b6dcaacaccd8b71f068}{
int {\bfseries updateValuesFromAddressWrite} (int startAddress, const QList$<$ QVariant $>$ \&values, int max=-\/1)}
\label{classmdt_device_ios_segment_a06def14996b18b6dcaacaccd8b71f068}

\item 
\hypertarget{classmdt_device_ios_segment_a563da954d00404fbdaf45ea60a84b532}{
QList$<$ \hyperlink{classmdt_value}{mdtValue} $>$ \hyperlink{classmdt_device_ios_segment_a563da954d00404fbdaf45ea60a84b532}{values} () const }
\label{classmdt_device_ios_segment_a563da954d00404fbdaf45ea60a84b532}

\begin{DoxyCompactList}\small\item\em Get list of stored I/O's values. \end{DoxyCompactList}\item 
\hypertarget{classmdt_device_ios_segment_ad47f742a73846f86ab02c87f481a289d}{
QList$<$ int $>$ \hyperlink{classmdt_device_ios_segment_ad47f742a73846f86ab02c87f481a289d}{valuesInt} () const }
\label{classmdt_device_ios_segment_ad47f742a73846f86ab02c87f481a289d}

\begin{DoxyCompactList}\small\item\em Get list of stored I/O's values. \end{DoxyCompactList}\item 
\hypertarget{classmdt_device_ios_segment_abe79a9a7237ac22dd8bf619838225c4f}{
QList$<$ double $>$ \hyperlink{classmdt_device_ios_segment_abe79a9a7237ac22dd8bf619838225c4f}{valuesDouble} () const }
\label{classmdt_device_ios_segment_abe79a9a7237ac22dd8bf619838225c4f}

\begin{DoxyCompactList}\small\item\em Get list of stored I/O's values. \end{DoxyCompactList}\item 
\hypertarget{classmdt_device_ios_segment_a493547057946f012a8de06ac323bc869}{
QList$<$ bool $>$ \hyperlink{classmdt_device_ios_segment_a493547057946f012a8de06ac323bc869}{valuesBool} () const }
\label{classmdt_device_ios_segment_a493547057946f012a8de06ac323bc869}

\begin{DoxyCompactList}\small\item\em Get list of stored I/O's values. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Store a segment of device I/O list. 

A physical device, such as a modular I/O controller (f.ex. Wago 750) can contain severa modules. Some of them can be analog I/O, digital I/O or more complex module.

This class is a container that helps \hyperlink{classmdt_device}{mdtDevice} and \hyperlink{classmdt_device_ios}{mdtDeviceIos} to deal with I/O mapping for multiple I/O read/write. Typically, some I/O can be present in \hyperlink{classmdt_device_ios}{mdtDeviceIos}, but are not data I/O (but, f.ex. configuration registers). A other problem is that it can happen that I/O are not present in contigous range, but in several segments (f.ex. analog inputs from 0x200 -\/$>$ 0x500, then 0x3000 -\/$>$ 0x3500, ...) 

Definition at line 45 of file mdtDeviceIosSegment.h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classmdt_device_ios_segment_a700a57dbaeedc6d75e4230cb1fedd65b}{
\index{mdtDeviceIosSegment@{mdtDeviceIosSegment}!mdtDeviceIosSegment@{mdtDeviceIosSegment}}
\index{mdtDeviceIosSegment@{mdtDeviceIosSegment}!mdtDeviceIosSegment@{mdtDeviceIosSegment}}
\subsubsection[{mdtDeviceIosSegment}]{\setlength{\rightskip}{0pt plus 5cm}mdtDeviceIosSegment::mdtDeviceIosSegment (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_device_ios_segment_a700a57dbaeedc6d75e4230cb1fedd65b}


Constructor. 

Will set default values:
\begin{DoxyItemize}
\item startAddress : 0
\item endAddress : 0
\item ioCount : 0 
\end{DoxyItemize}

Definition at line 26 of file mdtDeviceIosSegment.cpp.



\subsection{Member Function Documentation}
\hypertarget{classmdt_device_ios_segment_a0542a6bf1578390e8b646e5fbd238e24}{
\index{mdtDeviceIosSegment@{mdtDeviceIosSegment}!setIos@{setIos}}
\index{setIos@{setIos}!mdtDeviceIosSegment@{mdtDeviceIosSegment}}
\subsubsection[{setIos}]{\setlength{\rightskip}{0pt plus 5cm}void mdtDeviceIosSegment::setIos (
\begin{DoxyParamCaption}
\item[{const QList$<$ {\bf mdtAnalogIo} $\ast$ $>$ \&}]{ios}
\end{DoxyParamCaption}
)}}
\label{classmdt_device_ios_segment_a0542a6bf1578390e8b646e5fbd238e24}


Set the I/O's values and address range for this segment. 


\begin{DoxyParams}{Parameters}
{\em isInput} & If true, the I/O's readAddress will be used, else the writeAddress \\
\hline
\end{DoxyParams}
\begin{DoxyPrecond}{Precondition}
List of I/O's must be sorted by address and not contain holes (i.e. contigous address range) 
\end{DoxyPrecond}


Definition at line 34 of file mdtDeviceIosSegment.cpp.

\hypertarget{classmdt_device_ios_segment_a369b37d7b9db7d56e15765a44706e4d3}{
\index{mdtDeviceIosSegment@{mdtDeviceIosSegment}!setValues@{setValues}}
\index{setValues@{setValues}!mdtDeviceIosSegment@{mdtDeviceIosSegment}}
\subsubsection[{setValues}]{\setlength{\rightskip}{0pt plus 5cm}int mdtDeviceIosSegment::setValues (
\begin{DoxyParamCaption}
\item[{const QList$<$ {\bf mdtValue} $>$ \&}]{values, }
\item[{int}]{max = {\ttfamily -\/1}}
\end{DoxyParamCaption}
)}}
\label{classmdt_device_ios_segment_a369b37d7b9db7d56e15765a44706e4d3}


Set values. 

This method assumes that values list is sorted exactly the same way than ios list set with \hyperlink{classmdt_device_ios_segment_a0542a6bf1578390e8b646e5fbd238e24}{setIos()}

If values list contains less items than stored I/O's values, only the first ones will be updated. If values list contains more items than stored I/O's values, all I/O's values are updated, and rest of values are ignored. If max $>$ -\/1, same rules but not more than max items are stored.

\begin{DoxyReturn}{Returns}
Number of I/O's updated 
\end{DoxyReturn}


Definition at line 177 of file mdtDeviceIosSegment.cpp.

\hypertarget{classmdt_device_ios_segment_af51f263e2a0f5db725cad4b867339cdf}{
\index{mdtDeviceIosSegment@{mdtDeviceIosSegment}!updateValuesFromAddressRead@{updateValuesFromAddressRead}}
\index{updateValuesFromAddressRead@{updateValuesFromAddressRead}!mdtDeviceIosSegment@{mdtDeviceIosSegment}}
\subsubsection[{updateValuesFromAddressRead}]{\setlength{\rightskip}{0pt plus 5cm}int mdtDeviceIosSegment::updateValuesFromAddressRead (
\begin{DoxyParamCaption}
\item[{int}]{startAddress, }
\item[{const QList$<$ {\bf mdtValue} $>$ \&}]{values, }
\item[{int}]{max = {\ttfamily -\/1}}
\end{DoxyParamCaption}
)}}
\label{classmdt_device_ios_segment_af51f263e2a0f5db725cad4b867339cdf}


Update some values starting at address read. 

Note: some checking are made:
\begin{DoxyItemize}
\item If startAddress was not found, 0 values will be updated
\item If values contains to much items, only items that can be stored are updated
\item If max $>$ -\/1 , the minimum between values size, internall items count and max will be updated
\end{DoxyItemize}

\begin{DoxyReturn}{Returns}
Number of updated values 
\end{DoxyReturn}


Definition at line 227 of file mdtDeviceIosSegment.cpp.

\hypertarget{classmdt_device_ios_segment_ae99f379be2908bd3d9774ddcb81bfbb0}{
\index{mdtDeviceIosSegment@{mdtDeviceIosSegment}!updateValuesFromAddressWrite@{updateValuesFromAddressWrite}}
\index{updateValuesFromAddressWrite@{updateValuesFromAddressWrite}!mdtDeviceIosSegment@{mdtDeviceIosSegment}}
\subsubsection[{updateValuesFromAddressWrite}]{\setlength{\rightskip}{0pt plus 5cm}int mdtDeviceIosSegment::updateValuesFromAddressWrite (
\begin{DoxyParamCaption}
\item[{int}]{startAddress, }
\item[{const QList$<$ {\bf mdtValue} $>$ \&}]{values, }
\item[{int}]{max = {\ttfamily -\/1}}
\end{DoxyParamCaption}
)}}
\label{classmdt_device_ios_segment_ae99f379be2908bd3d9774ddcb81bfbb0}


Update some values starting at address write. 

Note: some checking are made:
\begin{DoxyItemize}
\item If startAddress was not found, 0 values will be updated
\item If values contains to much items, only items that can be stored are updated
\end{DoxyItemize}

If max $>$ -\/1 , the minimum between values size, internall items count and max will be updated

\begin{DoxyReturn}{Returns}
Number of updated values 
\end{DoxyReturn}


Definition at line 309 of file mdtDeviceIosSegment.cpp.



The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
src/mdtdevice/mdtDeviceIosSegment.h\item 
src/mdtdevice/mdtDeviceIosSegment.cpp\end{DoxyCompactItemize}
