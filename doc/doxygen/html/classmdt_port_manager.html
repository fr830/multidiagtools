<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Multi diag tools: mdtPortManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Multi diag tools
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-slots">Protected Slots</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classmdt_port_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mdtPortManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Port manager base class.  
 <a href="classmdt_port_manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mdt_port_manager_8h_source.html">mdtPortManager.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for mdtPortManager:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classmdt_port_manager__inherit__graph.png" border="0" usemap="#mdt_port_manager_inherit__map" alt="Inheritance graph"/></div>
<map name="mdt_port_manager_inherit__map" id="mdt_port_manager_inherit__map">
<area shape="rect" id="node3" href="classmdt_modbus_tcp_port_manager.html" title="MODBUS/TCP port manager. " alt="" coords="5,155,192,181"/><area shape="rect" id="node4" href="classmdt_serial_port_manager.html" title="Serial port manager class. " alt="" coords="217,155,367,181"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for mdtPortManager:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classmdt_port_manager__coll__graph.png" border="0" usemap="#mdt_port_manager_coll__map" alt="Collaboration graph"/></div>
<map name="mdt_port_manager_coll__map" id="mdt_port_manager_coll__map">
<area shape="rect" id="node5" href="classmdt_abstract_port.html" title="Base class for port I/O. " alt="" coords="292,376,408,403"/><area shape="rect" id="node3" href="classmdt_error.html" title="mdtError contains informations about a error that occured " alt="" coords="433,376,505,403"/><area shape="rect" id="node6" href="classmdt_port_config.html" title="mdtPortConfig" alt="" coords="171,243,277,269"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a9448339d7f08ca5e18b904df25b382da"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382da">state_t</a> { <br/>
&#160;&#160;<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daabac9679c411402c9db01399ecb72b84d">PortClosed</a> = 0, 
<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daadbd7b0395c62e9ae38525c5dc5ba44a6">Stopped</a>, 
<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daaca288962f5cb3d352f44f4e4c15f14d2">Starting</a>, 
<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daa1c68525fc2c4d94e39a73d1a4bea0476">Stopping</a>, 
<br/>
&#160;&#160;<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daaa7af1c561e17e65982c027de942d4a75">Running</a>, 
<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daa2440f5bfc7ae5c78db1598ef6d3d394c">PortError</a>, 
<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daa3a3b42b9d783381f3c7447086503fde6">PortReady</a>, 
<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daa4004253e25d51b1e628bb5006dbbd153">Disconnected</a>, 
<br/>
&#160;&#160;<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daa89e805c9c75c39ecc8371d5f38131227">Connecting</a>, 
<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daa3c3620c8eb4ddb126568053e3d49195f">Connected</a>, 
<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daaf2ba40e19587c3a98235ee96a4acf20e">Ready</a>, 
<a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382daa5da3fa5dd98a264ecb4a37a1983ea0ff">Busy</a>
<br/>
 }</td></tr>
<tr class="memdesc:a9448339d7f08ca5e18b904df25b382da"><td class="mdescLeft">&#160;</td><td class="mdescRight">State of device.  <a href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382da">More...</a><br/></td></tr>
<tr class="separator:a9448339d7f08ca5e18b904df25b382da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:a1d185e9bb610aee16ccd9499ae7bff0d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a1d185e9bb610aee16ccd9499ae7bff0d">abort</a> ()</td></tr>
<tr class="memdesc:a1d185e9bb610aee16ccd9499ae7bff0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel read and write operations.  <a href="#a1d185e9bb610aee16ccd9499ae7bff0d">More...</a><br/></td></tr>
<tr class="separator:a1d185e9bb610aee16ccd9499ae7bff0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:a416a24db1048e9f66aef27ea810954d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a416a24db1048e9f66aef27ea810954d2">newTransactionDone</a> (<a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *transaction)</td></tr>
<tr class="memdesc:a416a24db1048e9f66aef27ea810954d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted each time a transaction is done.  <a href="#a416a24db1048e9f66aef27ea810954d2">More...</a><br/></td></tr>
<tr class="separator:a416a24db1048e9f66aef27ea810954d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f6c6f8a8430d8631a08c765565db9ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a6f6c6f8a8430d8631a08c765565db9ab">statusMessageChanged</a> (const QString &amp;message, const QString &amp;details, int timeout)</td></tr>
<tr class="memdesc:a6f6c6f8a8430d8631a08c765565db9ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when a new status message is to display.  <a href="#a6f6c6f8a8430d8631a08c765565db9ab">More...</a><br/></td></tr>
<tr class="separator:a6f6c6f8a8430d8631a08c765565db9ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01da0634bc52a71c0df0d83fc166eeda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a01da0634bc52a71c0df0d83fc166eeda">stateChanged</a> (int stateId)</td></tr>
<tr class="memdesc:a01da0634bc52a71c0df0d83fc166eeda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted each time the state changed.  <a href="#a01da0634bc52a71c0df0d83fc166eeda">More...</a><br/></td></tr>
<tr class="separator:a01da0634bc52a71c0df0d83fc166eeda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae00d513ed335fbd203852dcb7180005c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ae00d513ed335fbd203852dcb7180005c">stateChangedForUi</a> (int stateId, const QString &amp;stateText, int ledColorId, bool ledIsOn)</td></tr>
<tr class="memdesc:ae00d513ed335fbd203852dcb7180005c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted only if a state that must be notified is entered.  <a href="#ae00d513ed335fbd203852dcb7180005c">More...</a><br/></td></tr>
<tr class="separator:ae00d513ed335fbd203852dcb7180005c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae77c1b24291797704488beda0009c57a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ae77c1b24291797704488beda0009c57a">pmPortClosedEvent</a> ()</td></tr>
<tr class="memdesc:ae77c1b24291797704488beda0009c57a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent when port was closed.  <a href="#ae77c1b24291797704488beda0009c57a">More...</a><br/></td></tr>
<tr class="separator:ae77c1b24291797704488beda0009c57a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa12ccb053b3ce050a2482a957b28222e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#aa12ccb053b3ce050a2482a957b28222e">pmStartThreadsEvent</a> ()</td></tr>
<tr class="memdesc:aa12ccb053b3ce050a2482a957b28222e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent when threads must be started.  <a href="#aa12ccb053b3ce050a2482a957b28222e">More...</a><br/></td></tr>
<tr class="separator:aa12ccb053b3ce050a2482a957b28222e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b81ee6491167fa17574d840720d9b33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a7b81ee6491167fa17574d840720d9b33">pmStopThreadsEvent</a> ()</td></tr>
<tr class="memdesc:a7b81ee6491167fa17574d840720d9b33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent when threads must be stopped.  <a href="#a7b81ee6491167fa17574d840720d9b33">More...</a><br/></td></tr>
<tr class="separator:a7b81ee6491167fa17574d840720d9b33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dd5529e6de23897fe5082ee4a33fa3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a6dd5529e6de23897fe5082ee4a33fa3d">pmAllThreadsReadyEvent</a> ()</td></tr>
<tr class="memdesc:a6dd5529e6de23897fe5082ee4a33fa3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent when all threads are ready.  <a href="#a6dd5529e6de23897fe5082ee4a33fa3d">More...</a><br/></td></tr>
<tr class="separator:a6dd5529e6de23897fe5082ee4a33fa3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bfd4d20867ecae2cad1b95b52860b12"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a1bfd4d20867ecae2cad1b95b52860b12">pmAllThreadsStoppedEvent</a> ()</td></tr>
<tr class="memdesc:a1bfd4d20867ecae2cad1b95b52860b12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent when all threads are stopped.  <a href="#a1bfd4d20867ecae2cad1b95b52860b12">More...</a><br/></td></tr>
<tr class="separator:a1bfd4d20867ecae2cad1b95b52860b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94d3fa4a26f8686449313a54003f0b4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a94d3fa4a26f8686449313a54003f0b4d">pmUnhandledErrorEvent</a> ()</td></tr>
<tr class="memdesc:a94d3fa4a26f8686449313a54003f0b4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent when a unhandled error occured.  <a href="#a94d3fa4a26f8686449313a54003f0b4d">More...</a><br/></td></tr>
<tr class="separator:a94d3fa4a26f8686449313a54003f0b4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04fb1d09af226677cacd6f0e485d9810"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a04fb1d09af226677cacd6f0e485d9810">pmConnectingEvent</a> ()</td></tr>
<tr class="memdesc:a04fb1d09af226677cacd6f0e485d9810"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent when connection with device beginns.  <a href="#a04fb1d09af226677cacd6f0e485d9810">More...</a><br/></td></tr>
<tr class="separator:a04fb1d09af226677cacd6f0e485d9810"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a871ec7f9676a12c84196404285cf2161"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a871ec7f9676a12c84196404285cf2161">pmConnectedEvent</a> ()</td></tr>
<tr class="memdesc:a871ec7f9676a12c84196404285cf2161"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent when connection with device is established.  <a href="#a871ec7f9676a12c84196404285cf2161">More...</a><br/></td></tr>
<tr class="separator:a871ec7f9676a12c84196404285cf2161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4667ac04a31166eeb7b5f92893b16db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ab4667ac04a31166eeb7b5f92893b16db">pmDisconnectedEvent</a> ()</td></tr>
<tr class="memdesc:ab4667ac04a31166eeb7b5f92893b16db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent when connection with device was lost/closed.  <a href="#ab4667ac04a31166eeb7b5f92893b16db">More...</a><br/></td></tr>
<tr class="separator:ab4667ac04a31166eeb7b5f92893b16db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57fc083d7db52279ec6b990b75705552"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a57fc083d7db52279ec6b990b75705552">pmConnectionFailedEvent</a> ()</td></tr>
<tr class="memdesc:a57fc083d7db52279ec6b990b75705552"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent when connection failed on startup or after max try.  <a href="#a57fc083d7db52279ec6b990b75705552">More...</a><br/></td></tr>
<tr class="separator:a57fc083d7db52279ec6b990b75705552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5959d4025f4903eef0ea65c350f6f9b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a5959d4025f4903eef0ea65c350f6f9b3">pmBusyEvent</a> ()</td></tr>
<tr class="memdesc:a5959d4025f4903eef0ea65c350f6f9b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent when device is busy (or other slow down reason..)  <a href="#a5959d4025f4903eef0ea65c350f6f9b3">More...</a><br/></td></tr>
<tr class="separator:a5959d4025f4903eef0ea65c350f6f9b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa23c17048773e345778e7d6393f630db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#aa23c17048773e345778e7d6393f630db">pmReadyEvent</a> ()</td></tr>
<tr class="memdesc:aa23c17048773e345778e7d6393f630db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent when device and communication becomes ready again.  <a href="#aa23c17048773e345778e7d6393f630db">More...</a><br/></td></tr>
<tr class="separator:aa23c17048773e345778e7d6393f630db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0be3429f901fc9bf4adee196035d2cee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a0be3429f901fc9bf4adee196035d2cee">pmTransactionTimeoutEvent</a> ()</td></tr>
<tr class="memdesc:a0be3429f901fc9bf4adee196035d2cee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent when a transaction timeout occured.  <a href="#a0be3429f901fc9bf4adee196035d2cee">More...</a><br/></td></tr>
<tr class="separator:a0be3429f901fc9bf4adee196035d2cee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5ec36523089b7528d973e29cdbc64d01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a5ec36523089b7528d973e29cdbc64d01">mdtPortManager</a> (QObject *parent=0)</td></tr>
<tr class="memdesc:a5ec36523089b7528d973e29cdbc64d01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contruct a port manager.  <a href="#a5ec36523089b7528d973e29cdbc64d01">More...</a><br/></td></tr>
<tr class="separator:a5ec36523089b7528d973e29cdbc64d01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf797f8fd7a3ffdc000890a224e4c1b6"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#adf797f8fd7a3ffdc000890a224e4c1b6">~mdtPortManager</a> ()</td></tr>
<tr class="memdesc:adf797f8fd7a3ffdc000890a224e4c1b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#adf797f8fd7a3ffdc000890a224e4c1b6">More...</a><br/></td></tr>
<tr class="separator:adf797f8fd7a3ffdc000890a224e4c1b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd156b2d0c9d340999935efb6cd8cb6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6">setPort</a> (<a class="el" href="classmdt_abstract_port.html">mdtAbstractPort</a> *port)</td></tr>
<tr class="memdesc:afcd156b2d0c9d340999935efb6cd8cb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan for available ports.  <a href="#afcd156b2d0c9d340999935efb6cd8cb6">More...</a><br/></td></tr>
<tr class="separator:afcd156b2d0c9d340999935efb6cd8cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3107b7121dfe5b9686d9b3b3a48a0af0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a3107b7121dfe5b9686d9b3b3a48a0af0">lockPortMutex</a> ()</td></tr>
<tr class="memdesc:a3107b7121dfe5b9686d9b3b3a48a0af0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lock the port's mutex.  <a href="#a3107b7121dfe5b9686d9b3b3a48a0af0">More...</a><br/></td></tr>
<tr class="separator:a3107b7121dfe5b9686d9b3b3a48a0af0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a882e6bf95dac9cd4ab8cc93ecc524874"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a882e6bf95dac9cd4ab8cc93ecc524874">unlockPortMutex</a> ()</td></tr>
<tr class="memdesc:a882e6bf95dac9cd4ab8cc93ecc524874"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock port's mutex.  <a href="#a882e6bf95dac9cd4ab8cc93ecc524874">More...</a><br/></td></tr>
<tr class="separator:a882e6bf95dac9cd4ab8cc93ecc524874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39cb4af4aedc0b6b7c4d4f53002c3fd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a39cb4af4aedc0b6b7c4d4f53002c3fd1">detachPort</a> (bool deletePort, bool deleteThreads)</td></tr>
<tr class="memdesc:a39cb4af4aedc0b6b7c4d4f53002c3fd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach port.  <a href="#a39cb4af4aedc0b6b7c4d4f53002c3fd1">More...</a><br/></td></tr>
<tr class="separator:a39cb4af4aedc0b6b7c4d4f53002c3fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab62591409d019a4a2576b4310c411b8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ab62591409d019a4a2576b4310c411b8f">addThread</a> (<a class="el" href="classmdt_port_thread.html">mdtPortThread</a> *thread)</td></tr>
<tr class="memdesc:ab62591409d019a4a2576b4310c411b8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a thread and assign it to port.  <a href="#ab62591409d019a4a2576b4310c411b8f">More...</a><br/></td></tr>
<tr class="separator:ab62591409d019a4a2576b4310c411b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9233b5156a45f2684783317d75fdf9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmdt_port_thread.html">mdtPortThread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ad9233b5156a45f2684783317d75fdf9b">readThread</a> ()</td></tr>
<tr class="memdesc:ad9233b5156a45f2684783317d75fdf9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns instance of reader thread.  <a href="#ad9233b5156a45f2684783317d75fdf9b">More...</a><br/></td></tr>
<tr class="separator:ad9233b5156a45f2684783317d75fdf9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af44b6e9876e6687b1d4fe7e05ffd5a91"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmdt_port_thread.html">mdtPortThread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#af44b6e9876e6687b1d4fe7e05ffd5a91">writeThread</a> ()</td></tr>
<tr class="memdesc:af44b6e9876e6687b1d4fe7e05ffd5a91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns instance of writer thread.  <a href="#af44b6e9876e6687b1d4fe7e05ffd5a91">More...</a><br/></td></tr>
<tr class="separator:af44b6e9876e6687b1d4fe7e05ffd5a91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa0a474183bcae0fff4fb9ef43023c25"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#aaa0a474183bcae0fff4fb9ef43023c25">removeThreads</a> (bool releaseMemory)</td></tr>
<tr class="memdesc:aaa0a474183bcae0fff4fb9ef43023c25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach threads from port and remove threads.  <a href="#aaa0a474183bcae0fff4fb9ef43023c25">More...</a><br/></td></tr>
<tr class="separator:aaa0a474183bcae0fff4fb9ef43023c25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1fb103ffafc227337a59c7e82f44fbc"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#af1fb103ffafc227337a59c7e82f44fbc">start</a> ()</td></tr>
<tr class="memdesc:af1fb103ffafc227337a59c7e82f44fbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start port manager.  <a href="#af1fb103ffafc227337a59c7e82f44fbc">More...</a><br/></td></tr>
<tr class="separator:af1fb103ffafc227337a59c7e82f44fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacbf87cc3d9c37c87e21696f8a6514bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#aacbf87cc3d9c37c87e21696f8a6514bd">stop</a> ()</td></tr>
<tr class="memdesc:aacbf87cc3d9c37c87e21696f8a6514bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop port manager.  <a href="#aacbf87cc3d9c37c87e21696f8a6514bd">More...</a><br/></td></tr>
<tr class="separator:aacbf87cc3d9c37c87e21696f8a6514bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b2ed690cbba9f544c6ac1b46684e59a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a2b2ed690cbba9f544c6ac1b46684e59a">setPortName</a> (const QString &amp;<a class="el" href="classmdt_port_manager.html#af4fcab6aaad98d74aeabfc972da1d406">portName</a>)</td></tr>
<tr class="memdesc:a2b2ed690cbba9f544c6ac1b46684e59a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set port name.  <a href="#a2b2ed690cbba9f544c6ac1b46684e59a">More...</a><br/></td></tr>
<tr class="separator:a2b2ed690cbba9f544c6ac1b46684e59a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e2ef93ec2731e66aa2b2d5f7ce9bc1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a7e2ef93ec2731e66aa2b2d5f7ce9bc1c">setPortInfo</a> (<a class="el" href="classmdt_port_info.html">mdtPortInfo</a> info)</td></tr>
<tr class="memdesc:a7e2ef93ec2731e66aa2b2d5f7ce9bc1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set port info.  <a href="#a7e2ef93ec2731e66aa2b2d5f7ce9bc1c">More...</a><br/></td></tr>
<tr class="separator:a7e2ef93ec2731e66aa2b2d5f7ce9bc1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88109b455fc5a5f5adf0636f7450143e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmdt_port_info.html">mdtPortInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a88109b455fc5a5f5adf0636f7450143e">portInfo</a> ()</td></tr>
<tr class="memdesc:a88109b455fc5a5f5adf0636f7450143e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current port info.  <a href="#a88109b455fc5a5f5adf0636f7450143e">More...</a><br/></td></tr>
<tr class="separator:a88109b455fc5a5f5adf0636f7450143e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4fcab6aaad98d74aeabfc972da1d406"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#af4fcab6aaad98d74aeabfc972da1d406">portName</a> () const </td></tr>
<tr class="memdesc:af4fcab6aaad98d74aeabfc972da1d406"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current port name.  <a href="#af4fcab6aaad98d74aeabfc972da1d406">More...</a><br/></td></tr>
<tr class="separator:af4fcab6aaad98d74aeabfc972da1d406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cf3ea2da38f81682695b37448712ffd"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmdt_port_config.html">mdtPortConfig</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a9cf3ea2da38f81682695b37448712ffd">config</a> ()</td></tr>
<tr class="memdesc:a9cf3ea2da38f81682695b37448712ffd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the port's config object.  <a href="#a9cf3ea2da38f81682695b37448712ffd">More...</a><br/></td></tr>
<tr class="separator:a9cf3ea2da38f81682695b37448712ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a735b7dc766fc2f45fb2cf9772c4201b0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmdt_port_config.html">mdtPortConfig</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a735b7dc766fc2f45fb2cf9772c4201b0">config</a> () const </td></tr>
<tr class="memdesc:a735b7dc766fc2f45fb2cf9772c4201b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the port's config object.  <a href="#a735b7dc766fc2f45fb2cf9772c4201b0">More...</a><br/></td></tr>
<tr class="separator:a735b7dc766fc2f45fb2cf9772c4201b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9adb5098766c9df588bc9978b00c5eb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a9adb5098766c9df588bc9978b00c5eb2">setKeepTransactionsDone</a> (bool keep)</td></tr>
<tr class="memdesc:a9adb5098766c9df588bc9978b00c5eb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force transactions done to be keeped.  <a href="#a9adb5098766c9df588bc9978b00c5eb2">More...</a><br/></td></tr>
<tr class="separator:a9adb5098766c9df588bc9978b00c5eb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a798ce0939234870ae3b9995108e54380"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a798ce0939234870ae3b9995108e54380">keepTransactionsDone</a> () const </td></tr>
<tr class="memdesc:a798ce0939234870ae3b9995108e54380"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the keepTransactionsDone flag.  <a href="#a798ce0939234870ae3b9995108e54380">More...</a><br/></td></tr>
<tr class="separator:a798ce0939234870ae3b9995108e54380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75ebd3d1859e3ed38b9558981e53aac4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a75ebd3d1859e3ed38b9558981e53aac4">getNewTransaction</a> ()</td></tr>
<tr class="memdesc:a75ebd3d1859e3ed38b9558981e53aac4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a new transaction.  <a href="#a75ebd3d1859e3ed38b9558981e53aac4">More...</a><br/></td></tr>
<tr class="separator:a75ebd3d1859e3ed38b9558981e53aac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fea4a9b8e94d38e8ec699dba05c7ca8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a5fea4a9b8e94d38e8ec699dba05c7ca8">restoreTransaction</a> (<a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *transaction)</td></tr>
<tr class="memdesc:a5fea4a9b8e94d38e8ec699dba05c7ca8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore a transaction into pool.  <a href="#a5fea4a9b8e94d38e8ec699dba05c7ca8">More...</a><br/></td></tr>
<tr class="separator:a5fea4a9b8e94d38e8ec699dba05c7ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad98399edba146af5cf32a9002094385c"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ad98399edba146af5cf32a9002094385c">sendData</a> (<a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *transaction)</td></tr>
<tr class="memdesc:ad98399edba146af5cf32a9002094385c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data on port.  <a href="#ad98399edba146af5cf32a9002094385c">More...</a><br/></td></tr>
<tr class="separator:ad98399edba146af5cf32a9002094385c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a445b27f0819158f67f1bd548cdd2fedf"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a445b27f0819158f67f1bd548cdd2fedf">sendData</a> (const QByteArray &amp;data, bool queryReplyMode=false)</td></tr>
<tr class="memdesc:a445b27f0819158f67f1bd548cdd2fedf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data to port.  <a href="#a445b27f0819158f67f1bd548cdd2fedf">More...</a><br/></td></tr>
<tr class="separator:a445b27f0819158f67f1bd548cdd2fedf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5551802de2c08632078f2cc0e2607913"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a5551802de2c08632078f2cc0e2607913">waitTransactionDone</a> (int id)</td></tr>
<tr class="memdesc:a5551802de2c08632078f2cc0e2607913"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until a transaction is done.  <a href="#a5551802de2c08632078f2cc0e2607913">More...</a><br/></td></tr>
<tr class="separator:a5551802de2c08632078f2cc0e2607913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af60f089baded850018cbb90645c8e547"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#af60f089baded850018cbb90645c8e547">waitOneTransactionDone</a> ()</td></tr>
<tr class="memdesc:af60f089baded850018cbb90645c8e547"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until current transaction is done.  <a href="#af60f089baded850018cbb90645c8e547">More...</a><br/></td></tr>
<tr class="separator:af60f089baded850018cbb90645c8e547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa85e0200aba0e0f4392dfe01abae2cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#aaa85e0200aba0e0f4392dfe01abae2cf">wait</a> (int ms)</td></tr>
<tr class="memdesc:aaa85e0200aba0e0f4392dfe01abae2cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for some time.  <a href="#aaa85e0200aba0e0f4392dfe01abae2cf">More...</a><br/></td></tr>
<tr class="separator:aaa85e0200aba0e0f4392dfe01abae2cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a830ae182d06dd6a52c43a7f45b9240ac"><td class="memItemLeft" align="right" valign="top">QByteArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a830ae182d06dd6a52c43a7f45b9240ac">readenFrame</a> (int id)</td></tr>
<tr class="memdesc:a830ae182d06dd6a52c43a7f45b9240ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get data by frame ID.  <a href="#a830ae182d06dd6a52c43a7f45b9240ac">More...</a><br/></td></tr>
<tr class="separator:a830ae182d06dd6a52c43a7f45b9240ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addd5dcae9644cea42a9871205af41796"><td class="memItemLeft" align="right" valign="top">QList&lt; QByteArray &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#addd5dcae9644cea42a9871205af41796">readenFrames</a> ()</td></tr>
<tr class="memdesc:addd5dcae9644cea42a9871205af41796"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all readen data.  <a href="#addd5dcae9644cea42a9871205af41796">More...</a><br/></td></tr>
<tr class="separator:addd5dcae9644cea42a9871205af41796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0844a5cd4043a95a479d458ac7ce590"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ac0844a5cd4043a95a479d458ac7ce590">flushIn</a> (bool flushPortManagerBuffers, bool flushPortBuffers)</td></tr>
<tr class="memdesc:ac0844a5cd4043a95a479d458ac7ce590"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush input buffers.  <a href="#ac0844a5cd4043a95a479d458ac7ce590">More...</a><br/></td></tr>
<tr class="separator:ac0844a5cd4043a95a479d458ac7ce590"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c44ce6ec40c4afc6be441c10d7ee827"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a4c44ce6ec40c4afc6be441c10d7ee827">flushIn</a> ()</td></tr>
<tr class="memdesc:a4c44ce6ec40c4afc6be441c10d7ee827"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush input buffers.  <a href="#a4c44ce6ec40c4afc6be441c10d7ee827">More...</a><br/></td></tr>
<tr class="separator:a4c44ce6ec40c4afc6be441c10d7ee827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f0c2722a41c49de2bea9013bccd049c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a3f0c2722a41c49de2bea9013bccd049c">flushOut</a> (bool flushPortManagerBuffers, bool flushPortBuffers)</td></tr>
<tr class="memdesc:a3f0c2722a41c49de2bea9013bccd049c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush output buffers.  <a href="#a3f0c2722a41c49de2bea9013bccd049c">More...</a><br/></td></tr>
<tr class="separator:a3f0c2722a41c49de2bea9013bccd049c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab34018a9653a5af784fa7da06a9e50d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ab34018a9653a5af784fa7da06a9e50d3">flushOut</a> ()</td></tr>
<tr class="memdesc:ab34018a9653a5af784fa7da06a9e50d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush output buffers.  <a href="#ab34018a9653a5af784fa7da06a9e50d3">More...</a><br/></td></tr>
<tr class="separator:ab34018a9653a5af784fa7da06a9e50d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97b91e7c1641836eb6afb47fd244a18e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a97b91e7c1641836eb6afb47fd244a18e">flush</a> (bool flushPortManagerBuffers, bool flushPortBuffers)</td></tr>
<tr class="memdesc:a97b91e7c1641836eb6afb47fd244a18e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush I/O buffers.  <a href="#a97b91e7c1641836eb6afb47fd244a18e">More...</a><br/></td></tr>
<tr class="separator:a97b91e7c1641836eb6afb47fd244a18e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eab774008d7530ae341ce9c38265d65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a3eab774008d7530ae341ce9c38265d65">flush</a> ()</td></tr>
<tr class="memdesc:a3eab774008d7530ae341ce9c38265d65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush I/O buffers.  <a href="#a3eab774008d7530ae341ce9c38265d65">More...</a><br/></td></tr>
<tr class="separator:a3eab774008d7530ae341ce9c38265d65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59241d9e6b6ee71e6c1aeb3e6c0ca81a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382da">state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a59241d9e6b6ee71e6c1aeb3e6c0ca81a">currentState</a> () const </td></tr>
<tr class="memdesc:a59241d9e6b6ee71e6c1aeb3e6c0ca81a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current state.  <a href="#a59241d9e6b6ee71e6c1aeb3e6c0ca81a">More...</a><br/></td></tr>
<tr class="separator:a59241d9e6b6ee71e6c1aeb3e6c0ca81a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c460b47b12e38e708321be79f6343d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a0c460b47b12e38e708321be79f6343d8">notifyCurrentState</a> ()</td></tr>
<tr class="memdesc:a0c460b47b12e38e708321be79f6343d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the current state.  <a href="#a0c460b47b12e38e708321be79f6343d8">More...</a><br/></td></tr>
<tr class="separator:a0c460b47b12e38e708321be79f6343d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dc2798324521d177fb8f79d4f6c5f0f"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a6dc2798324521d177fb8f79d4f6c5f0f">isReady</a> () const </td></tr>
<tr class="memdesc:a6dc2798324521d177fb8f79d4f6c5f0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if port manager is ready.  <a href="#a6dc2798324521d177fb8f79d4f6c5f0f">More...</a><br/></td></tr>
<tr class="separator:a6dc2798324521d177fb8f79d4f6c5f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeecbec49376838ab3547729636166d97"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#aeecbec49376838ab3547729636166d97">isClosed</a> () const </td></tr>
<tr class="memdesc:aeecbec49376838ab3547729636166d97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if port is closed.  <a href="#aeecbec49376838ab3547729636166d97">More...</a><br/></td></tr>
<tr class="separator:aeecbec49376838ab3547729636166d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c7ea5d74a8fc9ed065477574ec03c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmdt_error.html">mdtError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a16c7ea5d74a8fc9ed065477574ec03c4">lastError</a> () const </td></tr>
<tr class="memdesc:a16c7ea5d74a8fc9ed065477574ec03c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get last error.  <a href="#a16c7ea5d74a8fc9ed065477574ec03c4">More...</a><br/></td></tr>
<tr class="separator:a16c7ea5d74a8fc9ed065477574ec03c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-slots"></a>
Protected Slots</h2></td></tr>
<tr class="memitem:a4fcc8f0699b655156e661bb3de6056cc"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a4fcc8f0699b655156e661bb3de6056cc">fromThreadNewFrameReaden</a> ()</td></tr>
<tr class="memdesc:a4fcc8f0699b655156e661bb3de6056cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by the read thread whenn a complete frame was readen.  <a href="#a4fcc8f0699b655156e661bb3de6056cc">More...</a><br/></td></tr>
<tr class="separator:a4fcc8f0699b655156e661bb3de6056cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e45b8e3475e5182ed12218616664d07"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a7e45b8e3475e5182ed12218616664d07">onThreadsErrorOccured</a> (int error)</td></tr>
<tr class="memdesc:a7e45b8e3475e5182ed12218616664d07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manage errors comming from port threads.  <a href="#a7e45b8e3475e5182ed12218616664d07">More...</a><br/></td></tr>
<tr class="separator:a7e45b8e3475e5182ed12218616664d07"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aab594613e8985590c835194efbc27b5e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#aab594613e8985590c835194efbc27b5e">openPort</a> ()</td></tr>
<tr class="memdesc:aab594613e8985590c835194efbc27b5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the port.  <a href="#aab594613e8985590c835194efbc27b5e">More...</a><br/></td></tr>
<tr class="separator:aab594613e8985590c835194efbc27b5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace8065f1f5083041ee7f65c2892bc77d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ace8065f1f5083041ee7f65c2892bc77d">closePort</a> ()</td></tr>
<tr class="memdesc:ace8065f1f5083041ee7f65c2892bc77d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the port.  <a href="#ace8065f1f5083041ee7f65c2892bc77d">More...</a><br/></td></tr>
<tr class="separator:ace8065f1f5083041ee7f65c2892bc77d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f1d25b2441c467c0de9908c73422a93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a3f1d25b2441c467c0de9908c73422a93">setCurrentTransactionId</a> (int id)</td></tr>
<tr class="memdesc:a3f1d25b2441c467c0de9908c73422a93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the current transaction ID.  <a href="#a3f1d25b2441c467c0de9908c73422a93">More...</a><br/></td></tr>
<tr class="separator:a3f1d25b2441c467c0de9908c73422a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19abf29c8948cde0337d67c9722c25aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a19abf29c8948cde0337d67c9722c25aa">currentTransactionId</a> () const </td></tr>
<tr class="memdesc:a19abf29c8948cde0337d67c9722c25aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current transaction ID.  <a href="#a19abf29c8948cde0337d67c9722c25aa">More...</a><br/></td></tr>
<tr class="separator:a19abf29c8948cde0337d67c9722c25aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d009936a0a5130f3bfecb69fee4ce42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a4d009936a0a5130f3bfecb69fee4ce42">incrementCurrentTransactionId</a> (int min=0, int max=INT_MAX)</td></tr>
<tr class="memdesc:a4d009936a0a5130f3bfecb69fee4ce42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increment current transaction ID.  <a href="#a4d009936a0a5130f3bfecb69fee4ce42">More...</a><br/></td></tr>
<tr class="separator:a4d009936a0a5130f3bfecb69fee4ce42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac04a12f8aa20ba04695083afce45a6cc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ac04a12f8aa20ba04695083afce45a6cc">waitTransactionPossible</a> ()</td></tr>
<tr class="memdesc:ac04a12f8aa20ba04695083afce45a6cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until transaction pending queue has less than maximum possible items.  <a href="#ac04a12f8aa20ba04695083afce45a6cc">More...</a><br/></td></tr>
<tr class="separator:ac04a12f8aa20ba04695083afce45a6cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac58ed84e0e9230d1931557bc4bbe8a50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ac58ed84e0e9230d1931557bc4bbe8a50">addTransactionPending</a> (<a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *transaction)</td></tr>
<tr class="memdesc:ac58ed84e0e9230d1931557bc4bbe8a50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a transaction to pending queue.  <a href="#ac58ed84e0e9230d1931557bc4bbe8a50">More...</a><br/></td></tr>
<tr class="separator:ac58ed84e0e9230d1931557bc4bbe8a50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18478707a9be7638b06cde48ced48297"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a18478707a9be7638b06cde48ced48297">transactionPending</a> (int id)</td></tr>
<tr class="memdesc:a18478707a9be7638b06cde48ced48297"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take pending transaction matching id.  <a href="#a18478707a9be7638b06cde48ced48297">More...</a><br/></td></tr>
<tr class="separator:a18478707a9be7638b06cde48ced48297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85b87522eb9ec9b80ff24e3ad2ef4a00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a85b87522eb9ec9b80ff24e3ad2ef4a00">flushTransactionsPending</a> ()</td></tr>
<tr class="memdesc:a85b87522eb9ec9b80ff24e3ad2ef4a00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore all transactions pending to pool.  <a href="#a85b87522eb9ec9b80ff24e3ad2ef4a00">More...</a><br/></td></tr>
<tr class="separator:a85b87522eb9ec9b80ff24e3ad2ef4a00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b584d9005316be9991e6026e4c5e5a4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a4b584d9005316be9991e6026e4c5e5a4">addTransactionDone</a> (<a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *transaction)</td></tr>
<tr class="memdesc:a4b584d9005316be9991e6026e4c5e5a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a transaction to the DONE queue.  <a href="#a4b584d9005316be9991e6026e4c5e5a4">More...</a><br/></td></tr>
<tr class="separator:a4b584d9005316be9991e6026e4c5e5a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3293066f4c3ed2e4b116f28dca8c5d64"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a3293066f4c3ed2e4b116f28dca8c5d64">transactionsDoneContains</a> (int id) const </td></tr>
<tr class="memdesc:a3293066f4c3ed2e4b116f28dca8c5d64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a transaction with given ID exists in done queue.  <a href="#a3293066f4c3ed2e4b116f28dca8c5d64">More...</a><br/></td></tr>
<tr class="separator:a3293066f4c3ed2e4b116f28dca8c5d64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5869bcf6774a86fb9d3b00a0d4211bb5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a5869bcf6774a86fb9d3b00a0d4211bb5">transactionDone</a> (int id)</td></tr>
<tr class="memdesc:a5869bcf6774a86fb9d3b00a0d4211bb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take transaction from DONE queue matching id.  <a href="#a5869bcf6774a86fb9d3b00a0d4211bb5">More...</a><br/></td></tr>
<tr class="separator:a5869bcf6774a86fb9d3b00a0d4211bb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad801de5f93a3619d98b7ea3cae6b999"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#aad801de5f93a3619d98b7ea3cae6b999">flushTransactionsDone</a> ()</td></tr>
<tr class="memdesc:aad801de5f93a3619d98b7ea3cae6b999"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore all transactions done to pool.  <a href="#aad801de5f93a3619d98b7ea3cae6b999">More...</a><br/></td></tr>
<tr class="separator:aad801de5f93a3619d98b7ea3cae6b999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeeba5a216174fcc1d01446a9537f40e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#adeeba5a216174fcc1d01446a9537f40e">startTransactionTimer</a> (int timeout)</td></tr>
<tr class="memdesc:adeeba5a216174fcc1d01446a9537f40e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start transaction timer.  <a href="#adeeba5a216174fcc1d01446a9537f40e">More...</a><br/></td></tr>
<tr class="separator:adeeba5a216174fcc1d01446a9537f40e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1467c0bd28612ae3116f5daba08c0b84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a1467c0bd28612ae3116f5daba08c0b84">stopTransactionTimer</a> ()</td></tr>
<tr class="memdesc:a1467c0bd28612ae3116f5daba08c0b84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop transaction timer.  <a href="#a1467c0bd28612ae3116f5daba08c0b84">More...</a><br/></td></tr>
<tr class="separator:a1467c0bd28612ae3116f5daba08c0b84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04fc12f0dc02e981cac8dc56539e63d2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a04fc12f0dc02e981cac8dc56539e63d2">transactionTimeoutOccured</a> () const </td></tr>
<tr class="memdesc:a04fc12f0dc02e981cac8dc56539e63d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a transaction timeout occured.  <a href="#a04fc12f0dc02e981cac8dc56539e63d2">More...</a><br/></td></tr>
<tr class="separator:a04fc12f0dc02e981cac8dc56539e63d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84d37b380080eb26e56c68424dedd958"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a84d37b380080eb26e56c68424dedd958">commitFrames</a> ()</td></tr>
<tr class="memdesc:a84d37b380080eb26e56c68424dedd958"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emit signals for each done transactions.  <a href="#a84d37b380080eb26e56c68424dedd958">More...</a><br/></td></tr>
<tr class="separator:a84d37b380080eb26e56c68424dedd958"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af03c1270cb19ce92e846cae95dc0769b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmdt_error.html">mdtError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#af03c1270cb19ce92e846cae95dc0769b">pvLastError</a></td></tr>
<tr class="memdesc:af03c1270cb19ce92e846cae95dc0769b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last error object.  <a href="#af03c1270cb19ce92e846cae95dc0769b">More...</a><br/></td></tr>
<tr class="separator:af03c1270cb19ce92e846cae95dc0769b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af856162aab4f1c5202c1dfb330fae538"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmdt_abstract_port.html">mdtAbstractPort</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#af856162aab4f1c5202c1dfb330fae538">pvPort</a></td></tr>
<tr class="separator:af856162aab4f1c5202c1dfb330fae538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e0d49b789f8b01d469e84b487799573"><td class="memItemLeft" align="right" valign="top">QList&lt; <a class="el" href="classmdt_port_thread.html">mdtPortThread</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a8e0d49b789f8b01d469e84b487799573">pvThreads</a></td></tr>
<tr class="separator:a8e0d49b789f8b01d469e84b487799573"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Port manager base class. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000029">Todo:</a></b></dt><dd>Port manager has no raison to inherit <a class="el" href="class_q_thread.html">QThread</a> -&gt; make it inherit QObject </dd></dl>
<p>Manages a port based on <a class="el" href="classmdt_abstract_port.html" title="Base class for port I/O. ">mdtAbstractPort</a> an several threads based on <a class="el" href="classmdt_port_thread.html">mdtPortThread</a>. The goal is to hide the complexity of the port API.</p>
<p>Example: </p>
<div class="fragment"><div class="line"><a class="code" href="classmdt_port_manager.html">mdtPortManager</a> m;</div>
<div class="line"><a class="code" href="classmdt_port.html">mdtPort</a> *port;</div>
<div class="line"><a class="code" href="classmdt_port_config.html">mdtPortConfig</a> *<a class="code" href="classmdt_port_manager.html#a9cf3ea2da38f81682695b37448712ffd">config</a>;</div>
<div class="line">QList&lt;QByteArray&gt; responses;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Setup</span></div>
<div class="line">config = <span class="keyword">new</span> <a class="code" href="classmdt_port_config.html">mdtPortConfig</a>;</div>
<div class="line">config-&gt;<a class="code" href="classmdt_port_config.html#a627adcb87d26757238f844db19fc248d">setFrameType</a>(<a class="code" href="classmdt_frame.html#af936e37d5fe4c066c0fb0161fafd4a17ac649559564652abbe656b97d4a84b722">mdtFrame::FT_ASCII</a>);</div>
<div class="line">config-&gt;<a class="code" href="classmdt_port_config.html#a3c5e1c444a18da7d68430bd1c14030f4">setEndOfFrameSeq</a>(<span class="stringliteral">&quot;$&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Init port</span></div>
<div class="line">port = <span class="keyword">new</span> <a class="code" href="classmdt_port.html">mdtPort</a>;</div>
<div class="line">port-&gt;<a class="code" href="classmdt_abstract_port.html#a48bdc0a8057c3b119763643098cf798f">setConfig</a>(config);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Init port manager - We wand blocking mode</span></div>
<div class="line">m.setTransactionsDisabled(<span class="keyword">true</span>);</div>
<div class="line">m.<a class="code" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6">setPort</a>(port);</div>
<div class="line">m.<a class="code" href="classmdt_port_manager.html#ab62591409d019a4a2576b4310c411b8f">addThread</a>(mew <a class="code" href="classmdt_port_write_thread.html">mdtPortWriteThread</a>);</div>
<div class="line">m.<a class="code" href="classmdt_port_manager.html#ab62591409d019a4a2576b4310c411b8f">addThread</a>(mew <a class="code" href="classmdt_port_read_thread.html">mdtPortReadThread</a>);</div>
<div class="line">m.<a class="code" href="classmdt_port_manager.html#a2b2ed690cbba9f544c6ac1b46684e59a">setPortName</a>(<span class="stringliteral">&quot;/dev/xyz&quot;</span>));</div>
<div class="line"></div>
<div class="line"><span class="comment">// Start port manager - Will open port, start threads and return once port manager is ready</span></div>
<div class="line"><span class="keywordflow">if</span>(!m.<a class="code" href="classmdt_port_manager.html#af1fb103ffafc227337a59c7e82f44fbc">start</a>()){</div>
<div class="line"> <span class="comment">// Handle error</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Send some data</span></div>
<div class="line"><span class="keywordflow">if</span>(!m.writeData(<span class="stringliteral">&quot;Test$&quot;</span>)){</div>
<div class="line"> <span class="comment">// Handle error</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Wait on answer - Timout: 1500 [ms]</span></div>
<div class="line"><span class="keywordflow">if</span>(!m.waitReadenFrame(1500)){</div>
<div class="line"> <span class="comment">// Timout , handle error</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Do something with received data</span></div>
<div class="line">responses = m.<a class="code" href="classmdt_port_manager.html#addd5dcae9644cea42a9871205af41796">readenFrames</a>();</div>
<div class="line"><span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;responses.size(); i++){</div>
<div class="line"> qDebug() &lt;&lt; responses.at(i);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Stop port manager</span></div>
<div class="line">m.<a class="code" href="classmdt_port_manager.html#aacbf87cc3d9c37c87e21696f8a6514bd">stop</a>();</div>
<div class="line"></div>
<div class="line"><span class="comment">// Cleanup - detachPort() will delete port and threads objects</span></div>
<div class="line">m.<a class="code" href="classmdt_port_manager.html#a39cb4af4aedc0b6b7c4d4f53002c3fd1">detachPort</a>(<span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="keyword">delete</span> <a class="code" href="classmdt_port_manager.html#a9cf3ea2da38f81682695b37448712ffd">config</a>;</div>
</div><!-- fragment --><p>A (recommended) alternative is to disable frames enqueuing and use the newReadenFrame(QByteArray) signal.</p>
<ul>
<li>Disable enqueuing with setTransactionsDisabled(false)</li>
<li>Connect newReadenFrame(QByteArray) to a slot <hr/>
</li>
</ul>
<p>Manage a port based on <a class="el" href="classmdt_abstract_port.html" title="Base class for port I/O. ">mdtAbstractPort</a> and related threads. Goal is to hide complexity of <a class="el" href="classmdt_abstract_port.html" title="Base class for port I/O. ">mdtAbstractPort</a> API.</p>
<p>Depending on application, it's possible to use a event approach, or also a blocking approach with wait methods.</p>
<p>Some protocols support frame identifier (like MODBUS/TCP, USBTMC, or others), and other don't (for example raw bytes transfert on a serial port). For this reason, the concept of transactions is aodpted here. A transaction is based on <a class="el" href="classmdt_port_transaction.html" title="Store port transaction identifications data. ">mdtPortTransaction</a> class. It was introduced for protocols that support identification, and can store some other meta data, usefull to decode a reply.</p>
<p>This base class can be used directly for ports that supports raw transfers. For specific protocol, it can be subclassed.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000030">Todo:</a></b></dt><dd>Document init, open, close, ...</dd></dl>
<p>Now, we can see the data transfer workflow:</p>
<ul>
<li>1) Wait until it's possible to send some data with waitOnWriteReady()</li>
<li>2) Get a new transaction with <a class="el" href="classmdt_port_manager.html#a75ebd3d1859e3ed38b9558981e53aac4" title="Get a new transaction. ">getNewTransaction()</a> , and setup it as needed (see remarks below).</li>
<li>3) Send data using writeData(mdtPortTransaction*). This will set the currentTransactionId to the ID given in transaction.</li>
<li>4a) If you choosed a blocking approach, use <a class="el" href="classmdt_port_manager.html#a5551802de2c08632078f2cc0e2607913" title="Wait until a transaction is done. ">waitTransactionDone()</a>.</li>
<li>4b) If you choosed a event approach, connect the <a class="el" href="classmdt_port_manager.html#a5869bcf6774a86fb9d3b00a0d4211bb5" title="Take transaction from DONE queue matching id. ">transactionDone()</a> signal to a slot. Each time a transaction is done, you will receive a transaction.</li>
<li>5) Get the transaction with <a class="el" href="classmdt_port_manager.html#a5869bcf6774a86fb9d3b00a0d4211bb5" title="Take transaction from DONE queue matching id. ">transactionDone()</a>.</li>
<li>6) Restore transaction with <a class="el" href="classmdt_port_manager.html#a5fea4a9b8e94d38e8ec699dba05c7ca8" title="Restore a transaction into pool. ">restoreTransaction()</a>.</li>
</ul>
<p>Steps 2) and 3) can be done once by using writeData(const QByteArray&amp;, bool). Steps 5) and 6) can be done once by using getReadenData(int).</p>
<p>Here is a little example of the simple approach: </p>
<div class="fragment"><div class="line"><a class="code" href="classmdt_port_manager.html">mdtPortManager</a> m;</div>
<div class="line"><span class="keywordtype">int</span> transactionId;</div>
<div class="line"><span class="comment">// Setup...</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Wait until we can write</span></div>
<div class="line"><span class="keywordflow">if</span>(!waitOnWriteReady()){</div>
<div class="line">  <span class="comment">// Handle error</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Send data to port</span></div>
<div class="line">transactionId = writeData(<span class="stringliteral">&quot;SomeData&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="keywordflow">if</span>(transactionId &lt; 0){</div>
<div class="line">  <span class="comment">// Handle error</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Wait until data come in</span></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="classmdt_port_manager.html#a5551802de2c08632078f2cc0e2607913">waitTransactionDone</a>(transactionId)){</div>
<div class="line">  <span class="comment">// Handle error</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Get only data for a specific transaction (should be used only for protocols that support transaction)</span></div>
<div class="line">qDebug() &lt;&lt; <a class="code" href="classmdt_port_manager.html#a830ae182d06dd6a52c43a7f45b9240ac">readenFrame</a>(transactionId);</div>
<div class="line"><span class="comment">// Get all received data</span></div>
<div class="line">qDebug() &lt;&lt; <a class="code" href="classmdt_port_manager.html#addd5dcae9644cea42a9871205af41796">readenFrames</a>();</div>
</div><!-- fragment --><p>Internally, once data was send to port's write queue, the transaction is stored in the pending transactions queue.</p>
<p>Dealing with incomming data: In above example, 2 methods are shown to get incomming data:</p>
<ul>
<li><a class="el" href="classmdt_port_manager.html#a830ae182d06dd6a52c43a7f45b9240ac" title="Get data by frame ID. ">readenFrame(int)</a> : will work with protocols that support frame ID. See specific port manager subclass for details.</li>
<li><a class="el" href="classmdt_port_manager.html#addd5dcae9644cea42a9871205af41796" title="Get all readen data. ">readenFrames()</a> : see below.</li>
</ul>
<p>If we are using a protocol that not support frame ID, it's possible that we receive data each time, also without sending any request. This must be handled in <a class="el" href="classmdt_port_manager.html#a4fcc8f0699b655156e661bb3de6056cc" title="Called by the read thread whenn a complete frame was readen. ">fromThreadNewFrameReaden()</a> slot. In this <a class="el" href="classmdt_port_manager.html" title="Port manager base class. ">mdtPortManager</a> class, the following will happen:</p>
<ul>
<li>When sending data with writeData(const QByteArray&amp;, bool), current transaction ID will be incremented with <a class="el" href="classmdt_port_manager.html#a4d009936a0a5130f3bfecb69fee4ce42" title="Increment current transaction ID. ">incrementCurrentTransactionId()</a>.</li>
<li>In <a class="el" href="classmdt_port_manager.html#a4fcc8f0699b655156e661bb3de6056cc" title="Called by the read thread whenn a complete frame was readen. ">fromThreadNewFrameReaden()</a> slot, <a class="el" href="classmdt_port_manager.html#a19abf29c8948cde0337d67c9722c25aa" title="Get the current transaction ID. ">currentTransactionId()</a> is used to get pending transaction with <a class="el" href="classmdt_port_manager.html#a18478707a9be7638b06cde48ced48297" title="Take pending transaction matching id. ">transactionPending()</a>. If it was found, frame's data is copied, and transaction is moved to done queue. If not found, a new transaction is taken with <a class="el" href="classmdt_port_manager.html#a75ebd3d1859e3ed38b9558981e53aac4" title="Get a new transaction. ">getNewTransaction()</a>, frame's data is copied, and transaction is enqueued to done queue with <a class="el" href="classmdt_port_manager.html#a4b584d9005316be9991e6026e4c5e5a4" title="Add a transaction to the DONE queue. ">addTransactionDone()</a>.</li>
<li><a class="el" href="classmdt_port_manager.html#addd5dcae9644cea42a9871205af41796" title="Get all readen data. ">readenFrames()</a> will return a list of data that comes from transactions Done list. Current transaction ID will be restet to 0.</li>
</ul>
<p>The Query/Reply mode: port manager is able to handle event or blocking mode in same time. This cause a problem for done transactions handling. For example, when we choosed the event based aproach for a transaction, port manager will emit the <a class="el" href="classmdt_port_manager.html#a416a24db1048e9f66aef27ea810954d2" title="Emitted each time a transaction is done. ">newTransactionDone(mdtPortTransaction*)</a> signal, then restore transaction back to pool. When we choosed blocking approach, port manager will also emit <a class="el" href="classmdt_port_manager.html#a416a24db1048e9f66aef27ea810954d2" title="Emitted each time a transaction is done. ">newTransactionDone(mdtPortTransaction*)</a> signal, wich can be usefull to keep, for example, a GUI coherent in each mode. But here, the transaction must not be restored directly, but only once data was readen with <a class="el" href="classmdt_port_manager.html#a830ae182d06dd6a52c43a7f45b9240ac" title="Get data by frame ID. ">readenFrame()</a> or <a class="el" href="classmdt_port_manager.html#addd5dcae9644cea42a9871205af41796" title="Get all readen data. ">readenFrames()</a>. To handle this, <a class="el" href="classmdt_port_manager.html#a84d37b380080eb26e56c68424dedd958" title="Emit signals for each done transactions. ">commitFrames()</a> will use <a class="el" href="classmdt_port_transaction.html#a9da1cc7a191cd21a2e532d277aa3c628" title="Get the query/reply mode flag. ">mdtPortTransaction::isQueryReplyMode()</a>. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8h_source.html#l00197">197</a> of file <a class="el" href="mdt_port_manager_8h_source.html">mdtPortManager.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a9448339d7f08ca5e18b904df25b382da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382da">mdtPortManager::state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State of device. </p>
<p>States are handled by <a class="el" href="classmdt_port_manager_state_machine.html" title="State machine for port manager. ">mdtPortManagerStateMachine</a> </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daabac9679c411402c9db01399ecb72b84d"></a>PortClosed</em>&#160;</td><td class="fielddoc">
<p>Port is closed </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daadbd7b0395c62e9ae38525c5dc5ba44a6"></a>Stopped</em>&#160;</td><td class="fielddoc">
<p>Threads are stopped and port is closing </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daaca288962f5cb3d352f44f4e4c15f14d2"></a>Starting</em>&#160;</td><td class="fielddoc">
<p>Threads are starting </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daa1c68525fc2c4d94e39a73d1a4bea0476"></a>Stopping</em>&#160;</td><td class="fielddoc">
<p>Threads are stopping </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daaa7af1c561e17e65982c027de942d4a75"></a>Running</em>&#160;</td><td class="fielddoc">
<p>Global state (sub machine) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daa2440f5bfc7ae5c78db1598ef6d3d394c"></a>PortError</em>&#160;</td><td class="fielddoc">
<p>A unhandled error occured - Threads will be stopped and port closed </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daa3a3b42b9d783381f3c7447086503fde6"></a>PortReady</em>&#160;</td><td class="fielddoc">
<p>Port is open and threads are running. At this point, communication is possible if not connection is required (f.ex. serial port terminal) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daa4004253e25d51b1e628bb5006dbbd153"></a>Disconnected</em>&#160;</td><td class="fielddoc">
<p>Port is ready, but not connected to device </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daa89e805c9c75c39ecc8371d5f38131227"></a>Connecting</em>&#160;</td><td class="fielddoc">
<p>Trying to connect to device </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daa3c3620c8eb4ddb126568053e3d49195f"></a>Connected</em>&#160;</td><td class="fielddoc">
<p>Global state (sub machine) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daaf2ba40e19587c3a98235ee96a4acf20e"></a>Ready</em>&#160;</td><td class="fielddoc">
<p>Port is ready and connection to device was made. Communication is possible </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9448339d7f08ca5e18b904df25b382daa5da3fa5dd98a264ecb4a37a1983ea0ff"></a>Busy</em>&#160;</td><td class="fielddoc">
<p>Port is up and device is connected but cannot accept requests for the moment </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="mdt_port_manager_8h_source.html#l00207">207</a> of file <a class="el" href="mdt_port_manager_8h_source.html">mdtPortManager.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5ec36523089b7528d973e29cdbc64d01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mdtPortManager::mdtPortManager </td>
          <td>(</td>
          <td class="paramtype">QObject *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Contruct a port manager. </p>
<p>keepTransactionsDone flag will be unset (set false). </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00032">32</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_state_machine_8cpp_source.html#l00050">mdtPortManagerStateMachine::buildMainStateMachine()</a>, <a class="el" href="classmdt_port_manager.html#a0be3429f901fc9bf4adee196035d2cee">pmTransactionTimeoutEvent()</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00280">setKeepTransactionsDone()</a>.</p>

</div>
</div>
<a class="anchor" id="adf797f8fd7a3ffdc000890a224e4c1b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mdtPortManager::~mdtPortManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>If a port was set, the manager will stop (if running), and port will be closed (if open).</p>
<p>Note that port set by <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Scan for available ports. ">setPort()</a> and threads are not deleted. This is because port and threads are set by subclass, or from application. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00059">59</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00215">stop()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1d185e9bb610aee16ccd9499ae7bff0d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::abort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancel read and write operations. </p>
<p>Default implementation calls <a class="el" href="classmdt_abstract_port.html#abde440c49b95833f821e1333c40a7398" title="Flush read/write buffers. ">mdtAbstractPort::flush()</a>. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00598">598</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_abstract_port_8cpp_source.html#l00201">mdtAbstractPort::flush()</a>, and <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>.</p>

</div>
</div>
<a class="anchor" id="ab62591409d019a4a2576b4310c411b8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::addThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_port_thread.html">mdtPortThread</a> *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a thread and assign it to port. </p>
<dl class="section pre"><dt>Precondition</dt><dd>Port must be set with setPort before using this method </dd>
<dd>
Manager must no running </dd>
<dd>
Port manager must be closed (see <a class="el" href="classmdt_port_manager.html#aeecbec49376838ab3547729636166d97" title="Check if port is closed. ">isClosed()</a> ). </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00124">124</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8cpp_source.html#l00818">fromThreadNewFrameReaden()</a>, <a class="el" href="mdt_port_thread_8cpp_source.html#l00211">mdtPortThread::handlesTimeout()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00593">isClosed()</a>, <a class="el" href="mdt_port_thread_8cpp_source.html#l00201">mdtPortThread::isReader()</a>, <a class="el" href="mdt_port_thread_8cpp_source.html#l00206">mdtPortThread::isWriter()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00863">onThreadsErrorOccured()</a>, <a class="el" href="classmdt_port_manager.html#a871ec7f9676a12c84196404285cf2161">pmConnectedEvent()</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00926">pvThreads</a>, and <a class="el" href="mdt_port_thread_8cpp_source.html#l00057">mdtPortThread::setPort()</a>.</p>

<p>Referenced by <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00041">mdtModbusTcpPortManager::mdtModbusTcpPortManager()</a>, and <a class="el" href="mdt_serial_port_manager_8cpp_source.html#l00032">mdtSerialPortManager::mdtSerialPortManager()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b584d9005316be9991e6026e4c5e5a4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::addTransactionDone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a transaction to the DONE queue. </p>
<dl class="section pre"><dt>Precondition</dt><dd>transaction must be a valid pointer. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00722">722</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_transaction_8cpp_source.html#l00051">mdtPortTransaction::id()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00730">transactionsDoneContains()</a>.</p>

<p>Referenced by <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00641">mdtModbusTcpPortManager::fromThreadNewFrameReaden()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00818">fromThreadNewFrameReaden()</a>.</p>

</div>
</div>
<a class="anchor" id="ac58ed84e0e9230d1931557bc4bbe8a50"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::addTransactionPending </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a transaction to pending queue. </p>
<p>Add a existing transaction to the pending queue. A transaction can be requested with <a class="el" href="classmdt_port_manager.html#a75ebd3d1859e3ed38b9558981e53aac4" title="Get a new transaction. ">getNewTransaction()</a>.</p>
<dl class="section pre"><dt>Precondition</dt><dd>transaction must be a valid pointer. </dd>
<dd>
transaction ID must not allready exist in queue. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00677">677</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_error_8cpp_source.html#l00116">mdtError::commit()</a>, <a class="el" href="mdt_error_8h_source.html#l00097">mdtError::Error</a>, <a class="el" href="mdt_port_transaction_8cpp_source.html#l00051">mdtPortTransaction::id()</a>, <a class="el" href="mdt_error_8h_source.html#l00060">MDT_ERROR_SET_SRC</a>, <a class="el" href="mdt_error_8h_source.html#l00041">MDT_PORT_IO_ERROR</a>, and <a class="el" href="classmdt_port_manager.html#a94d3fa4a26f8686449313a54003f0b4d">pmUnhandledErrorEvent()</a>.</p>

<p>Referenced by <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00565">mdtModbusTcpPortManager::sendData()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00321">sendData()</a>.</p>

</div>
</div>
<a class="anchor" id="ace8065f1f5083041ee7f65c2892bc77d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::closePort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close the port. </p>
<p>If port was never set (with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Scan for available ports. ">setPort()</a> ), this method does nothing. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00620">620</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_abstract_port_8cpp_source.html#l00070">mdtAbstractPort::close()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00761">flushTransactionsDone()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00708">flushTransactionsPending()</a>, and <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00215">stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a84d37b380080eb26e56c68424dedd958"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::commitFrames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emit signals for each done transactions. </p>
<p>Will emit <a class="el" href="classmdt_port_manager.html#a416a24db1048e9f66aef27ea810954d2" title="Emitted each time a transaction is done. ">newTransactionDone(mdtPortTransaction*)</a> for each transaction found in done queue.</p>
<p>If queryReplyMode and keepTransactionsDone are not set, the transaction is restored back to pool, else it will be restored only after a call of <a class="el" href="classmdt_port_manager.html#a830ae182d06dd6a52c43a7f45b9240ac" title="Get data by frame ID. ">readenFrame()</a> or <a class="el" href="classmdt_port_manager.html#addd5dcae9644cea42a9871205af41796" title="Get all readen data. ">readenFrames()</a>. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00793">793</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_transaction_8cpp_source.html#l00126">mdtPortTransaction::isQueryReplyMode()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00285">keepTransactionsDone()</a>, <a class="el" href="classmdt_port_manager.html#a416a24db1048e9f66aef27ea810954d2">newTransactionDone()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00312">restoreTransaction()</a>.</p>

<p>Referenced by <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00641">mdtModbusTcpPortManager::fromThreadNewFrameReaden()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00818">fromThreadNewFrameReaden()</a>.</p>

</div>
</div>
<a class="anchor" id="a9cf3ea2da38f81682695b37448712ffd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_port_config.html">mdtPortConfig</a> &amp; mdtPortManager::config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the port's config object. </p>
<p>Usefull to alter internal port configuration</p>
<dl class="section pre"><dt>Precondition</dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Scan for available ports. ">setPort()</a> before use of this method. </dd></dl>

<p>Reimplemented in <a class="el" href="classmdt_serial_port_manager.html#a4b8ab7b9d53966a1887d9ce8557b8416">mdtSerialPortManager</a>.</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00266">266</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_abstract_port_8cpp_source.html#l00103">mdtAbstractPort::config()</a>, and <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>.</p>

<p>Referenced by <a class="el" href="mdt_device_modbus_8cpp_source.html#l00036">mdtDeviceModbus::mdtDeviceModbus()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00041">mdtModbusTcpPortManager::mdtModbusTcpPortManager()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00605">openPort()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00438">waitOneTransactionDone()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00383">waitTransactionDone()</a>.</p>

</div>
</div>
<a class="anchor" id="a735b7dc766fc2f45fb2cf9772c4201b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_port_config.html">mdtPortConfig</a> &amp; mdtPortManager::config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the port's config object. </p>
<p>Usefull to read internal port configuration</p>
<dl class="section pre"><dt>Precondition</dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Scan for available ports. ">setPort()</a> before use of this method. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00273">273</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_abstract_port_8cpp_source.html#l00103">mdtAbstractPort::config()</a>, and <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>.</p>

</div>
</div>
<a class="anchor" id="a59241d9e6b6ee71e6c1aeb3e6c0ca81a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_port_manager.html#a9448339d7f08ca5e18b904df25b382da">mdtPortManager::state_t</a> mdtPortManager::currentState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get current state. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00570">570</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_state_machine_8cpp_source.html#l00065">mdtStateMachine::currentState()</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00593">isClosed()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00366">mdtModbusTcpPortManager::isReady()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00584">isReady()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00863">onThreadsErrorOccured()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00184">start()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00438">waitOneTransactionDone()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00383">waitTransactionDone()</a>.</p>

</div>
</div>
<a class="anchor" id="a19abf29c8948cde0337d67c9722c25aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mdtPortManager::currentTransactionId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the current transaction ID. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00638">638</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00818">fromThreadNewFrameReaden()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00565">mdtModbusTcpPortManager::sendData()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00367">sendData()</a>.</p>

</div>
</div>
<a class="anchor" id="a39cb4af4aedc0b6b7c4d4f53002c3fd1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::detachPort </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>deletePort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>deleteThreads</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detach port. </p>
<p>Will detach port from each thread and from port manager. If port was not set, this method does nothing. If manager is running, it will be stopped. If port is open, it will be closed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deletePort</td><td>If true, the port object that was set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Scan for available ports. ">setPort()</a> will be deleted. </td></tr>
    <tr><td class="paramname">deleteThreads</td><td>If true, each thread added with <a class="el" href="classmdt_port_manager.html#ab62591409d019a4a2576b4310c411b8f" title="Add a thread and assign it to port. ">addThread()</a> will be deleted. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00104">104</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8cpp_source.html#l00593">isClosed()</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00158">removeThreads()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00215">stop()</a>.</p>

<p>Referenced by <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00066">mdtModbusTcpPortManager::~mdtModbusTcpPortManager()</a>, and <a class="el" href="mdt_serial_port_manager_8cpp_source.html#l00048">mdtSerialPortManager::~mdtSerialPortManager()</a>.</p>

</div>
</div>
<a class="anchor" id="a97b91e7c1641836eb6afb47fd244a18e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::flush </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flushPortManagerBuffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flushPortBuffers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush I/O buffers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flushPortManagerBuffers</td><td>If true, port manager buffers will be cleared. (Has no effect in this implementation, but some subclass can have output buffers). </td></tr>
    <tr><td class="paramname">flushPortBuffers</td><td>If true, port's buffers will be cleared. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Scan for available ports. ">setPort()</a> before calling this method. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00554">554</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_abstract_port_8cpp_source.html#l00201">mdtAbstractPort::flush()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00537">flushIn()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00549">flushOut()</a>, and <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>.</p>

</div>
</div>
<a class="anchor" id="a3eab774008d7530ae341ce9c38265d65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush I/O buffers. </p>
<dl class="section pre"><dt>Precondition</dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Scan for available ports. ">setPort()</a> before calling this method. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00565">565</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac0844a5cd4043a95a479d458ac7ce590"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::flushIn </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flushPortManagerBuffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flushPortBuffers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flush input buffers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flushPortManagerBuffers</td><td>If true, port manager buffers (transactions done and pending) will be cleared. </td></tr>
    <tr><td class="paramname">flushPortBuffers</td><td>If true, port's buffers will be cleared. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Scan for available ports. ">setPort()</a> before calling this method. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00520">520</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_abstract_port_8cpp_source.html#l00161">mdtAbstractPort::flushIn()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00761">flushTransactionsDone()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00708">flushTransactionsPending()</a>, and <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>.</p>

</div>
</div>
<a class="anchor" id="a4c44ce6ec40c4afc6be441c10d7ee827"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::flushIn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush input buffers. </p>
<p>Will flush portmanger and port's buffers.</p>
<p>Internally, <a class="el" href="classmdt_port_manager.html#ac0844a5cd4043a95a479d458ac7ce590" title="Flush input buffers. ">flushIn(bool, bool)</a> is called. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00537">537</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00554">flush()</a>.</p>

</div>
</div>
<a class="anchor" id="a3f0c2722a41c49de2bea9013bccd049c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::flushOut </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flushPortManagerBuffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flushPortBuffers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flush output buffers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flushPortManagerBuffers</td><td>If true, port manager buffers will be cleared. (Has no effect in this implementation, but some subclass can have output buffers). </td></tr>
    <tr><td class="paramname">flushPortBuffers</td><td>If true, port's buffers will be cleared. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Scan for available ports. ">setPort()</a> before calling this method. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00542">542</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_abstract_port_8cpp_source.html#l00181">mdtAbstractPort::flushOut()</a>, and <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>.</p>

</div>
</div>
<a class="anchor" id="ab34018a9653a5af784fa7da06a9e50d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::flushOut </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flush output buffers. </p>
<p>Will flush portmanger and port's buffers.</p>
<p>Internally, <a class="el" href="classmdt_port_manager.html#a3f0c2722a41c49de2bea9013bccd049c" title="Flush output buffers. ">flushOut(bool, bool)</a> is called. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00549">549</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00554">flush()</a>.</p>

</div>
</div>
<a class="anchor" id="aad801de5f93a3619d98b7ea3cae6b999"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::flushTransactionsDone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restore all transactions done to pool. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00761">761</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8cpp_source.html#l00312">restoreTransaction()</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00620">closePort()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00520">flushIn()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00863">onThreadsErrorOccured()</a>.</p>

</div>
</div>
<a class="anchor" id="a85b87522eb9ec9b80ff24e3ad2ef4a00"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::flushTransactionsPending </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restore all transactions pending to pool. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00708">708</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8cpp_source.html#l00312">restoreTransaction()</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00620">closePort()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00520">flushIn()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00863">onThreadsErrorOccured()</a>.</p>

</div>
</div>
<a class="anchor" id="a4fcc8f0699b655156e661bb3de6056cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::fromThreadNewFrameReaden </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by the read thread whenn a complete frame was readen. </p>
<p>This variant will add data to transactions done queue. If pending transactions queue contains <a class="el" href="classmdt_port_manager.html#a19abf29c8948cde0337d67c9722c25aa" title="Get the current transaction ID. ">currentTransactionId()</a>, it will be removed.</p>
<p>For subclass that handle frames with IDs, this method must be reimplemented. The normal way is to get the frame in pending queue with <a class="el" href="classmdt_port_manager.html#a18478707a9be7638b06cde48ced48297" title="Take pending transaction matching id. ">transactionPending()</a>. For frames with ID that not exists in pending queue, it must be choosen to discard them, or adopt another behaviour.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classmdt_port_thread.html">mdtPortThread</a></dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000028">Todo:</a></b></dt><dd>A méditer:<ul>
<li>Lock le mutex</li>
<li>Prendre les frames disponibles (-&gt; sdans une liste ...)</li>
<li>Libéréer le mutex</li>
<li>Effectier les traitements</li>
<li>Lock le mutex</li>
<li>Restituer les frames</li>
<li>Libéréer le mutex </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00818">818</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8cpp_source.html#l00722">addTransactionDone()</a>, <a class="el" href="mdt_error_8cpp_source.html#l00116">mdtError::commit()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00793">commitFrames()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00638">currentTransactionId()</a>, <a class="el" href="mdt_error_8h_source.html#l00097">mdtError::Error</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00290">getNewTransaction()</a>, <a class="el" href="mdt_port_transaction_8cpp_source.html#l00051">mdtPortTransaction::id()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00643">incrementCurrentTransactionId()</a>, <a class="el" href="mdt_frame_8cpp_source.html#l00174">mdtFrame::isComplete()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00082">lockPortMutex()</a>, <a class="el" href="mdt_error_8h_source.html#l00060">MDT_ERROR_SET_SRC</a>, <a class="el" href="mdt_error_8h_source.html#l00041">MDT_PORT_IO_ERROR</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>, <a class="el" href="mdt_abstract_port_8cpp_source.html#l00288">mdtAbstractPort::readenFrames()</a>, <a class="el" href="mdt_abstract_port_8cpp_source.html#l00293">mdtAbstractPort::readFramesPool()</a>, <a class="el" href="mdt_port_transaction_8cpp_source.html#l00110">mdtPortTransaction::setData()</a>, <a class="el" href="mdt_port_transaction_8cpp_source.html#l00046">mdtPortTransaction::setId()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00702">transactionPending()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00096">unlockPortMutex()</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00124">addThread()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00158">removeThreads()</a>.</p>

</div>
</div>
<a class="anchor" id="a75ebd3d1859e3ed38b9558981e53aac4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> * mdtPortManager::getNewTransaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a new transaction. </p>
<p>If transactions pool is empty, a new transaction is created. Note that each transaction should be put back in pool with <a class="el" href="classmdt_port_manager.html#a5fea4a9b8e94d38e8ec699dba05c7ca8" title="Restore a transaction into pool. ">restoreTransaction()</a>. In most cases, if a method that uses transactions fails, the transaction must be restored with <a class="el" href="classmdt_port_manager.html#a5fea4a9b8e94d38e8ec699dba05c7ca8" title="Restore a transaction into pool. ">restoreTransaction()</a>. See writeData(mdtPortTransaction*), writeData(const QByteArray&amp;), <a class="el" href="classmdt_port_manager.html#a85b87522eb9ec9b80ff24e3ad2ef4a00" title="Restore all transactions pending to pool. ">flushTransactionsPending()</a>, <a class="el" href="classmdt_port_manager.html#aad801de5f93a3619d98b7ea3cae6b999" title="Restore all transactions done to pool. ">flushTransactionsDone()</a>, <a class="el" href="classmdt_port_manager.html#a830ae182d06dd6a52c43a7f45b9240ac" title="Get data by frame ID. ">readenFrame()</a> and <a class="el" href="classmdt_port_manager.html#addd5dcae9644cea42a9871205af41796" title="Get all readen data. ">readenFrames()</a> for details about restoration of transaction.</p>
<dl class="section return"><dt>Returns</dt><dd>A empty transaction (<a class="el" href="classmdt_port_transaction.html#a5f7b04df58291d52e61c5bd1b7f7bb7f" title="Clear transaction. ">mdtPortTransaction::clear()</a> is called internally).</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Returned transaction is valid (never Null). </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00290">290</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_transaction_8cpp_source.html#l00032">mdtPortTransaction::clear()</a>, <a class="el" href="mdt_error_8cpp_source.html#l00116">mdtError::commit()</a>, <a class="el" href="mdt_error_8h_source.html#l00060">MDT_ERROR_SET_SRC</a>, <a class="el" href="mdt_error_8h_source.html#l00041">MDT_PORT_IO_ERROR</a>, and <a class="el" href="mdt_error_8h_source.html#l00096">mdtError::Warning</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00818">fromThreadNewFrameReaden()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00371">mdtModbusTcpPortManager::getHardwareNodeAddress()</a>, <a class="el" href="mdt_multi_io_device_8cpp_source.html#l01097">mdtMultiIoDevice::getNewTransaction()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00469">mdtModbusTcpPortManager::getRegisterValues()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00617">mdtModbusTcpPortManager::sendData()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00367">sendData()</a>, and <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00526">mdtModbusTcpPortManager::setRegisterValues()</a>.</p>

</div>
</div>
<a class="anchor" id="a4d009936a0a5130f3bfecb69fee4ce42"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::incrementCurrentTransactionId </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max</em> = <code>INT_MAX</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increment current transaction ID. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00643">643</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00818">fromThreadNewFrameReaden()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00565">mdtModbusTcpPortManager::sendData()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00367">sendData()</a>.</p>

</div>
</div>
<a class="anchor" id="aeecbec49376838ab3547729636166d97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::isClosed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if port is closed. </p>
<p>Returns true if threads are all stopped and port is closed </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00593">593</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8cpp_source.html#l00570">currentState()</a>, and <a class="el" href="mdt_port_manager_8h_source.html#l00208">PortClosed</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00124">addThread()</a>, <a class="el" href="mdt_device_modbus_8cpp_source.html#l00073">mdtDeviceModbus::connectToDevice()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00104">detachPort()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00158">removeThreads()</a>, <a class="el" href="mdt_serial_port_manager_8cpp_source.html#l00056">mdtSerialPortManager::scan()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00074">mdtModbusTcpPortManager::scan()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00565">mdtModbusTcpPortManager::sendData()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00321">sendData()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00074">setPort()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00247">setPortInfo()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00238">setPortName()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00184">start()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00215">stop()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00254">mdtModbusTcpPortManager::tryToConnect()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00654">waitTransactionPossible()</a>.</p>

</div>
</div>
<a class="anchor" id="a6dc2798324521d177fb8f79d4f6c5f0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::isReady </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if port manager is ready. </p>
<p>Internally, the currentState is used to check if port manager is ready. This implementation returns true if currentState is PortReady or Ready.</p>
<p>For some port type, it can be mandatory to be connected to device before any data can be transferred. In such case, reimplement this method. </p>

<p>Reimplemented in <a class="el" href="classmdt_modbus_tcp_port_manager.html#a5477eb7e8d57c5a42004046b426e39b6">mdtModbusTcpPortManager</a>.</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00584">584</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8cpp_source.html#l00570">currentState()</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00214">PortReady</a>, and <a class="el" href="mdt_port_manager_8h_source.html#l00219">Ready</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00321">sendData()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00184">start()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00438">waitOneTransactionDone()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00383">waitTransactionDone()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00654">waitTransactionPossible()</a>.</p>

</div>
</div>
<a class="anchor" id="a798ce0939234870ae3b9995108e54380"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::keepTransactionsDone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the keepTransactionsDone flag. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00285">285</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00793">commitFrames()</a>.</p>

</div>
</div>
<a class="anchor" id="a16c7ea5d74a8fc9ed065477574ec03c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_error.html">mdtError</a> mdtPortManager::lastError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get last error. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000031">Todo:</a></b></dt><dd>Not completly used currently, must be implemented in this class + subclasses . </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8h_source.html#l00631">631</a> of file <a class="el" href="mdt_port_manager_8h_source.html">mdtPortManager.h</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8h_source.html#l00760">pvLastError</a>.</p>

<p>Referenced by <a class="el" href="mdt_device_modbus_8cpp_source.html#l00073">mdtDeviceModbus::connectToDevice()</a>.</p>

</div>
</div>
<a class="anchor" id="a3107b7121dfe5b9686d9b3b3a48a0af0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::lockPortMutex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lock the port's mutex. </p>
<p>This method will check a internal flag before locking port's mutex. If the flag syas that mutex is allready locked, a warning is logged with <a class="el" href="classmdt_error.html" title="mdtError contains informations about a error that occured ">mdtError</a> system. Then, this method reurns without locking the port mutex again.</p>
<dl class="section pre"><dt>Precondition</dt><dd>Port must be set with setPort before using this method </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00082">82</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_error_8cpp_source.html#l00116">mdtError::commit()</a>, <a class="el" href="mdt_abstract_port_8cpp_source.html#l00344">mdtAbstractPort::lockMutex()</a>, <a class="el" href="mdt_error_8h_source.html#l00060">MDT_ERROR_SET_SRC</a>, <a class="el" href="mdt_error_8h_source.html#l00041">MDT_PORT_IO_ERROR</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>, and <a class="el" href="mdt_error_8h_source.html#l00096">mdtError::Warning</a>.</p>

<p>Referenced by <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00641">mdtModbusTcpPortManager::fromThreadNewFrameReaden()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00818">fromThreadNewFrameReaden()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00565">mdtModbusTcpPortManager::sendData()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00321">sendData()</a>.</p>

</div>
</div>
<a class="anchor" id="a416a24db1048e9f66aef27ea810954d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::newTransactionDone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted each time a transaction is done. </p>
<p>Note: the transaction pointer is only valid for one call, do not store it for later usage. Connect this signal to a slot that runs in GUI thread only.</p>
<p>This signal is emited by <a class="el" href="classmdt_port_manager.html#a84d37b380080eb26e56c68424dedd958" title="Emit signals for each done transactions. ">commitFrames()</a>. </p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00793">commitFrames()</a>.</p>

</div>
</div>
<a class="anchor" id="a0c460b47b12e38e708321be79f6343d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::notifyCurrentState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify the current state. </p>
<p>Will force to emit <a class="el" href="classmdt_port_manager.html#a01da0634bc52a71c0df0d83fc166eeda" title="Emitted each time the state changed. ">stateChanged()</a> and <a class="el" href="classmdt_port_manager.html#ae00d513ed335fbd203852dcb7180005c" title="Emitted only if a state that must be notified is entered. ">stateChangedForUi()</a> .</p>
<p>Can be usefull during application setup, because some initial states (like PortClosed) are directly notified, probably before signals are connected to application slots. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00577">577</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_state_machine_8cpp_source.html#l00113">mdtStateMachine::notifyCurrentState()</a>.</p>

<p>Referenced by <a class="el" href="mdt_device_modbus_8cpp_source.html#l00036">mdtDeviceModbus::mdtDeviceModbus()</a>, <a class="el" href="mdt_modbus_io_tool_8cpp_source.html#l00036">mdtModbusIoTool::mdtModbusIoTool()</a>, and <a class="el" href="mdt_abstract_port_setup_dialog_8cpp_source.html#l00048">mdtAbstractPortSetupDialog::setPortManager()</a>.</p>

</div>
</div>
<a class="anchor" id="a7e45b8e3475e5182ed12218616664d07"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::onThreadsErrorOccured </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Manage errors comming from port threads. </p>
<p>This implementation will handle some common errors, change the current state emiting transistion signal. If state has changed, <a class="el" href="classmdt_port_manager.html#a01da0634bc52a71c0df0d83fc166eeda" title="Emitted each time the state changed. ">stateChanged()</a> signal is emited.</p>
<p>Handled errors are:</p>
<ul>
<li>NoError: go to ready state.</li>
<li>WriteCanceled: flush pending transaction with <a class="el" href="classmdt_port_manager.html#a85b87522eb9ec9b80ff24e3ad2ef4a00" title="Restore all transactions pending to pool. ">flushTransactionsPending()</a> and go to warning state.</li>
<li>WriteTimeout: flush pending transaction with <a class="el" href="classmdt_port_manager.html#a85b87522eb9ec9b80ff24e3ad2ef4a00" title="Restore all transactions pending to pool. ">flushTransactionsPending()</a> and go to busy state.</li>
<li>WritePoolEmpty: go to busy state.</li>
<li>ReadCanceled: flush pending transaction with <a class="el" href="classmdt_port_manager.html#a85b87522eb9ec9b80ff24e3ad2ef4a00" title="Restore all transactions pending to pool. ">flushTransactionsPending()</a>, done transactions with <a class="el" href="classmdt_port_manager.html#aad801de5f93a3619d98b7ea3cae6b999" title="Restore all transactions done to pool. ">flushTransactionsDone()</a> and go to warning state.</li>
<li>ReadTimeout: flush pending transaction with <a class="el" href="classmdt_port_manager.html#a85b87522eb9ec9b80ff24e3ad2ef4a00" title="Restore all transactions pending to pool. ">flushTransactionsPending()</a>, done transactions with <a class="el" href="classmdt_port_manager.html#aad801de5f93a3619d98b7ea3cae6b999" title="Restore all transactions done to pool. ">flushTransactionsDone()</a> and go to busy state.</li>
<li>ReadPoolEmpty: go to busy state.</li>
<li>Disconnected: flush pending transaction with <a class="el" href="classmdt_port_manager.html#a85b87522eb9ec9b80ff24e3ad2ef4a00" title="Restore all transactions pending to pool. ">flushTransactionsPending()</a>, done transactions with <a class="el" href="classmdt_port_manager.html#aad801de5f93a3619d98b7ea3cae6b999" title="Restore all transactions done to pool. ">flushTransactionsDone()</a> and go to disconnected state.</li>
<li>Connecting: go to connecting state.</li>
</ul>
<p>For other errors, including UnhandledError, pending transactions are flushed with <a class="el" href="classmdt_port_manager.html#a85b87522eb9ec9b80ff24e3ad2ef4a00" title="Restore all transactions pending to pool. ">flushTransactionsPending()</a>, done transactions are flushed with <a class="el" href="classmdt_port_manager.html#aad801de5f93a3619d98b7ea3cae6b999" title="Restore all transactions done to pool. ">flushTransactionsDone()</a> and state will become error state.</p>
<p>For other cases, the subclass can reimplement this method. Dont forget to emit transistion signals. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00863">863</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_abstract_port_8h_source.html#l00082">mdtAbstractPort::Connecting</a>, <a class="el" href="mdt_abstract_port_8h_source.html#l00083">mdtAbstractPort::ConnectionFailed</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00570">currentState()</a>, <a class="el" href="mdt_abstract_port_8h_source.html#l00079">mdtAbstractPort::Disconnected</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00761">flushTransactionsDone()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00708">flushTransactionsPending()</a>, <a class="el" href="mdt_abstract_port_8h_source.html#l00061">mdtAbstractPort::NoError</a>, <a class="el" href="classmdt_port_manager.html#a5959d4025f4903eef0ea65c350f6f9b3">pmBusyEvent()</a>, <a class="el" href="classmdt_port_manager.html#a04fb1d09af226677cacd6f0e485d9810">pmConnectingEvent()</a>, <a class="el" href="classmdt_port_manager.html#a57fc083d7db52279ec6b990b75705552">pmConnectionFailedEvent()</a>, <a class="el" href="classmdt_port_manager.html#ab4667ac04a31166eeb7b5f92893b16db">pmDisconnectedEvent()</a>, <a class="el" href="classmdt_port_manager.html#aa23c17048773e345778e7d6393f630db">pmReadyEvent()</a>, <a class="el" href="classmdt_port_manager.html#a0be3429f901fc9bf4adee196035d2cee">pmTransactionTimeoutEvent()</a>, <a class="el" href="classmdt_port_manager.html#a94d3fa4a26f8686449313a54003f0b4d">pmUnhandledErrorEvent()</a>, <a class="el" href="mdt_abstract_port_8h_source.html#l00068">mdtAbstractPort::ReadCanceled</a>, <a class="el" href="mdt_abstract_port_8h_source.html#l00087">mdtAbstractPort::ReadPoolEmpty</a>, <a class="el" href="mdt_abstract_port_8h_source.html#l00072">mdtAbstractPort::ReadTimeout</a>, <a class="el" href="mdt_abstract_port_8h_source.html#l00091">mdtAbstractPort::ReadWriteBusy</a>, <a class="el" href="mdt_abstract_port_8h_source.html#l00066">mdtAbstractPort::WriteCanceled</a>, <a class="el" href="mdt_abstract_port_8h_source.html#l00088">mdtAbstractPort::WritePoolEmpty</a>, and <a class="el" href="mdt_abstract_port_8h_source.html#l00074">mdtAbstractPort::WriteTimeout</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00124">addThread()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00158">removeThreads()</a>.</p>

</div>
</div>
<a class="anchor" id="aab594613e8985590c835194efbc27b5e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::openPort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open the port. </p>
<p>Will try to open port defined with <a class="el" href="classmdt_port_manager.html#a2b2ed690cbba9f544c6ac1b46684e59a" title="Set port name. ">setPortName()</a> or <a class="el" href="classmdt_port_manager.html#a7e2ef93ec2731e66aa2b2d5f7ce9bc1c" title="Set port info. ">setPortInfo()</a></p>
<dl class="section return"><dt>Returns</dt><dd>True on success, false else. </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Scan for available ports. ">setPort()</a> before use of this method. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000032">Todo:</a></b></dt><dd>Should return <a class="el" href="classmdt_abstract_port.html#ad4121bb930c95887e77f8bafa065a85e" title="Error. ">mdtAbstractPort::error_t</a> </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00605">605</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8cpp_source.html#l00266">config()</a>, <a class="el" href="mdt_abstract_port_8h_source.html#l00061">mdtAbstractPort::NoError</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00633">setCurrentTransactionId()</a>, <a class="el" href="mdt_abstract_port_8cpp_source.html#l00110">mdtAbstractPort::setup()</a>, and <a class="el" href="mdt_port_config_8cpp_source.html#l00133">mdtPortConfig::writeQueueSize()</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00184">start()</a>.</p>

</div>
</div>
<a class="anchor" id="a6dd5529e6de23897fe5082ee4a33fa3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::pmAllThreadsReadyEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sent when all threads are ready. </p>
<p>Used by state machine </p>

</div>
</div>
<a class="anchor" id="a1bfd4d20867ecae2cad1b95b52860b12"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::pmAllThreadsStoppedEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sent when all threads are stopped. </p>
<p>Used by state machine </p>

</div>
</div>
<a class="anchor" id="a5959d4025f4903eef0ea65c350f6f9b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::pmBusyEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sent when device is busy (or other slow down reason..) </p>
<p>Used by state machine </p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00863">onThreadsErrorOccured()</a>.</p>

</div>
</div>
<a class="anchor" id="a871ec7f9676a12c84196404285cf2161"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::pmConnectedEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sent when connection with device is established. </p>
<p>Used by state machine </p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00124">addThread()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00158">removeThreads()</a>.</p>

</div>
</div>
<a class="anchor" id="a04fb1d09af226677cacd6f0e485d9810"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::pmConnectingEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sent when connection with device beginns. </p>
<p>Used by state machine </p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00863">onThreadsErrorOccured()</a>.</p>

</div>
</div>
<a class="anchor" id="a57fc083d7db52279ec6b990b75705552"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::pmConnectionFailedEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sent when connection failed on startup or after max try. </p>
<p>Used by state machine </p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00863">onThreadsErrorOccured()</a>.</p>

</div>
</div>
<a class="anchor" id="ab4667ac04a31166eeb7b5f92893b16db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::pmDisconnectedEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sent when connection with device was lost/closed. </p>
<p>Used by state machine </p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00863">onThreadsErrorOccured()</a>.</p>

</div>
</div>
<a class="anchor" id="ae77c1b24291797704488beda0009c57a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::pmPortClosedEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sent when port was closed. </p>
<p>Used by state machine </p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00215">stop()</a>.</p>

</div>
</div>
<a class="anchor" id="aa23c17048773e345778e7d6393f630db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::pmReadyEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sent when device and communication becomes ready again. </p>
<p>Used by state machine </p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00863">onThreadsErrorOccured()</a>.</p>

</div>
</div>
<a class="anchor" id="aa12ccb053b3ce050a2482a957b28222e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::pmStartThreadsEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sent when threads must be started. </p>
<p>Used by state machine </p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00184">start()</a>.</p>

</div>
</div>
<a class="anchor" id="a7b81ee6491167fa17574d840720d9b33"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::pmStopThreadsEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sent when threads must be stopped. </p>
<p>Used by state machine </p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00215">stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a0be3429f901fc9bf4adee196035d2cee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::pmTransactionTimeoutEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sent when a transaction timeout occured. </p>
<p>A transaction timeout can be notified by a port thread, or/and internall transaction timer.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classmdt_port_manager.html#a04fc12f0dc02e981cac8dc56539e63d2" title="Check if a transaction timeout occured. ">transactionTimeoutOccured()</a> </dd>
<dd>
onTransactionTimeoutOccured() </dd>
<dd>
<a class="el" href="classmdt_port_manager.html#adeeba5a216174fcc1d01446a9537f40e" title="Start transaction timer. ">startTransactionTimer()</a> </dd>
<dd>
<a class="el" href="classmdt_port_manager.html#a1467c0bd28612ae3116f5daba08c0b84" title="Stop transaction timer. ">stopTransactionTimer()</a> </dd></dl>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00032">mdtPortManager()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00863">onThreadsErrorOccured()</a>.</p>

</div>
</div>
<a class="anchor" id="a94d3fa4a26f8686449313a54003f0b4d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::pmUnhandledErrorEvent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sent when a unhandled error occured. </p>
<p>Used by state machine </p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00677">addTransactionPending()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00863">onThreadsErrorOccured()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00383">waitTransactionDone()</a>.</p>

</div>
</div>
<a class="anchor" id="a88109b455fc5a5f5adf0636f7450143e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_port_info.html">mdtPortInfo</a> mdtPortManager::portInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get current port info. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00256">256</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="mdt_serial_port_manager_8cpp_source.html#l00056">mdtSerialPortManager::scan()</a>.</p>

</div>
</div>
<a class="anchor" id="af4fcab6aaad98d74aeabfc972da1d406"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString mdtPortManager::portName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get current port name. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00261">261</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_info_8cpp_source.html#l00052">mdtPortInfo::portName()</a>.</p>

</div>
</div>
<a class="anchor" id="a830ae182d06dd6a52c43a7f45b9240ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QByteArray mdtPortManager::readenFrame </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get data by frame ID. </p>
<p>The frame ID is a protocol specific identification. F.ex. in MODBUS/TCP, the transaction ID is used, or bTag for USBTMC.</p>
<p>If found, the frame is removed from done queue. (A second call with same ID will return a empty QByteArray).</p>
<p>If ID was not found, a empty QByteArray is returned. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00490">490</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_transaction_8cpp_source.html#l00116">mdtPortTransaction::data()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00312">restoreTransaction()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00744">transactionDone()</a>.</p>

<p>Referenced by <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00371">mdtModbusTcpPortManager::getHardwareNodeAddress()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00469">mdtModbusTcpPortManager::getRegisterValues()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00526">mdtModbusTcpPortManager::setRegisterValues()</a>, and <a class="el" href="mdt_multi_io_device_8cpp_source.html#l01112">mdtMultiIoDevice::waitTransactionDone()</a>.</p>

</div>
</div>
<a class="anchor" id="addd5dcae9644cea42a9871205af41796"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt; QByteArray &gt; mdtPortManager::readenFrames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all readen data. </p>
<p>Note that calling this methode will clear the internal queue. (A second call will return a empty list). </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00503">503</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_transaction_8cpp_source.html#l00116">mdtPortTransaction::data()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00312">restoreTransaction()</a>.</p>

</div>
</div>
<a class="anchor" id="ad9233b5156a45f2684783317d75fdf9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_port_thread.html">mdtPortThread</a> * mdtPortManager::readThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns instance of reader thread. </p>
<p>Note that a Null pointer can be returned </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00148">148</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aaa0a474183bcae0fff4fb9ef43023c25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::removeThreads </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>releaseMemory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detach threads from port and remove threads. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">releaseMemory</td><td>If true, all threads are deleted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>Port manager must be closed (see <a class="el" href="classmdt_port_manager.html#aeecbec49376838ab3547729636166d97" title="Check if port is closed. ">isClosed()</a> ). </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00158">158</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8cpp_source.html#l00818">fromThreadNewFrameReaden()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00593">isClosed()</a>, <a class="el" href="mdt_port_thread_8cpp_source.html#l00201">mdtPortThread::isReader()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00863">onThreadsErrorOccured()</a>, <a class="el" href="classmdt_port_manager.html#a871ec7f9676a12c84196404285cf2161">pmConnectedEvent()</a>, and <a class="el" href="mdt_port_manager_8h_source.html#l00926">pvThreads</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00104">detachPort()</a>.</p>

</div>
</div>
<a class="anchor" id="a5fea4a9b8e94d38e8ec699dba05c7ca8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::restoreTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restore a transaction into pool. </p>
<dl class="section pre"><dt>Precondition</dt><dd>transaction must be a valid pointer (not Null) </dd>
<dd>
One transaction must be commited once (avoid corrupted double free) </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00312">312</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00793">commitFrames()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00761">flushTransactionsDone()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00708">flushTransactionsPending()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00490">readenFrame()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00503">readenFrames()</a>, <a class="el" href="mdt_multi_io_device_8cpp_source.html#l01104">mdtMultiIoDevice::restoreTransaction()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00565">mdtModbusTcpPortManager::sendData()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00321">sendData()</a>.</p>

</div>
</div>
<a class="anchor" id="ad98399edba146af5cf32a9002094385c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mdtPortManager::sendData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> *&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send data on port. </p>
<p>At first, this method waits until the ready state is set calling <a class="el" href="classmdt_port_manager.html#a6dc2798324521d177fb8f79d4f6c5f0f" title="Check if port manager is ready. ">isReady()</a> , a frame is available in port's write frames pool, and until a transaction is possible (see <a class="el" href="classmdt_port_manager.html#ac04a12f8aa20ba04695083afce45a6cc" title="Wait until transaction pending queue has less than maximum possible items. ">waitTransactionPossible()</a> ). This wait will not break event loop, so no GUI freeze occurs. If port manager is stopped during this wait (unhandled error, stop request), this method returns.</p>
<p>Then, data contained in transaction will be passed to the <a class="el" href="classmdt_port.html">mdtPort</a>'s write queue by copy. This method returns immediatly after enqueue, and don't wait until data was written.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td>Transaction used to send data. Following members are used by this method:<ul>
<li>id : transaction will be added to pending transactions with this id, and currentTransactionId will be set with it.</li>
<li>data : will be sent to port.</li>
<li>isQueryReplyMode : if true, the transaction will be keeped in transactions done queue until <a class="el" href="classmdt_port_manager.html#a830ae182d06dd6a52c43a7f45b9240ac" title="Get data by frame ID. ">readenFrame()</a> or <a class="el" href="classmdt_port_manager.html#addd5dcae9644cea42a9871205af41796" title="Get all readen data. ">readenFrames()</a> is called. Note: it's possible to force keeping all incomming data (wich also owerwrite this flag) by setting the global keepTransactionsDone flag.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Transaction ID on success or value &lt; 0 on error. In this implementation, the only possible error is <a class="el" href="classmdt_abstract_port.html#ad4121bb930c95887e77f8bafa065a85eae50ff4a9393507ad39005ddc7d5be42f">mdtAbstractPort::WriteCanceled</a>, witch typically occurs when port manager stops. Some subclass can return a frame ID on success, or a other error. See subclass documentation for details. Note: on failure, the transaction is restored to pool. </dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Scan for available ports. ">setPort()</a> before use of this method. </dd>
<dd>
transaction must be a valid pointer, and not allready exists in transactions pending or transactions done queue.</dd></dl>
<p>Subclass notes:<br/>
 This method can be reimplemented in subclass if needed. Typically usefull if some encoding is needed before the frame is submitted to port. A frame must be taken from port's write frames pool with <a class="el" href="classmdt_abstract_port.html#abf093b67fddebffa4f3c52277b9a8cf7" title="Get the write frames Queue pool. ">mdtAbstractPort::writeFramesPool()</a> dequeue() method (see Qt's QQueue documentation for more details on dequeue() ), then added to port's write queue with <a class="el" href="classmdt_abstract_port.html#a9a69eb2fc07d551ab37c011487fa319d" title="Add a frame to write. ">mdtAbstractPort::addFrameToWrite()</a> . If protocol supports frame identification (like MODBUS's transaction ID or USBTMC's bTag), it should be returned here and incremented using <a class="el" href="classmdt_port_manager.html#a4d009936a0a5130f3bfecb69fee4ce42" title="Increment current transaction ID. ">incrementCurrentTransactionId()</a>. </p>

<p>Reimplemented in <a class="el" href="classmdt_modbus_tcp_port_manager.html#a208a3b2522795974836fd8aef406725a">mdtModbusTcpPortManager</a>.</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00321">321</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_abstract_port_8cpp_source.html#l00298">mdtAbstractPort::addFrameToWrite()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00677">addTransactionPending()</a>, <a class="el" href="mdt_frame_8cpp_source.html#l00179">mdtFrame::clear()</a>, <a class="el" href="mdt_frame_8cpp_source.html#l00188">mdtFrame::clearSub()</a>, <a class="el" href="mdt_port_transaction_8cpp_source.html#l00116">mdtPortTransaction::data()</a>, <a class="el" href="mdt_port_transaction_8cpp_source.html#l00051">mdtPortTransaction::id()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00593">isClosed()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00584">isReady()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00082">lockPortMutex()</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00312">restoreTransaction()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00730">transactionsDoneContains()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00096">unlockPortMutex()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00654">waitTransactionPossible()</a>, <a class="el" href="mdt_abstract_port_8h_source.html#l00066">mdtAbstractPort::WriteCanceled</a>, and <a class="el" href="mdt_abstract_port_8cpp_source.html#l00339">mdtAbstractPort::writeFramesPool()</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_term_8cpp_source.html#l00100">mdtPortTerm::sendCommandToSerialPort()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00367">sendData()</a>.</p>

</div>
</div>
<a class="anchor" id="a445b27f0819158f67f1bd548cdd2fedf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mdtPortManager::sendData </td>
          <td>(</td>
          <td class="paramtype">const QByteArray &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>queryReplyMode</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send data to port. </p>
<p>Will increment the current transaction ID, get a new transaction, setup it and finally send it with <a class="el" href="classmdt_port_manager.html#ad98399edba146af5cf32a9002094385c" title="Send data on port. ">sendData(mdtPortTransaction*)</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Data to write. </td></tr>
    <tr><td class="paramname">queryReplyMode</td><td>If true, reply will be keeped in transactions done queue until <a class="el" href="classmdt_port_manager.html#a830ae182d06dd6a52c43a7f45b9240ac" title="Get data by frame ID. ">readenFrame()</a> or <a class="el" href="classmdt_port_manager.html#addd5dcae9644cea42a9871205af41796" title="Get all readen data. ">readenFrames()</a> is called. If false, behaviour depends on keepTransactionsDone flag.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classmdt_port_manager.html#ad98399edba146af5cf32a9002094385c" title="Send data on port. ">sendData(mdtPortTransaction*)</a> </dd></dl>

<p>Reimplemented in <a class="el" href="classmdt_modbus_tcp_port_manager.html#ac6ffcccbba23b1bda5cba2ae347793ba">mdtModbusTcpPortManager</a>.</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00367">367</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8cpp_source.html#l00638">currentTransactionId()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00290">getNewTransaction()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00643">incrementCurrentTransactionId()</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00321">sendData()</a>, <a class="el" href="mdt_port_transaction_8cpp_source.html#l00110">mdtPortTransaction::setData()</a>, <a class="el" href="mdt_port_transaction_8cpp_source.html#l00046">mdtPortTransaction::setId()</a>, and <a class="el" href="mdt_port_transaction_8cpp_source.html#l00121">mdtPortTransaction::setQueryReplyMode()</a>.</p>

</div>
</div>
<a class="anchor" id="a3f1d25b2441c467c0de9908c73422a93"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::setCurrentTransactionId </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the current transaction ID. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00633">633</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00605">openPort()</a>.</p>

</div>
</div>
<a class="anchor" id="a9adb5098766c9df588bc9978b00c5eb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::setKeepTransactionsDone </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>keep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force transactions done to be keeped. </p>
<p>If keep is true, <a class="el" href="classmdt_port_manager.html#a84d37b380080eb26e56c68424dedd958" title="Emit signals for each done transactions. ">commitFrames()</a> will ignore the <a class="el" href="classmdt_port_transaction.html#a9da1cc7a191cd21a2e532d277aa3c628" title="Get the query/reply mode flag. ">mdtPortTransaction::isQueryReplyMode()</a> and allways keep transactions in done queue until <a class="el" href="classmdt_port_manager.html#a830ae182d06dd6a52c43a7f45b9240ac" title="Get data by frame ID. ">readenFrame()</a> or <a class="el" href="classmdt_port_manager.html#addd5dcae9644cea42a9871205af41796" title="Get all readen data. ">readenFrames()</a> is called. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00280">280</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00041">mdtModbusTcpPortManager::mdtModbusTcpPortManager()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00032">mdtPortManager()</a>.</p>

</div>
</div>
<a class="anchor" id="afcd156b2d0c9d340999935efb6cd8cb6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::setPort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_abstract_port.html">mdtAbstractPort</a> *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scan for available ports. </p>
<p>This method is implemented is port's specific subclass. Default implementation returns a empty list.</p>
<p>Note that returned list must be freed by user after usage. (for.ex. with qDeletAll() and QList::clear() ).virtual QList&lt;mdtPortInfo*&gt; scan();</p>
<p>Set port object</p>
<dl class="section pre"><dt>Precondition</dt><dd>port must be a valid pointer to the expected class instance (for ex: <a class="el" href="classmdt_serial_port.html">mdtSerialPort</a>). </dd>
<dd>
Port manager must be closed (see <a class="el" href="classmdt_port_manager.html#aeecbec49376838ab3547729636166d97" title="Check if port is closed. ">isClosed()</a> ).</dd></dl>
<p>QList&lt;mdtPortInfo*&gt; mdtPortManager::scan() { return QList&lt;mdtPortInfo*&gt;(); } </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00074">74</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8cpp_source.html#l00593">isClosed()</a>, and <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>.</p>

<p>Referenced by <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00041">mdtModbusTcpPortManager::mdtModbusTcpPortManager()</a>, and <a class="el" href="mdt_serial_port_manager_8cpp_source.html#l00032">mdtSerialPortManager::mdtSerialPortManager()</a>.</p>

</div>
</div>
<a class="anchor" id="a7e2ef93ec2731e66aa2b2d5f7ce9bc1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::setPortInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_port_info.html">mdtPortInfo</a>&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set port info. </p>
<p>Store given port info, and set port name to internall port object. (see <a class="el" href="classmdt_port_info.html#ad456aac33dccc9b0583ed8aa4796cdf0" title="Get the port name. ">mdtPortInfo::portName()</a> ).</p>
<p>Setting a port info can be usefull if other informations are needed later in application (f.ex. <a class="el" href="classmdt_port_info.html#a38bcac67372782228a91d8e7dbf49211" title="Get the display text. ">mdtPortInfo::displayText()</a> ). You can get port informations later with <a class="el" href="classmdt_port_manager.html#a88109b455fc5a5f5adf0636f7450143e" title="Get current port info. ">portInfo()</a>.</p>
<dl class="section pre"><dt>Precondition</dt><dd>Port must be set before with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Scan for available ports. ">setPort()</a> </dd>
<dd>
Port manager must be closed (see <a class="el" href="classmdt_port_manager.html#aeecbec49376838ab3547729636166d97" title="Check if port is closed. ">isClosed()</a> ). </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00247">247</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8cpp_source.html#l00593">isClosed()</a>, <a class="el" href="mdt_port_info_8cpp_source.html#l00052">mdtPortInfo::portName()</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>, and <a class="el" href="mdt_abstract_port_8cpp_source.html#l00038">mdtAbstractPort::setPortName()</a>.</p>

</div>
</div>
<a class="anchor" id="a2b2ed690cbba9f544c6ac1b46684e59a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::setPortName </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>portName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set port name. </p>
<p>Set the port name to internally port object. Does nothing else. To open the port, use <a class="el" href="classmdt_port_manager.html#af1fb103ffafc227337a59c7e82f44fbc" title="Start port manager. ">start()</a>.</p>
<dl class="section pre"><dt>Precondition</dt><dd>Port must be set before with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Scan for available ports. ">setPort()</a> </dd>
<dd>
Port manager must be closed (see <a class="el" href="classmdt_port_manager.html#aeecbec49376838ab3547729636166d97" title="Check if port is closed. ">isClosed()</a> ). </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classmdt_abstract_port.html" title="Base class for port I/O. ">mdtAbstractPort</a> </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00238">238</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8cpp_source.html#l00593">isClosed()</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>, and <a class="el" href="mdt_abstract_port_8cpp_source.html#l00038">mdtAbstractPort::setPortName()</a>.</p>

<p>Referenced by <a class="el" href="mdt_device_modbus_8cpp_source.html#l00073">mdtDeviceModbus::connectToDevice()</a>, and <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00074">mdtModbusTcpPortManager::scan()</a>.</p>

</div>
</div>
<a class="anchor" id="af1fb103ffafc227337a59c7e82f44fbc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start port manager. </p>
<p>Will open port and start threads. This method returns once port manager is ready (see <a class="el" href="classmdt_port_manager.html#a6dc2798324521d177fb8f79d4f6c5f0f" title="Check if port manager is ready. ">isReady()</a> ). Note: event loop continues to work during wait of ready state, GUI will also not freeze</p>
<dl class="section pre"><dt>Precondition</dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Scan for available ports. ">setPort()</a> before use of this method. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00184">184</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8cpp_source.html#l00570">currentState()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00593">isClosed()</a>, <a class="el" href="mdt_abstract_port_8cpp_source.html#l00048">mdtAbstractPort::isOpen()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00584">isReady()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00605">openPort()</a>, <a class="el" href="classmdt_port_manager.html#aa12ccb053b3ce050a2482a957b28222e">pmStartThreadsEvent()</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00213">PortError</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00215">stop()</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00209">Stopped</a>, and <a class="el" href="mdt_port_manager_8h_source.html#l00211">Stopping</a>.</p>

<p>Referenced by <a class="el" href="mdt_device_modbus_8cpp_source.html#l00073">mdtDeviceModbus::connectToDevice()</a>, and <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00074">mdtModbusTcpPortManager::scan()</a>.</p>

</div>
</div>
<a class="anchor" id="adeeba5a216174fcc1d01446a9537f40e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::startTransactionTimer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start transaction timer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>Timeout [ms]</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classmdt_port_manager.html#a04fc12f0dc02e981cac8dc56539e63d2" title="Check if a transaction timeout occured. ">transactionTimeoutOccured()</a> </dd>
<dd>
<a class="el" href="classmdt_port_manager.html#a0be3429f901fc9bf4adee196035d2cee" title="Sent when a transaction timeout occured. ">pmTransactionTimeoutEvent()</a> </dd>
<dd>
onTransactionTimeoutOccured() </dd>
<dd>
<a class="el" href="classmdt_port_manager.html#a1467c0bd28612ae3116f5daba08c0b84" title="Stop transaction timer. ">stopTransactionTimer()</a> </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00772">772</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00438">waitOneTransactionDone()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00383">waitTransactionDone()</a>.</p>

</div>
</div>
<a class="anchor" id="a01da0634bc52a71c0df0d83fc166eeda"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::stateChanged </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stateId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted each time the state changed. </p>

</div>
</div>
<a class="anchor" id="ae00d513ed335fbd203852dcb7180005c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::stateChangedForUi </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stateId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>stateText</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ledColorId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ledIsOn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted only if a state that must be notified is entered. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classmdt_state_machine.html" title="Extend Qt&#39;s QStateMachine. ">mdtStateMachine</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a6f6c6f8a8430d8631a08c765565db9ab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::statusMessageChanged </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>details</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted when a new status message is to display. </p>
<p>Typically used with mdtDeviceStatusWidget. </p>

<p>Referenced by <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00254">mdtModbusTcpPortManager::tryToConnect()</a>.</p>

</div>
</div>
<a class="anchor" id="aacbf87cc3d9c37c87e21696f8a6514bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop port manager. </p>
<p>Will stop threads and close port. This method returns once port manager is closed ( see <a class="el" href="classmdt_port_manager.html#aeecbec49376838ab3547729636166d97" title="Check if port is closed. ">isClosed()</a> ). Note: event loop continues to work during wait of ready state, GUI will also not freeze</p>
<dl class="section pre"><dt>Precondition</dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Scan for available ports. ">setPort()</a> before use of this method. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00215">215</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8cpp_source.html#l00620">closePort()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00593">isClosed()</a>, <a class="el" href="mdt_abstract_port_8cpp_source.html#l00048">mdtAbstractPort::isOpen()</a>, <a class="el" href="classmdt_port_manager.html#ae77c1b24291797704488beda0009c57a">pmPortClosedEvent()</a>, <a class="el" href="classmdt_port_manager.html#a7b81ee6491167fa17574d840720d9b33">pmStopThreadsEvent()</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00208">PortClosed</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00209">Stopped</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00780">stopTransactionTimer()</a>, and <a class="el" href="mdt_state_machine_8cpp_source.html#l00073">mdtStateMachine::waitOnState()</a>.</p>

<p>Referenced by <a class="el" href="mdt_device_modbus_8cpp_source.html#l00073">mdtDeviceModbus::connectToDevice()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00104">detachPort()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00074">mdtModbusTcpPortManager::scan()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00184">start()</a>, <a class="el" href="mdt_device_modbus_8cpp_source.html#l00054">mdtDeviceModbus::~mdtDeviceModbus()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00059">~mdtPortManager()</a>.</p>

</div>
</div>
<a class="anchor" id="a1467c0bd28612ae3116f5daba08c0b84"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::stopTransactionTimer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stop transaction timer. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classmdt_port_manager.html#adeeba5a216174fcc1d01446a9537f40e" title="Start transaction timer. ">startTransactionTimer()</a> </dd>
<dd>
<a class="el" href="classmdt_port_manager.html#a04fc12f0dc02e981cac8dc56539e63d2" title="Check if a transaction timeout occured. ">transactionTimeoutOccured()</a> </dd>
<dd>
<a class="el" href="classmdt_port_manager.html#a0be3429f901fc9bf4adee196035d2cee" title="Sent when a transaction timeout occured. ">pmTransactionTimeoutEvent()</a> </dd>
<dd>
onTransactionTimeoutOccured() </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00780">780</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00215">stop()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00438">waitOneTransactionDone()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00383">waitTransactionDone()</a>.</p>

</div>
</div>
<a class="anchor" id="a5869bcf6774a86fb9d3b00a0d4211bb5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> * mdtPortManager::transactionDone </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Take transaction from DONE queue matching id. </p>
<dl class="section return"><dt>Returns</dt><dd>A valid transaction if exists, else a Null pointer. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00744">744</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_transaction_8cpp_source.html#l00051">mdtPortTransaction::id()</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00490">readenFrame()</a>.</p>

</div>
</div>
<a class="anchor" id="a18478707a9be7638b06cde48ced48297"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_port_transaction.html">mdtPortTransaction</a> * mdtPortManager::transactionPending </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Take pending transaction matching id. </p>
<dl class="section return"><dt>Returns</dt><dd>A valid transaction if exists, else a Null pointer. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00702">702</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00641">mdtModbusTcpPortManager::fromThreadNewFrameReaden()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00818">fromThreadNewFrameReaden()</a>.</p>

</div>
</div>
<a class="anchor" id="a3293066f4c3ed2e4b116f28dca8c5d64"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::transactionsDoneContains </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if a transaction with given ID exists in done queue. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00730">730</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00722">addTransactionDone()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00565">mdtModbusTcpPortManager::sendData()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00321">sendData()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00383">waitTransactionDone()</a>.</p>

</div>
</div>
<a class="anchor" id="a04fc12f0dc02e981cac8dc56539e63d2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::transactionTimeoutOccured </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if a transaction timeout occured. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classmdt_port_manager.html#a0be3429f901fc9bf4adee196035d2cee" title="Sent when a transaction timeout occured. ">pmTransactionTimeoutEvent()</a> </dd>
<dd>
onTransactionTimeoutOccured() </dd>
<dd>
<a class="el" href="classmdt_port_manager.html#adeeba5a216174fcc1d01446a9537f40e" title="Start transaction timer. ">startTransactionTimer()</a> </dd>
<dd>
<a class="el" href="classmdt_port_manager.html#a1467c0bd28612ae3116f5daba08c0b84" title="Stop transaction timer. ">stopTransactionTimer()</a> </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00788">788</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00438">waitOneTransactionDone()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00383">waitTransactionDone()</a>.</p>

</div>
</div>
<a class="anchor" id="a882e6bf95dac9cd4ab8cc93ecc524874"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::unlockPortMutex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlock port's mutex. </p>
<dl class="section pre"><dt>Precondition</dt><dd>Port must be set with setPort before using this method </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00096">96</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>, and <a class="el" href="mdt_abstract_port_8cpp_source.html#l00349">mdtAbstractPort::unlockMutex()</a>.</p>

<p>Referenced by <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00641">mdtModbusTcpPortManager::fromThreadNewFrameReaden()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00818">fromThreadNewFrameReaden()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00565">mdtModbusTcpPortManager::sendData()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00321">sendData()</a>.</p>

</div>
</div>
<a class="anchor" id="aaa85e0200aba0e0f4392dfe01abae2cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::wait </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for some time. </p>
<p>This will block the caller until ms milliseconds elapsed. This will not block event loop, i.e. no GUI freeze occurs.</p>
<p>Such wait method can be usfull if, for example, a device needs some time between two requests.</p>
<p>Note: this method should not be used to wait on a specific event (frame received, ...). For such problem, please considere the transaction API (in this class) and <a class="el" href="classmdt_device.html" title="Base class for a device connected to a port. ">mdtDevice</a> witch give some helper methods and a API when developping new communication classes with devices.</p>
<p>Internally, a QTimer is used. Please considere Qt documentation about time precisions and limitations. Note: <a class="el" href="classmdt_port_manager.html" title="Port manager base class. ">mdtPortManager</a> is not designed for real time applications, but in mind to communicate in a easy way with devices.</p>
<p>For the story, a example with a Wago 750 I/O system: In multidiagtools test suite we do set/get tests on outputs. We wait confirmation of device for each request (see <a class="el" href="classmdt_device.html" title="Base class for a device connected to a port. ">mdtDevice</a> for details). Some times test failed because the get didn't return the value set just before. By mesuring set and get times, we could see that it can take about 2[ms] -&gt; 40[ms]. This can be shorter than PLC needs to update its cache (read all I/O on bus, ...), and we had a old value in get reply. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00481">481</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af60f089baded850018cbb90645c8e547"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::waitOneTransactionDone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait until current transaction is done. </p>
<p>Use this method if protocol does not support frame ID.</p>
<p>Internally, it will wait until one transaction is available in done queue.</p>
<dl class="section return"><dt>Returns</dt><dd>True if Ok, false on timeout or other error. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00438">438</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8h_source.html#l00220">Busy</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00266">config()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00570">currentState()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00584">isReady()</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00772">startTransactionTimer()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00780">stopTransactionTimer()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00788">transactionTimeoutOccured()</a>.</p>

</div>
</div>
<a class="anchor" id="a5551802de2c08632078f2cc0e2607913"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::waitTransactionDone </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait until a transaction is done. </p>
<p>Will return when transaction with given id is done or after timeout.</p>
<p>This wait method does not break Qt's event loop, no GUI freeze occurs.</p>
<p>This method can return if timeout occurs, or for other reason depending on specific port (port timeout, read cancelled, ...).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Frame ID. Depending on protocol, this can be a transaction ID or what else. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if Ok, false on timeout or other error. If id was not found in transactions pending lists, a warning will be generated in <a class="el" href="classmdt_error.html" title="mdtError contains informations about a error that occured ">mdtError</a> system, and false will be returned. On failure, transaction is restored to pool (see <a class="el" href="classmdt_port_manager.html#a7e45b8e3475e5182ed12218616664d07" title="Manage errors comming from port threads. ">onThreadsErrorOccured()</a> for details). </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00383">383</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8h_source.html#l00220">Busy</a>, <a class="el" href="mdt_error_8cpp_source.html#l00116">mdtError::commit()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00266">config()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00570">currentState()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00584">isReady()</a>, <a class="el" href="mdt_error_8h_source.html#l00060">MDT_ERROR_SET_SRC</a>, <a class="el" href="mdt_error_8h_source.html#l00041">MDT_PORT_IO_ERROR</a>, <a class="el" href="classmdt_port_manager.html#a94d3fa4a26f8686449313a54003f0b4d">pmUnhandledErrorEvent()</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00772">startTransactionTimer()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00780">stopTransactionTimer()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00730">transactionsDoneContains()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00788">transactionTimeoutOccured()</a>, and <a class="el" href="mdt_error_8h_source.html#l00096">mdtError::Warning</a>.</p>

<p>Referenced by <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00371">mdtModbusTcpPortManager::getHardwareNodeAddress()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00469">mdtModbusTcpPortManager::getRegisterValues()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00526">mdtModbusTcpPortManager::setRegisterValues()</a>, and <a class="el" href="mdt_multi_io_device_8cpp_source.html#l01112">mdtMultiIoDevice::waitTransactionDone()</a>.</p>

</div>
</div>
<a class="anchor" id="ac04a12f8aa20ba04695083afce45a6cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::waitTransactionPossible </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait until transaction pending queue has less than maximum possible items. </p>
<dl class="section return"><dt>Returns</dt><dd>True on success, false if wait was interrupted. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00654">654</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

<p>References <a class="el" href="mdt_port_manager_8cpp_source.html#l00593">isClosed()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00584">isReady()</a>, and <a class="el" href="mdt_port_manager_8h_source.html#l00925">pvPort</a>.</p>

<p>Referenced by <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00565">mdtModbusTcpPortManager::sendData()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00321">sendData()</a>.</p>

</div>
</div>
<a class="anchor" id="af44b6e9876e6687b1d4fe7e05ffd5a91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_port_thread.html">mdtPortThread</a> * mdtPortManager::writeThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns instance of writer thread. </p>
<p>Note that a Null pointer can be returned </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00153">153</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="af03c1270cb19ce92e846cae95dc0769b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_error.html">mdtError</a> mdtPortManager::pvLastError</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Last error object. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8h_source.html#l00760">760</a> of file <a class="el" href="mdt_port_manager_8h_source.html">mdtPortManager.h</a>.</p>

<p>Referenced by <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00371">mdtModbusTcpPortManager::getHardwareNodeAddress()</a>, <a class="el" href="mdt_port_manager_8h_source.html#l00631">lastError()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00304">mdtModbusTcpPortManager::readDeviceAddressList()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00296">mdtModbusTcpPortManager::saveDeviceAddressList()</a>, and <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00113">mdtModbusTcpPortManager::scan()</a>.</p>

</div>
</div>
<a class="anchor" id="af856162aab4f1c5202c1dfb330fae538"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_abstract_port.html">mdtAbstractPort</a>* mdtPortManager::pvPort</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="mdt_port_manager_8h_source.html#l00925">925</a> of file <a class="el" href="mdt_port_manager_8h_source.html">mdtPortManager.h</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00598">abort()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00124">addThread()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00620">closePort()</a>, <a class="el" href="mdt_serial_port_manager_8cpp_source.html#l00135">mdtSerialPortManager::config()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00266">config()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00104">detachPort()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00554">flush()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00520">flushIn()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00542">flushOut()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00641">mdtModbusTcpPortManager::fromThreadNewFrameReaden()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00818">fromThreadNewFrameReaden()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00082">lockPortMutex()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00032">mdtPortManager()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00605">openPort()</a>, <a class="el" href="mdt_serial_port_manager_8cpp_source.html#l00146">mdtSerialPortManager::port()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00565">mdtModbusTcpPortManager::sendData()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00321">sendData()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00074">setPort()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00247">setPortInfo()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00238">setPortName()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00184">start()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00215">stop()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00096">unlockPortMutex()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00438">waitOneTransactionDone()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00383">waitTransactionDone()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00654">waitTransactionPossible()</a>, <a class="el" href="mdt_modbus_tcp_port_manager_8cpp_source.html#l00066">mdtModbusTcpPortManager::~mdtModbusTcpPortManager()</a>, <a class="el" href="mdt_port_manager_8cpp_source.html#l00059">~mdtPortManager()</a>, and <a class="el" href="mdt_serial_port_manager_8cpp_source.html#l00048">mdtSerialPortManager::~mdtSerialPortManager()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e0d49b789f8b01d469e84b487799573"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt;<a class="el" href="classmdt_port_thread.html">mdtPortThread</a>*&gt; mdtPortManager::pvThreads</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="mdt_port_manager_8h_source.html#l00926">926</a> of file <a class="el" href="mdt_port_manager_8h_source.html">mdtPortManager.h</a>.</p>

<p>Referenced by <a class="el" href="mdt_port_manager_8cpp_source.html#l00124">addThread()</a>, and <a class="el" href="mdt_port_manager_8cpp_source.html#l00158">removeThreads()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/mdtport/<a class="el" href="mdt_port_manager_8h_source.html">mdtPortManager.h</a></li>
<li>src/mdtport/<a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Feb 27 2015 17:17:46 for Multi diag tools by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
