\hypertarget{classmdt_application}{\section{mdt\-Application Class Reference}
\label{classmdt_application}\index{mdt\-Application@{mdt\-Application}}
}


Main application.  




{\ttfamily \#include $<$mdt\-Application.\-h$>$}



Inheritance diagram for mdt\-Application\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=182pt]{classmdt_application__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for mdt\-Application\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=182pt]{classmdt_application__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classmdt_application_a60cf66d3ebe17d1e60a7dcc26410494d}{change\-Language} (const Q\-Locale \&locale=Q\-Locale())
\begin{DoxyCompactList}\small\item\em Change the application language. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_application_a7eec3fbe97863cb4a938fa58a5135b1b}{change\-Language} (Q\-Action $\ast$action)
\begin{DoxyCompactList}\small\item\em Change the application language (overload) \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Signals}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classmdt_application_a4200ade3b0b295ea8b0cb5239d967610}{language\-Changed} ()
\begin{DoxyCompactList}\small\item\em Emitted when language was changed using \hyperlink{classmdt_application_a60cf66d3ebe17d1e60a7dcc26410494d}{change\-Language()} \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classmdt_application_ab6268414770ee9239c83677c15a67f75}{mdt\-Application} (int \&argc, char $\ast$$\ast$argv, bool G\-U\-Ienabled=true)
\item 
\hyperlink{classmdt_application_a583a180d10eb6b1115330ef256431164}{$\sim$mdt\-Application} ()
\item 
bool \hyperlink{classmdt_application_a3b8798416e730f85e419566442adb77b}{init} (bool allow\-Multiple\-Instances=false, int dialog\-Error\-Levels\-Mask=0)
\begin{DoxyCompactList}\small\item\em Some initializations. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_application_a79dbb5f3d889d7cd9b8909a4eb8bcce1}{set\-Application\-Version} (int version\-Major, int version\-Minor, int version\-Micro)
\begin{DoxyCompactList}\small\item\em Build the application version with numeric values. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_application_ab5279a8c25923ab4c570670b8a41d599}{add\-Translations\-Directory} (const Q\-String \&directory)
\begin{DoxyCompactList}\small\item\em Add a directory that contains translations files in search paths. \end{DoxyCompactList}\item 
Q\-Map$<$ Q\-String, Q\-String $>$ \& \hyperlink{classmdt_application_a9ce5b5c3ca36a76ad0acc3913ce8f89a}{available\-Translations} ()
\begin{DoxyCompactList}\small\item\em Get the list of available translations. \end{DoxyCompactList}\item 
Q\-String \& \hyperlink{classmdt_application_a531e64266be58b3a10608b21ae6afedb}{current\-Translation\-Key} ()
\begin{DoxyCompactList}\small\item\em Get the current translation key. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_application_af4ff7f4cbb1c93a35f06ea197e3dde42}{install\-Translator} (Q\-Translator $\ast$translator)
\begin{DoxyCompactList}\small\item\em Adds the translator to the list of translators to be used for translations. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_application_ae83acc410a132b9972d6e961e0c79b0d}{remove\-Current\-Translators} ()
\begin{DoxyCompactList}\small\item\em Remove installed translators. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classmdt_application}{mdt\-Application} $\ast$ \hyperlink{classmdt_application_a365ac79934070b0e5a42d2c7cd9b076d}{instance} ()
\begin{DoxyCompactList}\small\item\em Get the instance of \hyperlink{classmdt_application}{mdt\-Application}. \end{DoxyCompactList}\item 
static Q\-String \hyperlink{classmdt_application_af17bb16e420c91af3d0ad1970714388c}{system\-Data\-Dir\-Path} ()
\begin{DoxyCompactList}\small\item\em Get data dir path. \end{DoxyCompactList}\item 
static const Q\-Dir \hyperlink{classmdt_application_a936beeeb6d56d5d669a478f248d80c7d}{cache\-Dir} ()
\begin{DoxyCompactList}\small\item\em Get cache directory. \end{DoxyCompactList}\item 
static Q\-String \hyperlink{classmdt_application_ad5318086812dad2c2870e294703caa51}{mdt\-Lib\-Version} ()
\begin{DoxyCompactList}\small\item\em Get the multi diag tools library version. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Main application. 

N\-O\-T\-E\-: manage directories better (with, f.\-ex, a member containing search paths ..) N\-O\-T\-E\-: Mutex for static members..

\begin{DoxySeeAlso}{See Also}
\hyperlink{class_q_application}{Q\-Application} 

\hyperlink{class_qt_single_application}{Qt\-Single\-Application} 
\end{DoxySeeAlso}


Definition at line 47 of file mdt\-Application.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classmdt_application_ab6268414770ee9239c83677c15a67f75}{\index{mdt\-Application@{mdt\-Application}!mdt\-Application@{mdt\-Application}}
\index{mdt\-Application@{mdt\-Application}!mdtApplication@{mdt\-Application}}
\subsubsection[{mdt\-Application}]{\setlength{\rightskip}{0pt plus 5cm}mdt\-Application\-::mdt\-Application (
\begin{DoxyParamCaption}
\item[{int \&}]{argc, }
\item[{char $\ast$$\ast$}]{argv, }
\item[{bool}]{G\-U\-Ienabled = {\ttfamily true}}
\end{DoxyParamCaption}
)}}\label{classmdt_application_ab6268414770ee9239c83677c15a67f75}


Definition at line 31 of file mdt\-Application.\-cpp.

\hypertarget{classmdt_application_a583a180d10eb6b1115330ef256431164}{\index{mdt\-Application@{mdt\-Application}!$\sim$mdt\-Application@{$\sim$mdt\-Application}}
\index{$\sim$mdt\-Application@{$\sim$mdt\-Application}!mdtApplication@{mdt\-Application}}
\subsubsection[{$\sim$mdt\-Application}]{\setlength{\rightskip}{0pt plus 5cm}mdt\-Application\-::$\sim$mdt\-Application (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classmdt_application_a583a180d10eb6b1115330ef256431164}


Definition at line 37 of file mdt\-Application.\-cpp.



References mdt\-Error\-Out\-::destroy().



\subsection{Member Function Documentation}
\hypertarget{classmdt_application_ab5279a8c25923ab4c570670b8a41d599}{\index{mdt\-Application@{mdt\-Application}!add\-Translations\-Directory@{add\-Translations\-Directory}}
\index{add\-Translations\-Directory@{add\-Translations\-Directory}!mdtApplication@{mdt\-Application}}
\subsubsection[{add\-Translations\-Directory}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Application\-::add\-Translations\-Directory (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{directory}
\end{DoxyParamCaption}
)}}\label{classmdt_application_ab5279a8c25923ab4c570670b8a41d599}


Add a directory that contains translations files in search paths. 

If given directory exists (and is accessible), it will be added to search paths. \begin{DoxyPrecond}{Precondition}
The \hyperlink{classmdt_error_out}{mdt\-Error\-Out} system must be initialized before using this method, this is done by \hyperlink{classmdt_application_a3b8798416e730f85e419566442adb77b}{init()}. 
\end{DoxyPrecond}


Definition at line 149 of file mdt\-Application.\-cpp.



References mdt\-Error\-::commit(), M\-D\-T\-\_\-\-E\-R\-R\-O\-R\-\_\-\-S\-E\-T\-\_\-\-S\-R\-C, M\-D\-T\-\_\-\-Q\-M\-\_\-\-F\-I\-L\-E\-\_\-\-L\-O\-A\-D\-\_\-\-E\-R\-R\-O\-R, and mdt\-Error\-::\-Warning.



Referenced by init().

\hypertarget{classmdt_application_a9ce5b5c3ca36a76ad0acc3913ce8f89a}{\index{mdt\-Application@{mdt\-Application}!available\-Translations@{available\-Translations}}
\index{available\-Translations@{available\-Translations}!mdtApplication@{mdt\-Application}}
\subsubsection[{available\-Translations}]{\setlength{\rightskip}{0pt plus 5cm}Q\-Map$<$ Q\-String, Q\-String $>$ \& mdt\-Application\-::available\-Translations (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classmdt_application_a9ce5b5c3ca36a76ad0acc3913ce8f89a}


Get the list of available translations. 

The key contains the language suffix, like en , that can be reused with \hyperlink{classmdt_application_a60cf66d3ebe17d1e60a7dcc26410494d}{change\-Language()}. The list is built during \hyperlink{classmdt_application_a3b8798416e730f85e419566442adb77b}{init()}. 

Definition at line 162 of file mdt\-Application.\-cpp.

\hypertarget{classmdt_application_a936beeeb6d56d5d669a478f248d80c7d}{\index{mdt\-Application@{mdt\-Application}!cache\-Dir@{cache\-Dir}}
\index{cache\-Dir@{cache\-Dir}!mdtApplication@{mdt\-Application}}
\subsubsection[{cache\-Dir}]{\setlength{\rightskip}{0pt plus 5cm}const Q\-Dir mdt\-Application\-::cache\-Dir (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classmdt_application_a936beeeb6d56d5d669a478f248d80c7d}


Get cache directory. 



Definition at line 139 of file mdt\-Application.\-cpp.



References instance().



Referenced by mdt\-Modbus\-Tcp\-Port\-Manager\-::read\-Scan\-Result(), and mdt\-Modbus\-Tcp\-Port\-Manager\-::save\-Scan\-Result().

\hypertarget{classmdt_application_a60cf66d3ebe17d1e60a7dcc26410494d}{\index{mdt\-Application@{mdt\-Application}!change\-Language@{change\-Language}}
\index{change\-Language@{change\-Language}!mdtApplication@{mdt\-Application}}
\subsubsection[{change\-Language}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Application\-::change\-Language (
\begin{DoxyParamCaption}
\item[{const Q\-Locale \&}]{locale = {\ttfamily QLocale()}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [slot]}}}\label{classmdt_application_a60cf66d3ebe17d1e60a7dcc26410494d}


Change the application language. 

This will remove installed translators, and install language speficifed translators. Whenn translation files could not be loaded, the application should fall back to source code's language. If no parameters are given, system's language will be used. By default, the .qm translation files are searched in system's data directory. It's possible to add other search paths using other\-Qm\-Directories parameter.

\begin{DoxyPrecond}{Precondition}
The error system must be initalized before using this method (this is done by \hyperlink{classmdt_application_a3b8798416e730f85e419566442adb77b}{init()} ). 
\end{DoxyPrecond}


Definition at line 191 of file mdt\-Application.\-cpp.



References mdt\-Error\-::commit(), language\-Changed(), M\-D\-T\-\_\-\-E\-R\-R\-O\-R\-\_\-\-S\-E\-T\-\_\-\-S\-R\-C, M\-D\-T\-\_\-\-Q\-M\-\_\-\-F\-I\-L\-E\-\_\-\-L\-O\-A\-D\-\_\-\-E\-R\-R\-O\-R, remove\-Current\-Translators(), and mdt\-Error\-::\-Warning.



Referenced by change\-Language(), and init().

\hypertarget{classmdt_application_a7eec3fbe97863cb4a938fa58a5135b1b}{\index{mdt\-Application@{mdt\-Application}!change\-Language@{change\-Language}}
\index{change\-Language@{change\-Language}!mdtApplication@{mdt\-Application}}
\subsubsection[{change\-Language}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Application\-::change\-Language (
\begin{DoxyParamCaption}
\item[{Q\-Action $\ast$}]{action}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [slot]}}}\label{classmdt_application_a7eec3fbe97863cb4a938fa58a5135b1b}


Change the application language (overload) 

To make this slot work, the Q\-Action must contain the language key (like en, fr, de, ...) in the data section. \begin{DoxyPrecond}{Precondition}
action must be a valid pointer. 
\end{DoxyPrecond}


Definition at line 210 of file mdt\-Application.\-cpp.



References change\-Language().

\hypertarget{classmdt_application_a531e64266be58b3a10608b21ae6afedb}{\index{mdt\-Application@{mdt\-Application}!current\-Translation\-Key@{current\-Translation\-Key}}
\index{current\-Translation\-Key@{current\-Translation\-Key}!mdtApplication@{mdt\-Application}}
\subsubsection[{current\-Translation\-Key}]{\setlength{\rightskip}{0pt plus 5cm}Q\-String \& mdt\-Application\-::current\-Translation\-Key (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classmdt_application_a531e64266be58b3a10608b21ae6afedb}


Get the current translation key. 

The translation key could be en, de, fr, ... 

Definition at line 167 of file mdt\-Application.\-cpp.

\hypertarget{classmdt_application_a3b8798416e730f85e419566442adb77b}{\index{mdt\-Application@{mdt\-Application}!init@{init}}
\index{init@{init}!mdtApplication@{mdt\-Application}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Application\-::init (
\begin{DoxyParamCaption}
\item[{bool}]{allow\-Multiple\-Instances = {\ttfamily false}, }
\item[{int}]{dialog\-Error\-Levels\-Mask = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}\label{classmdt_application_a3b8798416e730f85e419566442adb77b}


Some initializations. 

Several things are done here\-:
\begin{DoxyItemize}
\item Check if another instance is running (if allow\-Multiple\-Instances Instance is false)
\item Search the system data directory
\item Init the home directories structure
\item Init the error system
\item Load translation files and set language according system settings. 
\begin{DoxyParams}{Parameters}
{\em allow\-Multiple\-Instances} & If true, multiple instance of application is allowed (but N\-O\-T multiple instance of \hyperlink{classmdt_application}{mdt\-Application} in program !) \\
\hline
{\em dialog\-Error\-Levels\-Mask} & Set the mask of errors that are displayed as dialogs in G\-U\-I. By default, no error (geven by \hyperlink{classmdt_error_out}{mdt\-Error\-Out}) are displayed in G\-U\-I. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See Also}
\hyperlink{classmdt_error_out_afa76bdf497b750829277566ec07d44d8}{mdt\-Error\-Out\-::set\-Dialog\-Levels\-Mask()} 

\hyperlink{classmdt_error_out}{mdt\-Error\-Out} 
\end{DoxySeeAlso}

\end{DoxyItemize}

Definition at line 44 of file mdt\-Application.\-cpp.



References add\-Translations\-Directory(), change\-Language(), mdt\-Error\-Out\-::init(), mdt\-Lib\-Version(), Qt\-Single\-Application\-::send\-Message(), and mdt\-Error\-Out\-::set\-Dialog\-Levels\-Mask().

\hypertarget{classmdt_application_af4ff7f4cbb1c93a35f06ea197e3dde42}{\index{mdt\-Application@{mdt\-Application}!install\-Translator@{install\-Translator}}
\index{install\-Translator@{install\-Translator}!mdtApplication@{mdt\-Application}}
\subsubsection[{install\-Translator}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Application\-::install\-Translator (
\begin{DoxyParamCaption}
\item[{Q\-Translator $\ast$}]{translator}
\end{DoxyParamCaption}
)}}\label{classmdt_application_af4ff7f4cbb1c93a35f06ea197e3dde42}


Adds the translator to the list of translators to be used for translations. 

Note\-: this method overloads Q\-Core\-Application\-::install\-Translator() . The difference is that it adds new translator to a list, and delete it all in destructor. Internally, it calls Q\-Application\-::install\-Translator(). To keep trace of installed translators, you should allways use this method, and never mix calls with, for example, q\-App-\/$>$\hyperlink{classmdt_application_af4ff7f4cbb1c93a35f06ea197e3dde42}{install\-Translator()} or Q\-Core\-Application\-::install\-Translator() \begin{DoxyPrecond}{Precondition}
translator must point to a valid object. 
\end{DoxyPrecond}


Definition at line 172 of file mdt\-Application.\-cpp.

\hypertarget{classmdt_application_a365ac79934070b0e5a42d2c7cd9b076d}{\index{mdt\-Application@{mdt\-Application}!instance@{instance}}
\index{instance@{instance}!mdtApplication@{mdt\-Application}}
\subsubsection[{instance}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdt\-Application} $\ast$ mdt\-Application\-::instance (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classmdt_application_a365ac79934070b0e5a42d2c7cd9b076d}


Get the instance of \hyperlink{classmdt_application}{mdt\-Application}. 

This function, and returned pointer, should be used with care in multi-\/thread applicatopn ! 

Definition at line 126 of file mdt\-Application.\-cpp.



Referenced by cache\-Dir(), and system\-Data\-Dir\-Path().

\hypertarget{classmdt_application_a4200ade3b0b295ea8b0cb5239d967610}{\index{mdt\-Application@{mdt\-Application}!language\-Changed@{language\-Changed}}
\index{language\-Changed@{language\-Changed}!mdtApplication@{mdt\-Application}}
\subsubsection[{language\-Changed}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Application\-::language\-Changed (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classmdt_application_a4200ade3b0b295ea8b0cb5239d967610}


Emitted when language was changed using \hyperlink{classmdt_application_a60cf66d3ebe17d1e60a7dcc26410494d}{change\-Language()} 



Referenced by change\-Language().

\hypertarget{classmdt_application_ad5318086812dad2c2870e294703caa51}{\index{mdt\-Application@{mdt\-Application}!mdt\-Lib\-Version@{mdt\-Lib\-Version}}
\index{mdt\-Lib\-Version@{mdt\-Lib\-Version}!mdtApplication@{mdt\-Application}}
\subsubsection[{mdt\-Lib\-Version}]{\setlength{\rightskip}{0pt plus 5cm}Q\-String mdt\-Application\-::mdt\-Lib\-Version (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classmdt_application_ad5318086812dad2c2870e294703caa51}


Get the multi diag tools library version. 



Definition at line 144 of file mdt\-Application.\-cpp.



References M\-D\-T\-L\-I\-B\-\_\-\-V\-E\-R\-S\-I\-O\-N\-\_\-\-M\-A\-J\-O\-R, M\-D\-T\-L\-I\-B\-\_\-\-V\-E\-R\-S\-I\-O\-N\-\_\-\-M\-I\-C\-R\-O, and M\-D\-T\-L\-I\-B\-\_\-\-V\-E\-R\-S\-I\-O\-N\-\_\-\-M\-I\-N\-O\-R.



Referenced by init().

\hypertarget{classmdt_application_ae83acc410a132b9972d6e961e0c79b0d}{\index{mdt\-Application@{mdt\-Application}!remove\-Current\-Translators@{remove\-Current\-Translators}}
\index{remove\-Current\-Translators@{remove\-Current\-Translators}!mdtApplication@{mdt\-Application}}
\subsubsection[{remove\-Current\-Translators}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Application\-::remove\-Current\-Translators (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classmdt_application_ae83acc410a132b9972d6e961e0c79b0d}


Remove installed translators. 

This will romove all translators installed with \hyperlink{classmdt_application_af4ff7f4cbb1c93a35f06ea197e3dde42}{install\-Translator()}. \begin{DoxySeeAlso}{See Also}
\hyperlink{classmdt_application_af4ff7f4cbb1c93a35f06ea197e3dde42}{install\-Translator()} 
\end{DoxySeeAlso}


Definition at line 180 of file mdt\-Application.\-cpp.



Referenced by change\-Language().

\hypertarget{classmdt_application_a79dbb5f3d889d7cd9b8909a4eb8bcce1}{\index{mdt\-Application@{mdt\-Application}!set\-Application\-Version@{set\-Application\-Version}}
\index{set\-Application\-Version@{set\-Application\-Version}!mdtApplication@{mdt\-Application}}
\subsubsection[{set\-Application\-Version}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Application\-::set\-Application\-Version (
\begin{DoxyParamCaption}
\item[{int}]{version\-Major, }
\item[{int}]{version\-Minor, }
\item[{int}]{version\-Micro}
\end{DoxyParamCaption}
)}}\label{classmdt_application_a79dbb5f3d889d7cd9b8909a4eb8bcce1}


Build the application version with numeric values. 

Create a string with version\-Major.\-version\-Minor.\-version\-Micro , and calls Q\-Application\-::set\-Application\-Version(). 

Definition at line 112 of file mdt\-Application.\-cpp.

\hypertarget{classmdt_application_af17bb16e420c91af3d0ad1970714388c}{\index{mdt\-Application@{mdt\-Application}!system\-Data\-Dir\-Path@{system\-Data\-Dir\-Path}}
\index{system\-Data\-Dir\-Path@{system\-Data\-Dir\-Path}!mdtApplication@{mdt\-Application}}
\subsubsection[{system\-Data\-Dir\-Path}]{\setlength{\rightskip}{0pt plus 5cm}Q\-String mdt\-Application\-::system\-Data\-Dir\-Path (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{classmdt_application_af17bb16e420c91af3d0ad1970714388c}


Get data dir path. 



Definition at line 133 of file mdt\-Application.\-cpp.



References instance().



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
src/mdtutils/\hyperlink{mdt_application_8h}{mdt\-Application.\-h}\item 
src/mdtutils/\hyperlink{mdt_application_8cpp}{mdt\-Application.\-cpp}\end{DoxyCompactItemize}
