\hypertarget{classmdt_frame_codec_scpi}{
\section{mdtFrameCodecScpi Class Reference}
\label{classmdt_frame_codec_scpi}\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}}
}


Decode SCPI data.  




{\ttfamily \#include $<$mdtFrameCodecScpi.h$>$}



Inheritance diagram for mdtFrameCodecScpi:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=224pt]{classmdt_frame_codec_scpi__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for mdtFrameCodecScpi:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=190pt]{classmdt_frame_codec_scpi__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9a}{query\_\-type\_\-t} \{ \par
\hyperlink{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9aa80aaf6e25ad52710c5f61c6d734a0897}{QT\_\-UNKNOW} =  0, 
\hyperlink{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9aae429676cb0129c2cb9179baf00d7e082}{QT\_\-VALUE}, 
\hyperlink{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9aa889641e5713b59c1d91a9cc607745bc9}{QT\_\-IDN}, 
\hyperlink{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9aa6e1b9ed9dff72df39e3b3fc88611e4a5}{QT\_\-ERR}, 
\par
\hyperlink{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9aa3df0e44b2eeacfad6f93ac9201db101d}{QT\_\-CONF}
 \}
\begin{DoxyCompactList}\small\item\em Query type. \end{DoxyCompactList}\item 
enum \hyperlink{classmdt_frame_codec_scpi_a1aafb008a4207cc922f46fe905b3f17d}{waveform\_\-format} \{ \hyperlink{classmdt_frame_codec_scpi_a1aafb008a4207cc922f46fe905b3f17da7f4b47afe74504dea43bb04c8c6fbe58}{WORD}, 
\hyperlink{classmdt_frame_codec_scpi_a1aafb008a4207cc922f46fe905b3f17daad91226f87cea7fab38f5cc7618f424c}{BYTE}, 
\hyperlink{classmdt_frame_codec_scpi_a1aafb008a4207cc922f46fe905b3f17da957445cd510a5c4e6964e9b79e73af4d}{ASCII}
 \}
\begin{DoxyCompactList}\small\item\em Format of waveform data. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classmdt_frame_codec_scpi_a37a1703b6daee6f6bf91c6afb46191b3}{decodeValues} (const QByteArray \&data, QString sep=\char`\"{}:\char`\"{})
\begin{DoxyCompactList}\small\item\em Decode SCPI value(s) \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_frame_codec_scpi_a6ddd1b8e23252dc7f03c279a030cb36f}{decodeIdn} (const QByteArray \&data)
\begin{DoxyCompactList}\small\item\em Decode the IDN answer. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_frame_codec_scpi_a9e38d8afadc7ff37821620feea6b0899}{decodeError} (const QByteArray \&data)
\begin{DoxyCompactList}\small\item\em Decode error answer. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_frame_codec_scpi_a0123b42b9e351b0ef3c13d34a5c4d45e}{decodeIEEEblock} (const QByteArray \&data, \hyperlink{classmdt_frame_codec_scpi_a1aafb008a4207cc922f46fe905b3f17d}{waveform\_\-format} format)
\begin{DoxyCompactList}\small\item\em Decode a IEEE block. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classmdt_frame_codec_scpi_aa6596dc898438be704191ad282d02100}{decodeIEEEdataAscii} (const QByteArray \&data)
\begin{DoxyCompactList}\small\item\em Decode a array of ASCII values. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_frame_codec_scpi_ab70c6c3d2d91ddff065952b6c2db8345}{decodeIEEEdataByte} (const QByteArray \&data)
\begin{DoxyCompactList}\small\item\em Decode a array of BYTE values. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Decode SCPI data. 

\#define MDT\_\-FC\_\-SCPI\_\-UNKNOW 0 \#define MDT\_\-FC\_\-SCPI\_\-VALUE 1 \#define MDT\_\-FC\_\-SCPI\_\-IDN 2 \#define MDT\_\-FC\_\-SCPI\_\-ERR 3 \#define MDT\_\-FC\_\-SCPI\_\-LAST\_\-TYPE 127 

Definition at line 58 of file mdtFrameCodecScpi.h.



\subsection{Member Enumeration Documentation}
\hypertarget{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9a}{
\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}!query\_\-type\_\-t@{query\_\-type\_\-t}}
\index{query\_\-type\_\-t@{query\_\-type\_\-t}!mdtFrameCodecScpi@{mdtFrameCodecScpi}}
\subsubsection[{query\_\-type\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf mdtFrameCodecScpi::query\_\-type\_\-t}}}
\label{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9a}


Query type. 

\begin{Desc}
\item[Enumerator: ]\par
\begin{description}
\index{QT\_\-UNKNOW@{QT\_\-UNKNOW}!mdtFrameCodecScpi@{mdtFrameCodecScpi}}\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}!QT\_\-UNKNOW@{QT\_\-UNKNOW}}\item[{\em 
\hypertarget{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9aa80aaf6e25ad52710c5f61c6d734a0897}{
QT\_\-UNKNOW}
\label{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9aa80aaf6e25ad52710c5f61c6d734a0897}
}]Initial or unknown query/response type \index{QT\_\-VALUE@{QT\_\-VALUE}!mdtFrameCodecScpi@{mdtFrameCodecScpi}}\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}!QT\_\-VALUE@{QT\_\-VALUE}}\item[{\em 
\hypertarget{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9aae429676cb0129c2cb9179baf00d7e082}{
QT\_\-VALUE}
\label{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9aae429676cb0129c2cb9179baf00d7e082}
}]Device returns a value (int, double, date or string) \index{QT\_\-IDN@{QT\_\-IDN}!mdtFrameCodecScpi@{mdtFrameCodecScpi}}\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}!QT\_\-IDN@{QT\_\-IDN}}\item[{\em 
\hypertarget{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9aa889641e5713b59c1d91a9cc607745bc9}{
QT\_\-IDN}
\label{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9aa889641e5713b59c1d91a9cc607745bc9}
}]IDN query or response \index{QT\_\-ERR@{QT\_\-ERR}!mdtFrameCodecScpi@{mdtFrameCodecScpi}}\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}!QT\_\-ERR@{QT\_\-ERR}}\item[{\em 
\hypertarget{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9aa6e1b9ed9dff72df39e3b3fc88611e4a5}{
QT\_\-ERR}
\label{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9aa6e1b9ed9dff72df39e3b3fc88611e4a5}
}]ERRor query or response \index{QT\_\-CONF@{QT\_\-CONF}!mdtFrameCodecScpi@{mdtFrameCodecScpi}}\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}!QT\_\-CONF@{QT\_\-CONF}}\item[{\em 
\hypertarget{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9aa3df0e44b2eeacfad6f93ac9201db101d}{
QT\_\-CONF}
\label{classmdt_frame_codec_scpi_a2dbce7589140e915f3e253c3523b3b9aa3df0e44b2eeacfad6f93ac9201db101d}
}]CONFigure query or response type \end{description}
\end{Desc}



Definition at line 64 of file mdtFrameCodecScpi.h.

\hypertarget{classmdt_frame_codec_scpi_a1aafb008a4207cc922f46fe905b3f17d}{
\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}!waveform\_\-format@{waveform\_\-format}}
\index{waveform\_\-format@{waveform\_\-format}!mdtFrameCodecScpi@{mdtFrameCodecScpi}}
\subsubsection[{waveform\_\-format}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf mdtFrameCodecScpi::waveform\_\-format}}}
\label{classmdt_frame_codec_scpi_a1aafb008a4207cc922f46fe905b3f17d}


Format of waveform data. 

\begin{Desc}
\item[Enumerator: ]\par
\begin{description}
\index{WORD@{WORD}!mdtFrameCodecScpi@{mdtFrameCodecScpi}}\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}!WORD@{WORD}}\item[{\em 
\hypertarget{classmdt_frame_codec_scpi_a1aafb008a4207cc922f46fe905b3f17da7f4b47afe74504dea43bb04c8c6fbe58}{
WORD}
\label{classmdt_frame_codec_scpi_a1aafb008a4207cc922f46fe905b3f17da7f4b47afe74504dea43bb04c8c6fbe58}
}]16 bit data resolution \index{BYTE@{BYTE}!mdtFrameCodecScpi@{mdtFrameCodecScpi}}\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}!BYTE@{BYTE}}\item[{\em 
\hypertarget{classmdt_frame_codec_scpi_a1aafb008a4207cc922f46fe905b3f17daad91226f87cea7fab38f5cc7618f424c}{
BYTE}
\label{classmdt_frame_codec_scpi_a1aafb008a4207cc922f46fe905b3f17daad91226f87cea7fab38f5cc7618f424c}
}]8 bit data resolution \index{ASCII@{ASCII}!mdtFrameCodecScpi@{mdtFrameCodecScpi}}\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}!ASCII@{ASCII}}\item[{\em 
\hypertarget{classmdt_frame_codec_scpi_a1aafb008a4207cc922f46fe905b3f17da957445cd510a5c4e6964e9b79e73af4d}{
ASCII}
\label{classmdt_frame_codec_scpi_a1aafb008a4207cc922f46fe905b3f17da957445cd510a5c4e6964e9b79e73af4d}
}]ASCII float represented data \end{description}
\end{Desc}



Definition at line 74 of file mdtFrameCodecScpi.h.



\subsection{Member Function Documentation}
\hypertarget{classmdt_frame_codec_scpi_a9e38d8afadc7ff37821620feea6b0899}{
\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}!decodeError@{decodeError}}
\index{decodeError@{decodeError}!mdtFrameCodecScpi@{mdtFrameCodecScpi}}
\subsubsection[{decodeError}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtFrameCodecScpi::decodeError (
\begin{DoxyParamCaption}
\item[{const QByteArray \&}]{data}
\end{DoxyParamCaption}
)}}
\label{classmdt_frame_codec_scpi_a9e38d8afadc7ff37821620feea6b0899}


Decode error answer. 

When decode was done successfully, error is available with \hyperlink{classmdt_frame_codec_a2c0cc0f9d9b72ef2295b7ec7eca72ea7}{values()}:
\begin{DoxyItemize}
\item Item 0 is the error number
\item Item 1 is the error message string
\item After item 1 are device's specific messages (if exists) 
\end{DoxyItemize}

Definition at line 120 of file mdtFrameCodecScpi.cpp.

\hypertarget{classmdt_frame_codec_scpi_a6ddd1b8e23252dc7f03c279a030cb36f}{
\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}!decodeIdn@{decodeIdn}}
\index{decodeIdn@{decodeIdn}!mdtFrameCodecScpi@{mdtFrameCodecScpi}}
\subsubsection[{decodeIdn}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtFrameCodecScpi::decodeIdn (
\begin{DoxyParamCaption}
\item[{const QByteArray \&}]{data}
\end{DoxyParamCaption}
)}}
\label{classmdt_frame_codec_scpi_a6ddd1b8e23252dc7f03c279a030cb36f}


Decode the IDN answer. 

When decode was done, the values are available with \hyperlink{classmdt_frame_codec_a2c0cc0f9d9b72ef2295b7ec7eca72ea7}{values()} 

Definition at line 93 of file mdtFrameCodecScpi.cpp.

\hypertarget{classmdt_frame_codec_scpi_a0123b42b9e351b0ef3c13d34a5c4d45e}{
\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}!decodeIEEEblock@{decodeIEEEblock}}
\index{decodeIEEEblock@{decodeIEEEblock}!mdtFrameCodecScpi@{mdtFrameCodecScpi}}
\subsubsection[{decodeIEEEblock}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtFrameCodecScpi::decodeIEEEblock (
\begin{DoxyParamCaption}
\item[{const QByteArray \&}]{data, }
\item[{{\bf mdtFrameCodecScpi::waveform\_\-format}}]{format}
\end{DoxyParamCaption}
)}}
\label{classmdt_frame_codec_scpi_a0123b42b9e351b0ef3c13d34a5c4d45e}


Decode a IEEE block. 

NOTE: not implemented yet ! 

Definition at line 163 of file mdtFrameCodecScpi.cpp.

\hypertarget{classmdt_frame_codec_scpi_aa6596dc898438be704191ad282d02100}{
\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}!decodeIEEEdataAscii@{decodeIEEEdataAscii}}
\index{decodeIEEEdataAscii@{decodeIEEEdataAscii}!mdtFrameCodecScpi@{mdtFrameCodecScpi}}
\subsubsection[{decodeIEEEdataAscii}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtFrameCodecScpi::decodeIEEEdataAscii (
\begin{DoxyParamCaption}
\item[{const QByteArray \&}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmdt_frame_codec_scpi_aa6596dc898438be704191ad282d02100}


Decode a array of ASCII values. 

\begin{Desc}
\item[\hyperlink{todo__todo000058}{Todo}]Not implemented yet \end{Desc}


qDebug() $<$$<$ \char`\"{}Data: \char`\"{} $<$$<$ items;

qDebug() $<$$<$ \char`\"{}Values: \char`\"{} $<$$<$ pvValues; 



Definition at line 239 of file mdtFrameCodecScpi.cpp.

\hypertarget{classmdt_frame_codec_scpi_ab70c6c3d2d91ddff065952b6c2db8345}{
\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}!decodeIEEEdataByte@{decodeIEEEdataByte}}
\index{decodeIEEEdataByte@{decodeIEEEdataByte}!mdtFrameCodecScpi@{mdtFrameCodecScpi}}
\subsubsection[{decodeIEEEdataByte}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtFrameCodecScpi::decodeIEEEdataByte (
\begin{DoxyParamCaption}
\item[{const QByteArray \&}]{data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classmdt_frame_codec_scpi_ab70c6c3d2d91ddff065952b6c2db8345}


Decode a array of BYTE values. 

\begin{Desc}
\item[\hyperlink{todo__todo000059}{Todo}]Not implemented yet \end{Desc}


int len = data.size()-\/1; // Last item is the term char

qDebug() $<$$<$ \char`\"{}data\mbox{[}\char`\"{} $<$$<$ i $<$$<$ \char`\"{}\mbox{]}: \char`\"{} $<$$<$ (qint8)data.at(i) $<$$<$ \char`\"{} ,  0x\char`\"{} $<$$<$ hex $<$$<$ (qint8)data.at(i) $<$$<$ \char`\"{} , flt: \char`\"{} $<$$<$ (double)data.at(i)/127.0; 



Definition at line 261 of file mdtFrameCodecScpi.cpp.

\hypertarget{classmdt_frame_codec_scpi_a37a1703b6daee6f6bf91c6afb46191b3}{
\index{mdtFrameCodecScpi@{mdtFrameCodecScpi}!decodeValues@{decodeValues}}
\index{decodeValues@{decodeValues}!mdtFrameCodecScpi@{mdtFrameCodecScpi}}
\subsubsection[{decodeValues}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtFrameCodecScpi::decodeValues (
\begin{DoxyParamCaption}
\item[{const QByteArray \&}]{data, }
\item[{QString}]{sep = {\ttfamily \char`\"{}:\char`\"{}}}
\end{DoxyParamCaption}
)}}
\label{classmdt_frame_codec_scpi_a37a1703b6daee6f6bf91c6afb46191b3}


Decode SCPI value(s) 

After decode is done, values are available with \hyperlink{classmdt_frame_codec_a2c0cc0f9d9b72ef2295b7ec7eca72ea7}{values()}.


\begin{DoxyParams}{Parameters}
{\em data} & String that contains one value, or many separated by sep. \\
\hline
{\em sep} & Values separator.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if decode could be done.
\end{DoxyReturn}
Errors are logged with the \hyperlink{classmdt_error}{mdtError} system. 

Definition at line 46 of file mdtFrameCodecScpi.cpp.



The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
src/mdtutils/mdtFrameCodecScpi.h\item 
src/mdtutils/mdtFrameCodecScpi.cpp\end{DoxyCompactItemize}
