\hypertarget{classmdt_sql_schema_table}{
\section{mdtSqlSchemaTable Class Reference}
\label{classmdt_sql_schema_table}\index{mdtSqlSchemaTable@{mdtSqlSchemaTable}}
}


Helper class that generate SQL table creation string.  




{\ttfamily \#include $<$mdtSqlSchemaTable.h$>$}



Collaboration diagram for mdtSqlSchemaTable:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=186pt]{classmdt_sql_schema_table__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911be}{foreignKeyAction\_\-t} \{ \hyperlink{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911bea69dd241f7f53962080a7f2ba14a8a203}{Cascade}, 
\hyperlink{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911bea1c16892bf8fa377f987abbb4d1c5644a}{SetNull}, 
\hyperlink{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911bea88f6f3c8088eba177e18cb26f518d61d}{NoAction}, 
\hyperlink{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911bea63478da446745c0346acfc6f5665abfe}{Restrict}
 \}
\begin{DoxyCompactList}\small\item\em Action on update or on delete. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classmdt_sql_schema_table_a0f4d89a81a175e51b664de84ad39de65}{
\hyperlink{classmdt_sql_schema_table_a0f4d89a81a175e51b664de84ad39de65}{mdtSqlSchemaTable} ()}
\label{classmdt_sql_schema_table_a0f4d89a81a175e51b664de84ad39de65}

\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hypertarget{classmdt_sql_schema_table_a39be8d436117529ecdb881e0855e1403}{
\hyperlink{classmdt_sql_schema_table_a39be8d436117529ecdb881e0855e1403}{$\sim$mdtSqlSchemaTable} ()}
\label{classmdt_sql_schema_table_a39be8d436117529ecdb881e0855e1403}

\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
\hypertarget{classmdt_sql_schema_table_a3ee39e0981fc152c6f811114b78068aa}{
void \hyperlink{classmdt_sql_schema_table_a3ee39e0981fc152c6f811114b78068aa}{clear} ()}
\label{classmdt_sql_schema_table_a3ee39e0981fc152c6f811114b78068aa}

\begin{DoxyCompactList}\small\item\em Clear. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_sql_schema_table_a3518d03c95486589222610b69abe6ee8}{setDriverName} (const QString \&name)
\begin{DoxyCompactList}\small\item\em Set the driver name. \end{DoxyCompactList}\item 
\hypertarget{classmdt_sql_schema_table_aa9a99e27383cd6ba34231d5b2eb60dd8}{
void \hyperlink{classmdt_sql_schema_table_aa9a99e27383cd6ba34231d5b2eb60dd8}{setDatabaseName} (const QString \&name)}
\label{classmdt_sql_schema_table_aa9a99e27383cd6ba34231d5b2eb60dd8}

\begin{DoxyCompactList}\small\item\em Set database name. \end{DoxyCompactList}\item 
\hypertarget{classmdt_sql_schema_table_a36b5b28c64ad9cfa69a65e775fc33cbd}{
void \hyperlink{classmdt_sql_schema_table_a36b5b28c64ad9cfa69a65e775fc33cbd}{setTableName} (const QString \&name, const QString \&charset=QString(), Qt::CaseSensitivity cs=Qt::CaseInsensitive)}
\label{classmdt_sql_schema_table_a36b5b28c64ad9cfa69a65e775fc33cbd}

\begin{DoxyCompactList}\small\item\em Set table name. \end{DoxyCompactList}\item 
\hypertarget{classmdt_sql_schema_table_a24def48594abf674f96852a4c0d5e9c1}{
QString \hyperlink{classmdt_sql_schema_table_a24def48594abf674f96852a4c0d5e9c1}{tableName} () const }
\label{classmdt_sql_schema_table_a24def48594abf674f96852a4c0d5e9c1}

\begin{DoxyCompactList}\small\item\em Get table name. \end{DoxyCompactList}\item 
\hypertarget{classmdt_sql_schema_table_a175f4d150a816bd46bd1a8b3fccbe059}{
void \hyperlink{classmdt_sql_schema_table_a175f4d150a816bd46bd1a8b3fccbe059}{setStorageEngineName} (const QString \&name)}
\label{classmdt_sql_schema_table_a175f4d150a816bd46bd1a8b3fccbe059}

\begin{DoxyCompactList}\small\item\em Set the Maria DB/MySQL storage engine (XtraDB, Inno DB, ...) \end{DoxyCompactList}\item 
\hypertarget{classmdt_sql_schema_table_a199589fde3f06590ba9cd38b1885fa38}{
void \hyperlink{classmdt_sql_schema_table_a199589fde3f06590ba9cd38b1885fa38}{addField} (const QSqlField \&field, bool isPartOfPrimaryKey)}
\label{classmdt_sql_schema_table_a199589fde3f06590ba9cd38b1885fa38}

\begin{DoxyCompactList}\small\item\em Add a field. \end{DoxyCompactList}\item 
\hypertarget{classmdt_sql_schema_table_a24a9e8f260bc96f96219711981124d87}{
int \hyperlink{classmdt_sql_schema_table_a24a9e8f260bc96f96219711981124d87}{fieldCount} () const }
\label{classmdt_sql_schema_table_a24a9e8f260bc96f96219711981124d87}

\begin{DoxyCompactList}\small\item\em Get number of fields. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_sql_schema_table_a55c4ff0c8d01bf794e84cf4828d2cb56}{addIndex} (const QString \&name, bool unique)
\begin{DoxyCompactList}\small\item\em Add a index. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_sql_schema_table_a3deb6f2b10178c252afbaabefb687722}{addFieldToIndex} (const QString \&indexName, const QString \&fieldName)
\begin{DoxyCompactList}\small\item\em Add a field to a index. \end{DoxyCompactList}\item 
\hypertarget{classmdt_sql_schema_table_a48ab41fda7864ec8cd59468de2475ff2}{
void \hyperlink{classmdt_sql_schema_table_a48ab41fda7864ec8cd59468de2475ff2}{addForeignKey} (const QString \&name, const QString \&referingTableName, const \hyperlink{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911be}{foreignKeyAction\_\-t} \&actionOnDelete, const \hyperlink{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911be}{foreignKeyAction\_\-t} \&actionOnUpdate)}
\label{classmdt_sql_schema_table_a48ab41fda7864ec8cd59468de2475ff2}

\begin{DoxyCompactList}\small\item\em Add a foreign key contraint. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_sql_schema_table_a0909cc0e3ad602312ddf44de397d9fe4}{addFieldToForeignKey} (const QString \&foreignKeyName, const QString \&fieldName, const QString \&referingFieldName)
\begin{DoxyCompactList}\small\item\em Add a field to a foreign key. \end{DoxyCompactList}\item 
\hypertarget{classmdt_sql_schema_table_a8a072145d85a6a2c183e01aaa6d91a5d}{
QString \hyperlink{classmdt_sql_schema_table_a8a072145d85a6a2c183e01aaa6d91a5d}{sqlForCreateTable} () const }
\label{classmdt_sql_schema_table_a8a072145d85a6a2c183e01aaa6d91a5d}

\begin{DoxyCompactList}\small\item\em Get SQL statement for table creation. \end{DoxyCompactList}\item 
\hypertarget{classmdt_sql_schema_table_a35fd4ed657f48013747973fef78be345}{
QString \hyperlink{classmdt_sql_schema_table_a35fd4ed657f48013747973fef78be345}{sqlForDropTable} () const }
\label{classmdt_sql_schema_table_a35fd4ed657f48013747973fef78be345}

\begin{DoxyCompactList}\small\item\em Get SQL statement for table deleteion. \end{DoxyCompactList}\item 
\hypertarget{classmdt_sql_schema_table_a8199d144499e7fd77ad168049a3c2ca7}{
\hyperlink{classmdt_error}{mdtError} \hyperlink{classmdt_sql_schema_table_a8199d144499e7fd77ad168049a3c2ca7}{lastError} () const }
\label{classmdt_sql_schema_table_a8199d144499e7fd77ad168049a3c2ca7}

\begin{DoxyCompactList}\small\item\em Get last error. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Helper class that generate SQL table creation string. 

Definition at line 46 of file mdtSqlSchemaTable.h.



\subsection{Member Enumeration Documentation}
\hypertarget{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911be}{
\index{mdtSqlSchemaTable@{mdtSqlSchemaTable}!foreignKeyAction\_\-t@{foreignKeyAction\_\-t}}
\index{foreignKeyAction\_\-t@{foreignKeyAction\_\-t}!mdtSqlSchemaTable@{mdtSqlSchemaTable}}
\subsubsection[{foreignKeyAction\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf mdtSqlSchemaTable::foreignKeyAction\_\-t}}}
\label{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911be}


Action on update or on delete. 

\begin{Desc}
\item[Enumerator: ]\par
\begin{description}
\index{Cascade@{Cascade}!mdtSqlSchemaTable@{mdtSqlSchemaTable}}\index{mdtSqlSchemaTable@{mdtSqlSchemaTable}!Cascade@{Cascade}}\item[{\em 
\hypertarget{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911bea69dd241f7f53962080a7f2ba14a8a203}{
Cascade}
\label{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911bea69dd241f7f53962080a7f2ba14a8a203}
}]Cascade \index{SetNull@{SetNull}!mdtSqlSchemaTable@{mdtSqlSchemaTable}}\index{mdtSqlSchemaTable@{mdtSqlSchemaTable}!SetNull@{SetNull}}\item[{\em 
\hypertarget{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911bea1c16892bf8fa377f987abbb4d1c5644a}{
SetNull}
\label{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911bea1c16892bf8fa377f987abbb4d1c5644a}
}]Set null \index{NoAction@{NoAction}!mdtSqlSchemaTable@{mdtSqlSchemaTable}}\index{mdtSqlSchemaTable@{mdtSqlSchemaTable}!NoAction@{NoAction}}\item[{\em 
\hypertarget{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911bea88f6f3c8088eba177e18cb26f518d61d}{
NoAction}
\label{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911bea88f6f3c8088eba177e18cb26f518d61d}
}]No action \index{Restrict@{Restrict}!mdtSqlSchemaTable@{mdtSqlSchemaTable}}\index{mdtSqlSchemaTable@{mdtSqlSchemaTable}!Restrict@{Restrict}}\item[{\em 
\hypertarget{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911bea63478da446745c0346acfc6f5665abfe}{
Restrict}
\label{classmdt_sql_schema_table_a1738e443f03dc69b914edb967cb911bea63478da446745c0346acfc6f5665abfe}
}]Restrict \end{description}
\end{Desc}



Definition at line 52 of file mdtSqlSchemaTable.h.



\subsection{Member Function Documentation}
\hypertarget{classmdt_sql_schema_table_a0909cc0e3ad602312ddf44de397d9fe4}{
\index{mdtSqlSchemaTable@{mdtSqlSchemaTable}!addFieldToForeignKey@{addFieldToForeignKey}}
\index{addFieldToForeignKey@{addFieldToForeignKey}!mdtSqlSchemaTable@{mdtSqlSchemaTable}}
\subsubsection[{addFieldToForeignKey}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtSqlSchemaTable::addFieldToForeignKey (
\begin{DoxyParamCaption}
\item[{const QString \&}]{foreignKeyName, }
\item[{const QString \&}]{fieldName, }
\item[{const QString \&}]{referingFieldName}
\end{DoxyParamCaption}
)}}
\label{classmdt_sql_schema_table_a0909cc0e3ad602312ddf44de397d9fe4}


Add a field to a foreign key. 

Field must allready be created with \hyperlink{classmdt_sql_schema_table_a199589fde3f06590ba9cd38b1885fa38}{addField()} and foreign key also with \hyperlink{classmdt_sql_schema_table_a48ab41fda7864ec8cd59468de2475ff2}{addForeignKey()} . If foreign key with name foreignKeyName does not exists, or field with fieldName not exists, this method returns false. 

Definition at line 140 of file mdtSqlSchemaTable.cpp.

\hypertarget{classmdt_sql_schema_table_a3deb6f2b10178c252afbaabefb687722}{
\index{mdtSqlSchemaTable@{mdtSqlSchemaTable}!addFieldToIndex@{addFieldToIndex}}
\index{addFieldToIndex@{addFieldToIndex}!mdtSqlSchemaTable@{mdtSqlSchemaTable}}
\subsubsection[{addFieldToIndex}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtSqlSchemaTable::addFieldToIndex (
\begin{DoxyParamCaption}
\item[{const QString \&}]{indexName, }
\item[{const QString \&}]{fieldName}
\end{DoxyParamCaption}
)}}
\label{classmdt_sql_schema_table_a3deb6f2b10178c252afbaabefb687722}


Add a field to a index. 

Field must allready be created with \hyperlink{classmdt_sql_schema_table_a199589fde3f06590ba9cd38b1885fa38}{addField()} and index also with \hyperlink{classmdt_sql_schema_table_a55c4ff0c8d01bf794e84cf4828d2cb56}{addIndex()} . If index with name indexName does not exists, or field with fieldName not exists, this method returns false. 

Definition at line 97 of file mdtSqlSchemaTable.cpp.

\hypertarget{classmdt_sql_schema_table_a55c4ff0c8d01bf794e84cf4828d2cb56}{
\index{mdtSqlSchemaTable@{mdtSqlSchemaTable}!addIndex@{addIndex}}
\index{addIndex@{addIndex}!mdtSqlSchemaTable@{mdtSqlSchemaTable}}
\subsubsection[{addIndex}]{\setlength{\rightskip}{0pt plus 5cm}void mdtSqlSchemaTable::addIndex (
\begin{DoxyParamCaption}
\item[{const QString \&}]{name, }
\item[{bool}]{unique}
\end{DoxyParamCaption}
)}}
\label{classmdt_sql_schema_table_a55c4ff0c8d01bf794e84cf4828d2cb56}


Add a index. 

If name allready exists, it will not be appended 

Definition at line 88 of file mdtSqlSchemaTable.cpp.

\hypertarget{classmdt_sql_schema_table_a3518d03c95486589222610b69abe6ee8}{
\index{mdtSqlSchemaTable@{mdtSqlSchemaTable}!setDriverName@{setDriverName}}
\index{setDriverName@{setDriverName}!mdtSqlSchemaTable@{mdtSqlSchemaTable}}
\subsubsection[{setDriverName}]{\setlength{\rightskip}{0pt plus 5cm}void mdtSqlSchemaTable::setDriverName (
\begin{DoxyParamCaption}
\item[{const QString \&}]{name}
\end{DoxyParamCaption}
)}}
\label{classmdt_sql_schema_table_a3518d03c95486589222610b69abe6ee8}


Set the driver name. 

Driver name must be given in format returned by QSqlDatabase::driverName() . 

Definition at line 48 of file mdtSqlSchemaTable.cpp.



The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
src/mdtutilsgui/mdtSqlSchemaTable.h\item 
src/mdtutilsgui/mdtSqlSchemaTable.cpp\end{DoxyCompactItemize}
