\hypertarget{classmdt_port_manager}{
\section{mdtPortManager Class Reference}
\label{classmdt_port_manager}\index{mdtPortManager@{mdtPortManager}}
}


Port manager base class.  




{\ttfamily \#include $<$mdtPortManager.h$>$}



Inheritance diagram for mdtPortManager:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=332pt]{classmdt_port_manager__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for mdtPortManager:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classmdt_port_manager__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classmdt_port_manager_a4a2a146021158aeb72f9f4b6d62b6dd0}{newFrameReaden} ()
\begin{DoxyCompactList}\small\item\em Called by the read thread whenn a complete frame was readen. \end{DoxyCompactList}\item 
\hypertarget{classmdt_port_manager_a7e45b8e3475e5182ed12218616664d07}{
void \hyperlink{classmdt_port_manager_a7e45b8e3475e5182ed12218616664d07}{onThreadsErrorOccured} (int error)}
\label{classmdt_port_manager_a7e45b8e3475e5182ed12218616664d07}

\begin{DoxyCompactList}\small\item\em Manage errors comming from port threads. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Signals}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classmdt_port_manager_a000ffb4df553fad9ec90e62caaccc91f}{newDataReaden} ()
\begin{DoxyCompactList}\small\item\em Emitted when new data was readen. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classmdt_port_manager_a5ec36523089b7528d973e29cdbc64d01}{
{\bfseries mdtPortManager} (QObject $\ast$parent=0)}
\label{classmdt_port_manager_a5ec36523089b7528d973e29cdbc64d01}

\item 
void \hyperlink{classmdt_port_manager_afcd156b2d0c9d340999935efb6cd8cb6}{setPort} (\hyperlink{classmdt_abstract_port}{mdtAbstractPort} $\ast$port)
\begin{DoxyCompactList}\small\item\em Set port object. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_port_manager_a647f85027ac2ed695a88f23c9f9167eb}{setPortName} (const QString \&portName)
\begin{DoxyCompactList}\small\item\em Set port name. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_port_manager_a087ade14678b0e2470d9f5218ac905ce}{setConfig} (\hyperlink{classmdt_port_config}{mdtPortConfig} $\ast$config)
\begin{DoxyCompactList}\small\item\em Set the config object. \end{DoxyCompactList}\item 
\hyperlink{classmdt_port_config}{mdtPortConfig} \& \hyperlink{classmdt_port_manager_a9cf3ea2da38f81682695b37448712ffd}{config} ()
\begin{DoxyCompactList}\small\item\em Get the config object. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classmdt_port_manager_aab594613e8985590c835194efbc27b5e}{openPort} ()
\begin{DoxyCompactList}\small\item\em Open the port. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_port_manager_ace8065f1f5083041ee7f65c2892bc77d}{closePort} ()
\begin{DoxyCompactList}\small\item\em Close the port. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_port_manager_a696c2d649764ba7b5f299b0a8f3e5cc4}{startReading} ()
\begin{DoxyCompactList}\small\item\em Start the read thread. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_port_manager_a6a06371d61f8f227df2806cde2ac1d11}{stopReading} ()
\begin{DoxyCompactList}\small\item\em Stop the read thread. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_port_manager_ac769ac4eb2b43a5a37be5b5d2a7bccbc}{startWriting} ()
\begin{DoxyCompactList}\small\item\em Start the write thread. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_port_manager_a29b0d41eb5b72ef58031e4b7c96bb7e5}{stopWriting} ()
\begin{DoxyCompactList}\small\item\em Stop the write thread. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classmdt_port_manager_af1fb103ffafc227337a59c7e82f44fbc}{start} ()
\begin{DoxyCompactList}\small\item\em Start reading and writing threads. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_port_manager_af460167e604b8b6e2e933a98b2b6b5a2}{isRunning} ()
\begin{DoxyCompactList}\small\item\em Get the running state. \end{DoxyCompactList}\item 
virtual void \hyperlink{classmdt_port_manager_aacbf87cc3d9c37c87e21696f8a6514bd}{stop} ()
\begin{DoxyCompactList}\small\item\em Stop reading and writing threads. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_port_manager_a6d3cc4e522326e2a6ca0da401ae58271}{writeData} (QByteArray data)
\begin{DoxyCompactList}\small\item\em Write data by copy. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_port_manager_a44ca338c8c56893612301e09d2ee6e88}{waitReadenFrame} (int timeout=500)
\begin{DoxyCompactList}\small\item\em Wait until a complete frame is available. \end{DoxyCompactList}\item 
\hypertarget{classmdt_port_manager_ac289078134036e05eaa3eabc6799443a}{
QByteArray \& \hyperlink{classmdt_port_manager_ac289078134036e05eaa3eabc6799443a}{lastReadenFrame} ()}
\label{classmdt_port_manager_ac289078134036e05eaa3eabc6799443a}

\begin{DoxyCompactList}\small\item\em Get the last readen frame. \end{DoxyCompactList}\item 
\hyperlink{classmdt_port_read_thread}{mdtPortReadThread} $\ast$ \hyperlink{classmdt_port_manager_adb7669da204438b7b802c8efad422a71}{readThread} ()
\begin{DoxyCompactList}\small\item\em Get read thread object. \end{DoxyCompactList}\item 
\hyperlink{classmdt_port_write_thread}{mdtPortWriteThread} $\ast$ \hyperlink{classmdt_port_manager_aeac5a4abfd2a2f4e4ecb608ca9d38fcf}{writeThread} ()
\begin{DoxyCompactList}\small\item\em Get write thread object. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classmdt_port_manager_af856162aab4f1c5202c1dfb330fae538}{
\hyperlink{classmdt_abstract_port}{mdtAbstractPort} $\ast$ {\bfseries pvPort}}
\label{classmdt_port_manager_af856162aab4f1c5202c1dfb330fae538}

\item 
\hypertarget{classmdt_port_manager_a00a4396199165f0e4bc7dab802e924e6}{
\hyperlink{classmdt_port_read_thread}{mdtPortReadThread} $\ast$ {\bfseries pvReadThread}}
\label{classmdt_port_manager_a00a4396199165f0e4bc7dab802e924e6}

\item 
\hypertarget{classmdt_port_manager_a21da115c51338357c50243742be8f814}{
\hyperlink{classmdt_port_write_thread}{mdtPortWriteThread} $\ast$ {\bfseries pvWriteThread}}
\label{classmdt_port_manager_a21da115c51338357c50243742be8f814}

\item 
\hypertarget{classmdt_port_manager_acca3074ae5bcc6fe64f0cd3f802b23d5}{
\hyperlink{classmdt_port_config}{mdtPortConfig} $\ast$ {\bfseries pvConfig}}
\label{classmdt_port_manager_acca3074ae5bcc6fe64f0cd3f802b23d5}

\item 
\hypertarget{classmdt_port_manager_adaa5de4e693944494c78fe9c7e8207d2}{
QByteArray {\bfseries pvLastReadenFrame}}
\label{classmdt_port_manager_adaa5de4e693944494c78fe9c7e8207d2}

\item 
\hypertarget{classmdt_port_manager_a27b171edec4e273e048593bbec7c37dc}{
QByteArray {\bfseries pvLastReadenData}}
\label{classmdt_port_manager_a27b171edec4e273e048593bbec7c37dc}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Port manager base class. 

This is the easiest way to use the port API.\par
 The read and write threads will be created by \hyperlink{classmdt_port_manager_afcd156b2d0c9d340999935efb6cd8cb6}{setPort()} , and port affected to them.\par


Example: 
\begin{DoxyCode}
 mdtPortManager m;
 
 // Setup
 m.setConfig(new mdtPortConfig);
 m.config().setFrameType(mdtFrame::FT_ASCII);
 m.config().setEndOfFrameSeq("$");
 
 // Init port manager
 m.setPort(new mdtPort);
 if(!m.setPortName("/dev/xyz")){
  // Handle error
 }
 if(!m.openPort()){
  // Handle error
 }

 // Start threads
 if(!m.start()){
  // Handle error
 }
 
 // Send some data
 if(!m.writeData("Test$")){
  // Handle error
 }
 
 // Wait on answer - Timout: 1500 [ms]
 if(!m.waitReadenFrame(1500)){
  // Timout , handle error
 }
 // Do something with received data
 qDebug() << m.lastReadenFrame();
 
 // End
 m.closePort();
\end{DoxyCode}


This is a base class for port manager. Port type specific classes are available. \begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_serial_port_manager}{mdtSerialPortManager} 

\hyperlink{classmdt_usbtmc_port_manager}{mdtUsbtmcPortManager} (Linux only) 
\end{DoxySeeAlso}


\subsection{Member Function Documentation}
\hypertarget{classmdt_port_manager_ace8065f1f5083041ee7f65c2892bc77d}{
\index{mdtPortManager@{mdtPortManager}!closePort@{closePort}}
\index{closePort@{closePort}!mdtPortManager@{mdtPortManager}}
\subsubsection[{closePort}]{\setlength{\rightskip}{0pt plus 5cm}void mdtPortManager::closePort (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_port_manager_ace8065f1f5083041ee7f65c2892bc77d}


Close the port. 

This stops the threads (if exists) and close the port.\par
 If port was never set (with \hyperlink{classmdt_port_manager_afcd156b2d0c9d340999935efb6cd8cb6}{setPort()} ), this method does nothing. \hypertarget{classmdt_port_manager_a9cf3ea2da38f81682695b37448712ffd}{
\index{mdtPortManager@{mdtPortManager}!config@{config}}
\index{config@{config}!mdtPortManager@{mdtPortManager}}
\subsubsection[{config}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdtPortConfig} \& mdtPortManager::config (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_port_manager_a9cf3ea2da38f81682695b37448712ffd}


Get the config object. 

Usefull to alter internal port configuration \begin{DoxyPrecond}{Precondition}
Config must be set with \hyperlink{classmdt_port_manager_a087ade14678b0e2470d9f5218ac905ce}{setConfig()} 
\end{DoxyPrecond}


Reimplemented in \hyperlink{classmdt_serial_port_manager_a4b8ab7b9d53966a1887d9ce8557b8416}{mdtSerialPortManager}.

\hypertarget{classmdt_port_manager_af460167e604b8b6e2e933a98b2b6b5a2}{
\index{mdtPortManager@{mdtPortManager}!isRunning@{isRunning}}
\index{isRunning@{isRunning}!mdtPortManager@{mdtPortManager}}
\subsubsection[{isRunning}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtPortManager::isRunning (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_port_manager_af460167e604b8b6e2e933a98b2b6b5a2}


Get the running state. 

If port was set, it returns false.\par
 If one of the threads is running, true is returned. \hypertarget{classmdt_port_manager_a000ffb4df553fad9ec90e62caaccc91f}{
\index{mdtPortManager@{mdtPortManager}!newDataReaden@{newDataReaden}}
\index{newDataReaden@{newDataReaden}!mdtPortManager@{mdtPortManager}}
\subsubsection[{newDataReaden}]{\setlength{\rightskip}{0pt plus 5cm}void mdtPortManager::newDataReaden (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}signal\mbox{]}}}}
\label{classmdt_port_manager_a000ffb4df553fad9ec90e62caaccc91f}


Emitted when new data was readen. 

\begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_port_manager_a4a2a146021158aeb72f9f4b6d62b6dd0}{newFrameReaden()} 
\end{DoxySeeAlso}
\hypertarget{classmdt_port_manager_a4a2a146021158aeb72f9f4b6d62b6dd0}{
\index{mdtPortManager@{mdtPortManager}!newFrameReaden@{newFrameReaden}}
\index{newFrameReaden@{newFrameReaden}!mdtPortManager@{mdtPortManager}}
\subsubsection[{newFrameReaden}]{\setlength{\rightskip}{0pt plus 5cm}void mdtPortManager::newFrameReaden (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}slot\mbox{]}}}}
\label{classmdt_port_manager_a4a2a146021158aeb72f9f4b6d62b6dd0}


Called by the read thread whenn a complete frame was readen. 

\begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_port_read_thread}{mdtPortReadThread} 
\end{DoxySeeAlso}
\hypertarget{classmdt_port_manager_aab594613e8985590c835194efbc27b5e}{
\index{mdtPortManager@{mdtPortManager}!openPort@{openPort}}
\index{openPort@{openPort}!mdtPortManager@{mdtPortManager}}
\subsubsection[{openPort}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtPortManager::openPort (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classmdt_port_manager_aab594613e8985590c835194efbc27b5e}


Open the port. 

\begin{DoxyReturn}{Returns}
True on success, false else 
\end{DoxyReturn}
\begin{DoxyPrecond}{Precondition}
\hyperlink{classmdt_port_manager_a647f85027ac2ed695a88f23c9f9167eb}{setPortName()} must be called first 

Config must be set with \hyperlink{classmdt_port_manager_a087ade14678b0e2470d9f5218ac905ce}{setConfig()} 
\end{DoxyPrecond}
\begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_port_manager_a647f85027ac2ed695a88f23c9f9167eb}{setPortName()} 

\hyperlink{classmdt_port}{mdtPort} 
\end{DoxySeeAlso}


Reimplemented in \hyperlink{classmdt_serial_port_manager_a406481e80014cdd6cb83ff49c3d31685}{mdtSerialPortManager}.

\hypertarget{classmdt_port_manager_adb7669da204438b7b802c8efad422a71}{
\index{mdtPortManager@{mdtPortManager}!readThread@{readThread}}
\index{readThread@{readThread}!mdtPortManager@{mdtPortManager}}
\subsubsection[{readThread}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdtPortReadThread} $\ast$ mdtPortManager::readThread (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_port_manager_adb7669da204438b7b802c8efad422a71}


Get read thread object. 

Note that thread object should not be used without care. \begin{DoxyPrecond}{Precondition}
\hyperlink{classmdt_port_manager_afcd156b2d0c9d340999935efb6cd8cb6}{setPort()} must be called before, because threads are created at this time (becaus of subclassing). 
\end{DoxyPrecond}
\hypertarget{classmdt_port_manager_a087ade14678b0e2470d9f5218ac905ce}{
\index{mdtPortManager@{mdtPortManager}!setConfig@{setConfig}}
\index{setConfig@{setConfig}!mdtPortManager@{mdtPortManager}}
\subsubsection[{setConfig}]{\setlength{\rightskip}{0pt plus 5cm}void mdtPortManager::setConfig (
\begin{DoxyParamCaption}
\item[{{\bf mdtPortConfig} $\ast$}]{config}
\end{DoxyParamCaption}
)}}
\label{classmdt_port_manager_a087ade14678b0e2470d9f5218ac905ce}


Set the config object. 

\begin{DoxyPrecond}{Precondition}
config must be a valid pointer to expected a object type. 
\end{DoxyPrecond}
\hypertarget{classmdt_port_manager_afcd156b2d0c9d340999935efb6cd8cb6}{
\index{mdtPortManager@{mdtPortManager}!setPort@{setPort}}
\index{setPort@{setPort}!mdtPortManager@{mdtPortManager}}
\subsubsection[{setPort}]{\setlength{\rightskip}{0pt plus 5cm}void mdtPortManager::setPort (
\begin{DoxyParamCaption}
\item[{{\bf mdtAbstractPort} $\ast$}]{port}
\end{DoxyParamCaption}
)}}
\label{classmdt_port_manager_afcd156b2d0c9d340999935efb6cd8cb6}


Set port object. 

The read and write threads will be created if not allready exists, port assigned to them, and signals/slots connection made.\par
 Please take care to never call this method while threads are running. \begin{DoxyPrecond}{Precondition}
port must be a valid pointer to the expected class instance (for ex: \hyperlink{classmdt_serial_port}{mdtSerialPort}) 
\end{DoxyPrecond}
\hypertarget{classmdt_port_manager_a647f85027ac2ed695a88f23c9f9167eb}{
\index{mdtPortManager@{mdtPortManager}!setPortName@{setPortName}}
\index{setPortName@{setPortName}!mdtPortManager@{mdtPortManager}}
\subsubsection[{setPortName}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtPortManager::setPortName (
\begin{DoxyParamCaption}
\item[{const QString \&}]{portName}
\end{DoxyParamCaption}
)}}
\label{classmdt_port_manager_a647f85027ac2ed695a88f23c9f9167eb}


Set port name. 

Try to open given port. If ok, the port name will be kept.\par
 mdtAbstractPort::setAttributes() will be called to fetch some attributes (for example available baud rates if port is a \hyperlink{classmdt_serial_port}{mdtSerialPort} object). \begin{DoxyPrecond}{Precondition}
Port must be set before with \hyperlink{classmdt_port_manager_afcd156b2d0c9d340999935efb6cd8cb6}{setPort()} 
\end{DoxyPrecond}

\begin{DoxyParams}{Parameters}
{\em portName} & Port to open \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True on success, false else 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_abstract_port}{mdtAbstractPort} 
\end{DoxySeeAlso}


return pvPort-\/$>$setAttributes(portName); 

\hypertarget{classmdt_port_manager_af1fb103ffafc227337a59c7e82f44fbc}{
\index{mdtPortManager@{mdtPortManager}!start@{start}}
\index{start@{start}!mdtPortManager@{mdtPortManager}}
\subsubsection[{start}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtPortManager::start (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classmdt_port_manager_af1fb103ffafc227337a59c7e82f44fbc}


Start reading and writing threads. 

\begin{DoxyPrecond}{Precondition}
\hyperlink{classmdt_port_manager_afcd156b2d0c9d340999935efb6cd8cb6}{setPort()} must be called before. 
\end{DoxyPrecond}
\begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_port_manager_a696c2d649764ba7b5f299b0a8f3e5cc4}{startReading()} 

\hyperlink{classmdt_port_manager_ac769ac4eb2b43a5a37be5b5d2a7bccbc}{startWriting()} 
\end{DoxySeeAlso}


if(!config().readOnly())\{

\} 



Reimplemented in \hyperlink{classmdt_serial_port_manager_a32af7c402d1dbce67c928f8e8274f412}{mdtSerialPortManager}.

\hypertarget{classmdt_port_manager_a696c2d649764ba7b5f299b0a8f3e5cc4}{
\index{mdtPortManager@{mdtPortManager}!startReading@{startReading}}
\index{startReading@{startReading}!mdtPortManager@{mdtPortManager}}
\subsubsection[{startReading}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtPortManager::startReading (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_port_manager_a696c2d649764ba7b5f299b0a8f3e5cc4}


Start the read thread. 

\begin{DoxyReturn}{Returns}
True on successfull start 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
mdtThread 

\hyperlink{classmdt_port_read_thread}{mdtPortReadThread} 
\end{DoxySeeAlso}
\hypertarget{classmdt_port_manager_ac769ac4eb2b43a5a37be5b5d2a7bccbc}{
\index{mdtPortManager@{mdtPortManager}!startWriting@{startWriting}}
\index{startWriting@{startWriting}!mdtPortManager@{mdtPortManager}}
\subsubsection[{startWriting}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtPortManager::startWriting (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_port_manager_ac769ac4eb2b43a5a37be5b5d2a7bccbc}


Start the write thread. 

\begin{DoxyPrecond}{Precondition}
\hyperlink{classmdt_port_manager_afcd156b2d0c9d340999935efb6cd8cb6}{setPort()} must be called before. 
\end{DoxyPrecond}
\begin{DoxyReturn}{Returns}
True on successfull start 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
mdtThread 

\hyperlink{classmdt_port_write_thread}{mdtPortWriteThread} 
\end{DoxySeeAlso}


if(\hyperlink{classmdt_port_manager_a9cf3ea2da38f81682695b37448712ffd}{config()}.readOnly())\{ \hyperlink{classmdt_error}{mdtError} e(MDT\_\-PORT\_\-IO\_\-ERROR, \char`\"{}start writing called on a read only port\char`\"{}, mdtError::Error); MDT\_\-ERROR\_\-SET\_\-SRC(e, \char`\"{}mdtPortManager\char`\"{}); e.commit(); return false; \}

\hypertarget{classmdt_port_manager_aacbf87cc3d9c37c87e21696f8a6514bd}{
\index{mdtPortManager@{mdtPortManager}!stop@{stop}}
\index{stop@{stop}!mdtPortManager@{mdtPortManager}}
\subsubsection[{stop}]{\setlength{\rightskip}{0pt plus 5cm}void mdtPortManager::stop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classmdt_port_manager_aacbf87cc3d9c37c87e21696f8a6514bd}


Stop reading and writing threads. 

\begin{DoxyPrecond}{Precondition}
\hyperlink{classmdt_port_manager_afcd156b2d0c9d340999935efb6cd8cb6}{setPort()} must be called before. 
\end{DoxyPrecond}
\begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_port_manager_af1fb103ffafc227337a59c7e82f44fbc}{start()} 
\end{DoxySeeAlso}


Reimplemented in \hyperlink{classmdt_serial_port_manager_a819b5aff2ea4d116ebfa3dcb311cf298}{mdtSerialPortManager}.

\hypertarget{classmdt_port_manager_a6a06371d61f8f227df2806cde2ac1d11}{
\index{mdtPortManager@{mdtPortManager}!stopReading@{stopReading}}
\index{stopReading@{stopReading}!mdtPortManager@{mdtPortManager}}
\subsubsection[{stopReading}]{\setlength{\rightskip}{0pt plus 5cm}void mdtPortManager::stopReading (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_port_manager_a6a06371d61f8f227df2806cde2ac1d11}


Stop the read thread. 

\begin{DoxyPrecond}{Precondition}
\hyperlink{classmdt_port_manager_afcd156b2d0c9d340999935efb6cd8cb6}{setPort()} must be called before. 
\end{DoxyPrecond}
\begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_port_manager_a696c2d649764ba7b5f299b0a8f3e5cc4}{startReading()} 
\end{DoxySeeAlso}
\hypertarget{classmdt_port_manager_a29b0d41eb5b72ef58031e4b7c96bb7e5}{
\index{mdtPortManager@{mdtPortManager}!stopWriting@{stopWriting}}
\index{stopWriting@{stopWriting}!mdtPortManager@{mdtPortManager}}
\subsubsection[{stopWriting}]{\setlength{\rightskip}{0pt plus 5cm}void mdtPortManager::stopWriting (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_port_manager_a29b0d41eb5b72ef58031e4b7c96bb7e5}


Stop the write thread. 

\begin{DoxyPrecond}{Precondition}
\hyperlink{classmdt_port_manager_afcd156b2d0c9d340999935efb6cd8cb6}{setPort()} must be called before. 
\end{DoxyPrecond}
\begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_port_manager_ac769ac4eb2b43a5a37be5b5d2a7bccbc}{startWriting()} 
\end{DoxySeeAlso}
\hypertarget{classmdt_port_manager_a44ca338c8c56893612301e09d2ee6e88}{
\index{mdtPortManager@{mdtPortManager}!waitReadenFrame@{waitReadenFrame}}
\index{waitReadenFrame@{waitReadenFrame}!mdtPortManager@{mdtPortManager}}
\subsubsection[{waitReadenFrame}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtPortManager::waitReadenFrame (
\begin{DoxyParamCaption}
\item[{int}]{timeout = {\ttfamily 500}}
\end{DoxyParamCaption}
)}}
\label{classmdt_port_manager_a44ca338c8c56893612301e09d2ee6e88}


Wait until a complete frame is available. 

This method will return when a complete frame was readen.\par
 This is usefull for query/answer protocols.\par
 Internally, a couple of sleep and process event are called, so Qt's event loop will not be broken. 
\begin{DoxyParams}{Parameters}
{\em timeout} & Maximum wait time \mbox{[}ms\mbox{]}. Must be a multiple of 50 \mbox{[}ms\mbox{]} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if Ok, false on timeout 
\end{DoxyReturn}
\hypertarget{classmdt_port_manager_a6d3cc4e522326e2a6ca0da401ae58271}{
\index{mdtPortManager@{mdtPortManager}!writeData@{writeData}}
\index{writeData@{writeData}!mdtPortManager@{mdtPortManager}}
\subsubsection[{writeData}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtPortManager::writeData (
\begin{DoxyParamCaption}
\item[{QByteArray}]{data}
\end{DoxyParamCaption}
)}}
\label{classmdt_port_manager_a6d3cc4e522326e2a6ca0da401ae58271}


Write data by copy. 

The data conatined in frame will be passed to the mdtPort's write queue by copy. This method returns immediatly after enqueue, and don't wait until data was written. 
\begin{DoxyParams}{Parameters}
{\em frame} & Frame to write \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True on success. False if write queue is full 
\end{DoxyReturn}
\hypertarget{classmdt_port_manager_aeac5a4abfd2a2f4e4ecb608ca9d38fcf}{
\index{mdtPortManager@{mdtPortManager}!writeThread@{writeThread}}
\index{writeThread@{writeThread}!mdtPortManager@{mdtPortManager}}
\subsubsection[{writeThread}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdtPortWriteThread} $\ast$ mdtPortManager::writeThread (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_port_manager_aeac5a4abfd2a2f4e4ecb608ca9d38fcf}


Get write thread object. 

Note that thread object should not be used without care. \begin{DoxyPrecond}{Precondition}
\hyperlink{classmdt_port_manager_afcd156b2d0c9d340999935efb6cd8cb6}{setPort()} must be called before, because threads are created at this time (becaus of subclassing). 
\end{DoxyPrecond}


The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
src/mdtport/mdtPortManager.h\item 
src/mdtport/mdtPortManager.cpp\end{DoxyCompactItemize}
