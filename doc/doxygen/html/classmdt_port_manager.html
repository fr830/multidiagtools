<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Multi diag tools: mdtPortManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Multi diag tools</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">mdtPortManager Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="mdtPortManager" -->
<p>Port manager base class.  
 <a href="classmdt_port_manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mdt_port_manager_8h_source.html">mdtPortManager.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mdtPortManager:</div>
<div class="dyncontent">
<div class="center"><img src="classmdt_port_manager__inherit__graph.png" border="0" usemap="#mdt_port_manager_inherit__map" alt="Inheritance graph"/></div>
<map name="mdt_port_manager_inherit__map" id="mdt_port_manager_inherit__map">
<area shape="rect" id="node3" href="classmdt_modbus_tcp_port_manager.html" title="MODBUS/TCP port manager." alt="" coords="5,83,192,112"/><area shape="rect" id="node5" href="classmdt_serial_port_manager.html" title="Serial port manager class." alt="" coords="216,83,365,112"/><area shape="rect" id="node7" href="classmdt_usbtmc_port_manager.html" title="USBTMC port manager." alt="" coords="389,83,552,112"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for mdtPortManager:</div>
<div class="dyncontent">
<div class="center"><img src="classmdt_port_manager__coll__graph.png" border="0" usemap="#mdt_port_manager_coll__map" alt="Collaboration graph"/></div>
<map name="mdt_port_manager_coll__map" id="mdt_port_manager_coll__map">
<area shape="rect" id="node2" href="classmdt_port_info.html" title="Contains informations about a port." alt="" coords="5,101,96,131"/><area shape="rect" id="node4" href="classmdt_abstract_port.html" title="Base class for port I/O." alt="" coords="120,101,237,131"/><area shape="rect" id="node6" href="classmdt_port_config.html" title="mdtPortConfig" alt="" coords="125,5,232,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classmdt_port_manager-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a1d185e9bb610aee16ccd9499ae7bff0d">abort</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel read and write operations.  <a href="#a1d185e9bb610aee16ccd9499ae7bff0d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a4fcc8f0699b655156e661bb3de6056cc">fromThreadNewFrameReaden</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to.  <a href="#a4fcc8f0699b655156e661bb3de6056cc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a7e45b8e3475e5182ed12218616664d07">onThreadsErrorOccured</a> (int error)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Manage errors comming from port threads.  <a href="#a7e45b8e3475e5182ed12218616664d07"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="signals"></a>
Signals</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a65d5d2e9edde76796714f737a7eaf204">newReadenFrame</a> (int id, QByteArray data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when new frame was readen.  <a href="#a65d5d2e9edde76796714f737a7eaf204"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ab6a2a791de303ff20e6f7f884be681bf">readenFramesQueueSizeChanged</a> (int newSize)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when internal queue of readen frames size has changed.  <a href="#ab6a2a791de303ff20e6f7f884be681bf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a053ba62f090eced0cf635c9be5c6b052"></a><!-- doxytag: member="mdtPortManager::errorStateChanged" ref="a053ba62f090eced0cf635c9be5c6b052" args="(int error)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a053ba62f090eced0cf635c9be5c6b052">errorStateChanged</a> (int error)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when error number has changed. <br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5ec36523089b7528d973e29cdbc64d01"></a><!-- doxytag: member="mdtPortManager::mdtPortManager" ref="a5ec36523089b7528d973e29cdbc64d01" args="(QObject *parent=0)" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>mdtPortManager</b> (QObject *parent=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#adf797f8fd7a3ffdc000890a224e4c1b6">~mdtPortManager</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#adf797f8fd7a3ffdc000890a224e4c1b6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ae48865abce3dc2a3173ae77d7b0c107f">setEnqueueReadenFrames</a> (bool enqueue)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the enqueue readen frames flag.  <a href="#ae48865abce3dc2a3173ae77d7b0c107f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a56bb2f93ee65b4743cb19784224e3489">setNotifyNewReadenFrame</a> (bool notify)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the incomming frame notification flag.  <a href="#a56bb2f93ee65b4743cb19784224e3489"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual QList&lt; <a class="el" href="classmdt_port_info.html">mdtPortInfo</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ad56afb411ab5468005fca04767557ece">scan</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan for available ports.  <a href="#ad56afb411ab5468005fca04767557ece"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6">setPort</a> (<a class="el" href="classmdt_abstract_port.html">mdtAbstractPort</a> *port)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set port object.  <a href="#afcd156b2d0c9d340999935efb6cd8cb6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a39cb4af4aedc0b6b7c4d4f53002c3fd1">detachPort</a> (bool deletePort, bool deleteThreads)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach port.  <a href="#a39cb4af4aedc0b6b7c4d4f53002c3fd1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ab62591409d019a4a2576b4310c411b8f">addThread</a> (<a class="el" href="classmdt_port_thread.html">mdtPortThread</a> *thread)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a thread and assign it to port.  <a href="#ab62591409d019a4a2576b4310c411b8f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#aaa0a474183bcae0fff4fb9ef43023c25">removeThreads</a> (bool releaseMemory)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Detach threads from port and remove threads.  <a href="#aaa0a474183bcae0fff4fb9ef43023c25"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#af1fb103ffafc227337a59c7e82f44fbc">start</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start threads.  <a href="#af1fb103ffafc227337a59c7e82f44fbc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#af460167e604b8b6e2e933a98b2b6b5a2">isRunning</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the running state.  <a href="#af460167e604b8b6e2e933a98b2b6b5a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#aacbf87cc3d9c37c87e21696f8a6514bd">stop</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop threads.  <a href="#aacbf87cc3d9c37c87e21696f8a6514bd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a2b2ed690cbba9f544c6ac1b46684e59a">setPortName</a> (const QString &amp;portName)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set port name.  <a href="#a2b2ed690cbba9f544c6ac1b46684e59a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a7e2ef93ec2731e66aa2b2d5f7ce9bc1c">setPortInfo</a> (<a class="el" href="classmdt_port_info.html">mdtPortInfo</a> info)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set port info.  <a href="#a7e2ef93ec2731e66aa2b2d5f7ce9bc1c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88109b455fc5a5f5adf0636f7450143e"></a><!-- doxytag: member="mdtPortManager::portInfo" ref="a88109b455fc5a5f5adf0636f7450143e" args="()" -->
<a class="el" href="classmdt_port_info.html">mdtPortInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a88109b455fc5a5f5adf0636f7450143e">portInfo</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get port info. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmdt_port_config.html">mdtPortConfig</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a9cf3ea2da38f81682695b37448712ffd">config</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the port's config object.  <a href="#a9cf3ea2da38f81682695b37448712ffd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#aab594613e8985590c835194efbc27b5e">openPort</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the port.  <a href="#aab594613e8985590c835194efbc27b5e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ace8065f1f5083041ee7f65c2892bc77d">closePort</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the port.  <a href="#ace8065f1f5083041ee7f65c2892bc77d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ae1cc1010067bcbf104fb3d1b19f2fa48">waitOnWriteReady</a> (int timeout, int granularity=50)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until data can be written.  <a href="#ae1cc1010067bcbf104fb3d1b19f2fa48"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a8b60d53d6e553f15dedec916f9c1614b">writeData</a> (QByteArray data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data by copy.  <a href="#a8b60d53d6e553f15dedec916f9c1614b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a44ca338c8c56893612301e09d2ee6e88">waitReadenFrame</a> (int timeout=500)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until a complete frame is available.  <a href="#a44ca338c8c56893612301e09d2ee6e88"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QByteArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a1db6b8da9ff16221c917a1a75366e5c0">waitOnFrame</a> (int id, int timeout=500)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait on readen frame with defined ID.  <a href="#a1db6b8da9ff16221c917a1a75366e5c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QByteArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a830ae182d06dd6a52c43a7f45b9240ac">readenFrame</a> (int id)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get data by frame ID.  <a href="#a830ae182d06dd6a52c43a7f45b9240ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const QList&lt; QByteArray &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ae5c6475a54ac4921c6df26893f261556">readenFrames</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all readen data.  <a href="#ae5c6475a54ac4921c6df26893f261556"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#ad4ff1309b267dfdcfa5a12e4617397f1">clearReadenFrames</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear readen frames.  <a href="#ad4ff1309b267dfdcfa5a12e4617397f1"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#acc5c63ad33fdd3cc153fc23e00c6e69c">wait</a> (int msecs, int granularity=50)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait some time without break the GUI's event loop.  <a href="#acc5c63ad33fdd3cc153fc23e00c6e69c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmdt_port_manager.html#a3daaf801a26008388af390b5917d7a0c">commitFrame</a> (int id, QByteArray data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Store frame data in queue and/or emit <a class="el" href="classmdt_port_manager.html#a65d5d2e9edde76796714f737a7eaf204" title="Emitted when new frame was readen.">newReadenFrame()</a> signal.  <a href="#a3daaf801a26008388af390b5917d7a0c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af856162aab4f1c5202c1dfb330fae538"></a><!-- doxytag: member="mdtPortManager::pvPort" ref="af856162aab4f1c5202c1dfb330fae538" args="" -->
<a class="el" href="classmdt_abstract_port.html">mdtAbstractPort</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>pvPort</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e0d49b789f8b01d469e84b487799573"></a><!-- doxytag: member="mdtPortManager::pvThreads" ref="a8e0d49b789f8b01d469e84b487799573" args="" -->
QList&lt; <a class="el" href="classmdt_port_thread.html">mdtPortThread</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>pvThreads</b></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Port manager base class. </p>
<p>Manages a port based on <a class="el" href="classmdt_abstract_port.html" title="Base class for port I/O.">mdtAbstractPort</a> an several threads based on <a class="el" href="classmdt_port_thread.html">mdtPortThread</a>. The goal is to hide the complexity of the port API.</p>
<p>Example: </p>
<div class="fragment"><pre class="fragment"> <a class="code" href="classmdt_port_manager.html" title="Port manager base class.">mdtPortManager</a> m;
 <a class="code" href="classmdt_port.html">mdtPort</a> *port;
 <a class="code" href="classmdt_port_config.html">mdtPortConfig</a> *<a class="code" href="classmdt_port_manager.html#a9cf3ea2da38f81682695b37448712ffd" title="Get the port&#39;s config object.">config</a>;

 <span class="comment">// Setup</span>
 config = <span class="keyword">new</span> <a class="code" href="classmdt_port_config.html">mdtPortConfig</a>;
 config-&gt;<a class="code" href="classmdt_port_config.html#a627adcb87d26757238f844db19fc248d" title="Set frame type.">setFrameType</a>(<a class="code" href="classmdt_frame.html#af936e37d5fe4c066c0fb0161fafd4a17ac649559564652abbe656b97d4a84b722">mdtFrame::FT_ASCII</a>);
 config-&gt;<a class="code" href="classmdt_port_config.html#a3c5e1c444a18da7d68430bd1c14030f4" title="Set the end of frame sequence (applies on ASCII frames)">setEndOfFrameSeq</a>(<span class="stringliteral">&quot;$&quot;</span>);

 <span class="comment">// Init port</span>
 port = <span class="keyword">new</span> <a class="code" href="classmdt_port.html">mdtPort</a>;
 port-&gt;<a class="code" href="classmdt_abstract_port.html#a48bdc0a8057c3b119763643098cf798f" title="Set configuration.">setConfig</a>(config);

 <span class="comment">// Init port manager</span>
 m.<a class="code" href="classmdt_port_manager.html#ae48865abce3dc2a3173ae77d7b0c107f" title="Set the enqueue readen frames flag.">setEnqueueReadenFrames</a>(<span class="keyword">true</span>);
 m.<a class="code" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort</a>(port);
 m.<a class="code" href="classmdt_port_manager.html#ab62591409d019a4a2576b4310c411b8f" title="Add a thread and assign it to port.">addThread</a>(mew <a class="code" href="classmdt_port_write_thread.html">mdtPortWriteThread</a>);
 m.<a class="code" href="classmdt_port_manager.html#ab62591409d019a4a2576b4310c411b8f" title="Add a thread and assign it to port.">addThread</a>(mew <a class="code" href="classmdt_port_read_thread.html" title="Reader thread for port I/O.">mdtPortReadThread</a>);
 m.<a class="code" href="classmdt_port_manager.html#a2b2ed690cbba9f544c6ac1b46684e59a" title="Set port name.">setPortName</a>(<span class="stringliteral">&quot;/dev/xyz&quot;</span>));
 <span class="keywordflow">if</span>(!m.<a class="code" href="classmdt_port_manager.html#aab594613e8985590c835194efbc27b5e" title="Open the port.">openPort</a>()){
  <span class="comment">// Handle error</span>
 }

 <span class="comment">// Start threads</span>
 <span class="keywordflow">if</span>(!m.<a class="code" href="classmdt_port_manager.html#af1fb103ffafc227337a59c7e82f44fbc" title="Start threads.">start</a>()){
  <span class="comment">// Handle error</span>
 }

 <span class="comment">// Send some data</span>
 <span class="keywordflow">if</span>(!m.<a class="code" href="classmdt_port_manager.html#a8b60d53d6e553f15dedec916f9c1614b" title="Write data by copy.">writeData</a>(<span class="stringliteral">&quot;Test$&quot;</span>)){
  <span class="comment">// Handle error</span>
 }

 <span class="comment">// Wait on answer - Timout: 1500 [ms]</span>
 <span class="keywordflow">if</span>(!m.<a class="code" href="classmdt_port_manager.html#a44ca338c8c56893612301e09d2ee6e88" title="Wait until a complete frame is available.">waitReadenFrame</a>(1500)){
  <span class="comment">// Timout , handle error</span>
 }

 <span class="comment">// Do something with received data</span>
 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;m.<a class="code" href="classmdt_port_manager.html#ae5c6475a54ac4921c6df26893f261556" title="Get all readen data.">readenFrames</a>().size(); i++){
  qDebug() &lt;&lt; m.<a class="code" href="classmdt_port_manager.html#ae5c6475a54ac4921c6df26893f261556" title="Get all readen data.">readenFrames</a>().at(i);
 }

 <span class="comment">// Cleanup - detachPort() will delete port and threads objects</span>
 m.<a class="code" href="classmdt_port_manager.html#a39cb4af4aedc0b6b7c4d4f53002c3fd1" title="Detach port.">detachPort</a>(<span class="keyword">true</span>, <span class="keyword">true</span>);
 <span class="keyword">delete</span> <a class="code" href="classmdt_port_manager.html#a9cf3ea2da38f81682695b37448712ffd" title="Get the port&#39;s config object.">config</a>;
</pre></div><p>A alternative of using <a class="el" href="classmdt_port_manager.html#a44ca338c8c56893612301e09d2ee6e88" title="Wait until a complete frame is available.">waitReadenFrame()</a> is to connect the <a class="el" href="classmdt_port_manager.html#a65d5d2e9edde76796714f737a7eaf204" title="Emitted when new frame was readen.">newReadenFrame()</a> signal to a slot, and get data with <a class="el" href="classmdt_port_manager.html#ae5c6475a54ac4921c6df26893f261556" title="Get all readen data.">readenFrames()</a> from this slot.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classmdt_serial_port_manager.html" title="Serial port manager class.">mdtSerialPortManager</a> </dd>
<dd>
<a class="el" href="classmdt_usbtmc_port_manager.html" title="USBTMC port manager.">mdtUsbtmcPortManager</a> (Linux only) </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8h_source.html#l00102">102</a> of file <a class="el" href="mdt_port_manager_8h_source.html">mdtPortManager.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="adf797f8fd7a3ffdc000890a224e4c1b6"></a><!-- doxytag: member="mdtPortManager::~mdtPortManager" ref="adf797f8fd7a3ffdc000890a224e4c1b6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mdtPortManager::~mdtPortManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>
<p>If a port was set, the manager will stop (if running), and port will be closed (if open).</p>
<p>Note that port set by <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> and threads are not deleted. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00040">40</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a1d185e9bb610aee16ccd9499ae7bff0d"></a><!-- doxytag: member="mdtPortManager::abort" ref="a1d185e9bb610aee16ccd9499ae7bff0d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::abort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cancel read and write operations. </p>
<p>Default implementation calls <a class="el" href="classmdt_abstract_port.html#abde440c49b95833f821e1333c40a7398" title="Flush read/write buffers.">mdtAbstractPort::flush()</a>. </p>

<p><p>pvPort-&gt;flushIn(); pvPort-&gt;flushOut(); </p>
</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00361">361</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab62591409d019a4a2576b4310c411b8f"></a><!-- doxytag: member="mdtPortManager::addThread" ref="ab62591409d019a4a2576b4310c411b8f" args="(mdtPortThread *thread)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::addThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_port_thread.html">mdtPortThread</a> *&#160;</td>
          <td class="paramname"><em>thread</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Add a thread and assign it to port. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with setPort before using this method </dd>
<dd>
Manager must no running </dd>
<dd>
thread must be a valid pointer </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00098">98</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad4ff1309b267dfdcfa5a12e4617397f1"></a><!-- doxytag: member="mdtPortManager::clearReadenFrames" ref="ad4ff1309b267dfdcfa5a12e4617397f1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::clearReadenFrames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clear readen frames. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classmdt_port_manager.html#ae5c6475a54ac4921c6df26893f261556" title="Get all readen data.">readenFrames()</a> </dd></dl>

<p><p>pvReadenFramesCopy.clear(); </p>
</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00342">342</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ace8065f1f5083041ee7f65c2892bc77d"></a><!-- doxytag: member="mdtPortManager::closePort" ref="ace8065f1f5083041ee7f65c2892bc77d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::closePort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Close the port. </p>
<p>This stops the threads (if exists) and close the port.</p>
<p>If port was never set (with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> ), this method does nothing. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00213">213</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3daaf801a26008388af390b5917d7a0c"></a><!-- doxytag: member="mdtPortManager::commitFrame" ref="a3daaf801a26008388af390b5917d7a0c" args="(int id, QByteArray data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::commitFrame </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QByteArray&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store frame data in queue and/or emit <a class="el" href="classmdt_port_manager.html#a65d5d2e9edde76796714f737a7eaf204" title="Emitted when new frame was readen.">newReadenFrame()</a> signal. </p>
<p>Dependeing on pvEnqueueReadenFrames and pvNotifyNewReadenFrame, frame will be enqueued and/or the <a class="el" href="classmdt_port_manager.html#a65d5d2e9edde76796714f737a7eaf204" title="Emitted when new frame was readen.">newReadenFrame(int, QByteArray)</a> signal will be emitted.</p>
<p>Subclass notes:<br/>
 The subclass should use this method to handle new incomming frames. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00446">446</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9cf3ea2da38f81682695b37448712ffd"></a><!-- doxytag: member="mdtPortManager::config" ref="a9cf3ea2da38f81682695b37448712ffd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmdt_port_config.html">mdtPortConfig</a> &amp; mdtPortManager::config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the port's config object. </p>
<p>Usefull to alter internal port configuration</p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before use of this method. </dd></dl>

<p>Reimplemented in <a class="el" href="classmdt_serial_port_manager.html#a4b8ab7b9d53966a1887d9ce8557b8416">mdtSerialPortManager</a>.</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00195">195</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a39cb4af4aedc0b6b7c4d4f53002c3fd1"></a><!-- doxytag: member="mdtPortManager::detachPort" ref="a39cb4af4aedc0b6b7c4d4f53002c3fd1" args="(bool deletePort, bool deleteThreads)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::detachPort </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>deletePort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>deleteThreads</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Detach port. </p>
<p>Will detach port from each thread and from port manager. If port was not set, this method does nothing. If manager is running, it will be stopped. If port is open, it will be closed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">deletePort</td><td>If true, the port object that was set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> will be deleted. </td></tr>
    <tr><td class="paramname">deleteThreads</td><td>If true, each thread added with <a class="el" href="classmdt_port_manager.html#ab62591409d019a4a2576b4310c411b8f" title="Add a thread and assign it to port.">addThread()</a> will be deleted. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00077">77</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4fcc8f0699b655156e661bb3de6056cc"></a><!-- doxytag: member="mdtPortManager::fromThreadNewFrameReaden" ref="a4fcc8f0699b655156e661bb3de6056cc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::fromThreadNewFrameReaden </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual, slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Try to. </p>
<p>Called by the read thread whenn a complete frame was readen</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classmdt_port_thread.html">mdtPortThread</a> </dd></dl>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000022">Todo:</a></b></dt><dd>Error on incomplete frame </dd></dl>
<p>pvReadenFrames.insert(pvLastReadenFrameId, data); </p>
</p>

<p>Reimplemented in <a class="el" href="classmdt_modbus_tcp_port_manager.html#ad941ea607f00db54aa6deb2866a539e9">mdtModbusTcpPortManager</a>, and <a class="el" href="classmdt_usbtmc_port_manager.html#aca42b343ae1f6a324e6e45968f03bbea">mdtUsbtmcPortManager</a>.</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00370">370</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af460167e604b8b6e2e933a98b2b6b5a2"></a><!-- doxytag: member="mdtPortManager::isRunning" ref="af460167e604b8b6e2e933a98b2b6b5a2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::isRunning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the running state. </p>
<p>If one of the threads is running, true is returned.</p>
<p>If port was not set, it returns false. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00149">149</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a65d5d2e9edde76796714f737a7eaf204"></a><!-- doxytag: member="mdtPortManager::newReadenFrame" ref="a65d5d2e9edde76796714f737a7eaf204" args="(int id, QByteArray data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::newReadenFrame </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QByteArray&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Emitted when new frame was readen. </p>
<p>The id is the same than returned by <a class="el" href="classmdt_port_manager.html#a8b60d53d6e553f15dedec916f9c1614b" title="Write data by copy.">writeData()</a>.</p>
<p>Emitted only if notifyNewReadenFrame flag is true.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classmdt_port_manager.html#a56bb2f93ee65b4743cb19784224e3489" title="Set the incomming frame notification flag.">setNotifyNewReadenFrame()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a7e45b8e3475e5182ed12218616664d07"></a><!-- doxytag: member="mdtPortManager::onThreadsErrorOccured" ref="a7e45b8e3475e5182ed12218616664d07" args="(int error)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::onThreadsErrorOccured </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Manage errors comming from port threads. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000023">Todo:</a></b></dt><dd>Error handling (in general ...) </dd></dl>

<p><p>if(error == <a class="el" href="classmdt_abstract_port.html#ad4121bb930c95887e77f8bafa065a85ea8b70726d03f75a691ac4ad65722a5f3c">mdtAbstractPort::Disconnected</a>){ qDebug() &lt;&lt; "Disconnected , closing port ..."; <a class="el" href="classmdt_port_manager.html#ace8065f1f5083041ee7f65c2892bc77d" title="Close the port.">closePort()</a>; Try re-open port ok = false; while(!ok){ wait(5000); qDebug() &lt;&lt; "Try to re-open ..."; ok = <a class="el" href="classmdt_port_manager.html#aab594613e8985590c835194efbc27b5e" title="Open the port.">openPort()</a>; maxTry--; if(maxTry &lt;= 0){ qDebug() &lt;&lt; "Re-open failed"; return; } } qDebug() &lt;&lt; "Open OK, starting ..."; if(!start()){ qDebug() &lt;&lt; "start failed :-("; return; } }</p>
<p>if(error == MDT_PORT_IO_ERROR){ qDebug() &lt;&lt; "I/O error !"; <a class="el" href="classmdt_port_manager.html#ace8065f1f5083041ee7f65c2892bc77d" title="Close the port.">closePort()</a>; if(!openPort()){ return; } <a class="el" href="classmdt_port_manager.html#af1fb103ffafc227337a59c7e82f44fbc" title="Start threads.">start()</a>; } if(error == MDT_PORT_QUEUE_EMPTY_ERROR){ qDebug() &lt;&lt; "Queue empty !"; }</p>
</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00397">397</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aab594613e8985590c835194efbc27b5e"></a><!-- doxytag: member="mdtPortManager::openPort" ref="aab594613e8985590c835194efbc27b5e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::openPort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open the port. </p>
<p>Will try to open port defined with <a class="el" href="classmdt_port_manager.html#a2b2ed690cbba9f544c6ac1b46684e59a" title="Set port name.">setPortName()</a>.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True on success, false else. </dd></dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before use of this method. </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000024">Todo:</a></b></dt><dd>Should return <a class="el" href="classmdt_abstract_port.html#ad4121bb930c95887e77f8bafa065a85e" title="Error.">mdtAbstractPort::error_t</a> </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00202">202</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a830ae182d06dd6a52c43a7f45b9240ac"></a><!-- doxytag: member="mdtPortManager::readenFrame" ref="a830ae182d06dd6a52c43a7f45b9240ac" args="(int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QByteArray mdtPortManager::readenFrame </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get data by frame ID. </p>
<p>The frame ID is a protocol specific identification. F.ex. in MODBUS/TCP, the transaction ID is used, or bTag for USBTMC.</p>
<p>If found, the frame is removed from received queue.</p>
<p>If ID was not found, a empty QByteArray is returned. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00316">316</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae5c6475a54ac4921c6df26893f261556"></a><!-- doxytag: member="mdtPortManager::readenFrames" ref="ae5c6475a54ac4921c6df26893f261556" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const QList&lt; QByteArray &gt; mdtPortManager::readenFrames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get all readen data. </p>
<p>Get all currently available data. Once data are readen, don't forget to clear incoming frames list with <a class="el" href="classmdt_port_manager.html#ad4ff1309b267dfdcfa5a12e4617397f1" title="Clear readen frames.">clearReadenFrames()</a>.</p>
<p>To prevent data loss, call <a class="el" href="classmdt_port_manager.html#ad4ff1309b267dfdcfa5a12e4617397f1" title="Clear readen frames.">clearReadenFrames()</a> just after data read. Do not use QApplication::processEvent() before, because this could insert a new frame, wich will be cleared. (see slot <a class="el" href="classmdt_port_manager.html#a4fcc8f0699b655156e661bb3de6056cc" title="Try to.">fromThreadNewFrameReaden()</a> ).</p>
<p>Yout can iterate over returned list, like: </p>
<div class="fragment"><pre class="fragment"> <span class="keywordtype">int</span> i;

 <span class="comment">// Get all frames</span>
 <span class="keywordflow">for</span>(i=0; i&lt;manager.readenFrames().size(); i++){
   qDebug() &lt;&lt; <span class="stringliteral">&quot;Data[&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; manager.readenFrames().at(i);
 }
 <span class="comment">// Clear readen frames</span>
 manager.clearReadenFrames();
</pre></div><p> In this example, no deep copy of frames list should occur.</p>
<p>A other way is to reference returned list to a temporary QList: </p>
<div class="fragment"><pre class="fragment"> QList&lt;QByteArray&gt; list;

 <span class="comment">// Get all frames</span>
 list = manager.readenFrames();
 <span class="keywordflow">for</span>(i=0; i&lt;list.size(); i++){
   qDebug() &lt;&lt; <span class="stringliteral">&quot;Data[&quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;]: &quot;</span> &lt;&lt; list.at(i);
 }
 <span class="comment">// Clear readen frames</span>
 list.clear();
 <span class="comment">// Here, a deep copy occured, we must clear manager&#39;s internal list</span>
 manager.clearReadenFrames();
</pre></div><p>For more details you should read Qt's documentation about implicit-sharing. </p>

<p><p>pvReadenFramesCopy.append(it.value()); pvReadenFrames.remove(it.key());</p>
<p>return pvReadenFramesCopy; </p>
</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00327">327</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab6a2a791de303ff20e6f7f884be681bf"></a><!-- doxytag: member="mdtPortManager::readenFramesQueueSizeChanged" ref="ab6a2a791de303ff20e6f7f884be681bf" args="(int newSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::readenFramesQueueSizeChanged </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newSize</em></td><td>)</td>
          <td><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Emitted when internal queue of readen frames size has changed. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classmdt_port_manager.html#a830ae182d06dd6a52c43a7f45b9240ac" title="Get data by frame ID.">readenFrame()</a> </dd>
<dd>
<a class="el" href="classmdt_port_manager.html#ae5c6475a54ac4921c6df26893f261556" title="Get all readen data.">readenFrames()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aaa0a474183bcae0fff4fb9ef43023c25"></a><!-- doxytag: member="mdtPortManager::removeThreads" ref="aaa0a474183bcae0fff4fb9ef43023c25" args="(bool releaseMemory)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::removeThreads </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>releaseMemory</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Detach threads from port and remove threads. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">releaseMemory</td><td>If true, all threads are deleted </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port manager must not running. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00114">114</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad56afb411ab5468005fca04767557ece"></a><!-- doxytag: member="mdtPortManager::scan" ref="ad56afb411ab5468005fca04767557ece" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QList&lt; <a class="el" href="classmdt_port_info.html">mdtPortInfo</a> * &gt; mdtPortManager::scan </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Scan for available ports. </p>
<p>This method is implemented is port's specific subclass. Default implementation returns a empty list.</p>
<p>Note that returned list must be freed by user after usage. (for.ex. with qDeletAll() and QList::clear() ).</p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Manager must no running </dd></dl>

<p>Reimplemented in <a class="el" href="classmdt_usbtmc_port_manager.html#a992d1227810186d3c7dc166452e2e3b6">mdtUsbtmcPortManager</a>, and <a class="el" href="classmdt_serial_port_manager.html#a791572f869d1d605d0c4658ca4187260">mdtSerialPortManager</a>.</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00062">62</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae48865abce3dc2a3173ae77d7b0c107f"></a><!-- doxytag: member="mdtPortManager::setEnqueueReadenFrames" ref="ae48865abce3dc2a3173ae77d7b0c107f" args="(bool enqueue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::setEnqueueReadenFrames </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enqueue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the enqueue readen frames flag. </p>
<p>If true, all incomming frames will be added in internal queue, and the <a class="el" href="classmdt_port_manager.html#ab6a2a791de303ff20e6f7f884be681bf" title="Emitted when internal queue of readen frames size has changed.">readenFramesQueueSizeChanged()</a> signal will be sent.</p>
<p>By default this flag is false. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00052">52</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a56bb2f93ee65b4743cb19784224e3489"></a><!-- doxytag: member="mdtPortManager::setNotifyNewReadenFrame" ref="a56bb2f93ee65b4743cb19784224e3489" args="(bool notify)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::setNotifyNewReadenFrame </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>notify</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the incomming frame notification flag. </p>
<p>If true, the <a class="el" href="classmdt_port_manager.html#a65d5d2e9edde76796714f737a7eaf204" title="Emitted when new frame was readen.">newReadenFrame(int, QByteArray)</a> signal will be emitted for each incomming frame.</p>
<p>By default this flag is false. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00057">57</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="afcd156b2d0c9d340999935efb6cd8cb6"></a><!-- doxytag: member="mdtPortManager::setPort" ref="afcd156b2d0c9d340999935efb6cd8cb6" args="(mdtAbstractPort *port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::setPort </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_abstract_port.html">mdtAbstractPort</a> *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set port object. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>port must be a valid pointer to the expected class instance (for ex: <a class="el" href="classmdt_serial_port.html">mdtSerialPort</a>). </dd>
<dd>
Manager must no running </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00069">69</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7e2ef93ec2731e66aa2b2d5f7ce9bc1c"></a><!-- doxytag: member="mdtPortManager::setPortInfo" ref="a7e2ef93ec2731e66aa2b2d5f7ce9bc1c" args="(mdtPortInfo info)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::setPortInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmdt_port_info.html">mdtPortInfo</a>&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set port info. </p>
<p>Store given port info, and call <a class="el" href="classmdt_port_manager.html#a2b2ed690cbba9f544c6ac1b46684e59a" title="Set port name.">setPortName()</a> with port info's stored port name (see <a class="el" href="classmdt_port_info.html#ad456aac33dccc9b0583ed8aa4796cdf0" title="Get the port name.">mdtPortInfo::portName()</a> ).</p>
<p>Setting a port info can be usefull if other informations are needed later in application (f.ex. <a class="el" href="classmdt_port_info.html#a38bcac67372782228a91d8e7dbf49211" title="Get the display text.">mdtPortInfo::displayText()</a> ). You can get port informations later with <a class="el" href="classmdt_port_manager.html#a88109b455fc5a5f5adf0636f7450143e" title="Get port info.">portInfo()</a>. </p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00184">184</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2b2ed690cbba9f544c6ac1b46684e59a"></a><!-- doxytag: member="mdtPortManager::setPortName" ref="a2b2ed690cbba9f544c6ac1b46684e59a" args="(const QString &amp;portName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::setPortName </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>portName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set port name. </p>
<p>Set the port name to internally port object. Does nothing else. To open the port, use <a class="el" href="classmdt_port_manager.html#aab594613e8985590c835194efbc27b5e" title="Open the port.">openPort()</a>.</p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set before with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classmdt_abstract_port.html" title="Base class for port I/O.">mdtAbstractPort</a> </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00177">177</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af1fb103ffafc227337a59c7e82f44fbc"></a><!-- doxytag: member="mdtPortManager::start" ref="af1fb103ffafc227337a59c7e82f44fbc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start threads. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before use of this method. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00134">134</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aacbf87cc3d9c37c87e21696f8a6514bd"></a><!-- doxytag: member="mdtPortManager::stop" ref="aacbf87cc3d9c37c87e21696f8a6514bd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stop threads. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before use of this method. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00166">166</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="acc5c63ad33fdd3cc153fc23e00c6e69c"></a><!-- doxytag: member="mdtPortManager::wait" ref="acc5c63ad33fdd3cc153fc23e00c6e69c" args="(int msecs, int granularity=50)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mdtPortManager::wait </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msecs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>granularity</em> = <code>50</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait some time without break the GUI's event loop. </p>
<p>This is a helper method that provide a blocking wait. Internally, a couple of sleep and event processing is done, avoiding freesing the GUI.</p>
<p>This wait method is not precise.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msecs</td><td>Time to wait [ms] </td></tr>
    <tr><td class="paramname">granularity</td><td>Sleep time between each call of event processing [ms]<br/>
 A little value needs more CPU and big value can freese the GUI. Should be between 50 and 100, and must be &gt; 0. Note that msecs must be a multiple of granularity. </td></tr>
  </table>
  </dd>
</dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>granularity must be &gt; 0. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00348">348</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1db6b8da9ff16221c917a1a75366e5c0"></a><!-- doxytag: member="mdtPortManager::waitOnFrame" ref="a1db6b8da9ff16221c917a1a75366e5c0" args="(int id, int timeout=500)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QByteArray mdtPortManager::waitOnFrame </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>500</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait on readen frame with defined ID. </p>
<p>Will return when frame with given ID was read or after timeout.</p>
<p>Internally, a couple of sleep and process event are called, so Qt's event loop will not be broken.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Frame ID. Depending on protocol, this can be a transaction ID or what else. </td></tr>
    <tr><td class="paramname">timeout</td><td>Maximum wait time [ms]. Must be a multiple of 50 [ms] </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Frame's data on success or empty QByteArray on timeout </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00290">290</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae1cc1010067bcbf104fb3d1b19f2fa48"></a><!-- doxytag: member="mdtPortManager::waitOnWriteReady" ref="ae1cc1010067bcbf104fb3d1b19f2fa48" args="(int timeout, int granularity=50)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::waitOnWriteReady </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>granularity</em> = <code>50</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait until data can be written. </p>
<p>Wait until a frame is available in write frames pool. The wait will not breack Qt's event loop, so this method can be called from GUI Thread. (See <a class="el" href="classmdt_port_manager.html#acc5c63ad33fdd3cc153fc23e00c6e69c" title="Wait some time without break the GUI&#39;s event loop.">wait()</a> for details).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>Timeout [ms] </td></tr>
    <tr><td class="paramname">granularity</td><td>Sleep time between each call of event processing [ms]<br/>
 A little value needs more CPU and big value can freese the GUI. Should be between 50 and 100, and must be &gt; 0. Note that timeout must be a multiple of granularity. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if a frame is available before timeout, false else. </dd></dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Granularity must be &gt; 0. </dd>
<dd>
Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before calling this method. </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00224">224</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a44ca338c8c56893612301e09d2ee6e88"></a><!-- doxytag: member="mdtPortManager::waitReadenFrame" ref="a44ca338c8c56893612301e09d2ee6e88" args="(int timeout=500)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mdtPortManager::waitReadenFrame </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>500</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wait until a complete frame is available. </p>
<p>This method will return when a complete frame was readen. This is usefull for query/answer protocols.</p>
<p>Internally, a couple of sleep and process event are called, so Qt's event loop will not be broken.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>Maximum wait time [ms]. Must be a multiple of 50 [ms] </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if Ok, false on timeout </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classmdt_port_manager.html#a65d5d2e9edde76796714f737a7eaf204" title="Emitted when new frame was readen.">newReadenFrame()</a> </dd></dl>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00274">274</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8b60d53d6e553f15dedec916f9c1614b"></a><!-- doxytag: member="mdtPortManager::writeData" ref="a8b60d53d6e553f15dedec916f9c1614b" args="(QByteArray data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mdtPortManager::writeData </td>
          <td>(</td>
          <td class="paramtype">QByteArray&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write data by copy. </p>
<p>Data will be passed to the mdtPort's write queue by copy. This method returns immediatly after enqueue, and don't wait until data was written.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Data to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success or value &lt; 0 on error. In this implementation, the only possible error is <a class="el" href="classmdt_abstract_port.html#ad4121bb930c95887e77f8bafa065a85ea0ad63405c52aec71c554990aaaa98b79">mdtAbstractPort::WriteQueueEmpty</a> . Some subclass can return a frame ID on success, or a other error. See subclass documentation for details. </dd></dl>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>Port must be set with <a class="el" href="classmdt_port_manager.html#afcd156b2d0c9d340999935efb6cd8cb6" title="Set port object.">setPort()</a> before use of this method.</dd></dl>
<p>Subclass notes:<br/>
 This method can be reimplemented in subclass if needed. Typically usefull if some encoding is needed before the frame is submitted to port. A frame must be taken from port's write frames pool with <a class="el" href="classmdt_abstract_port.html#abf093b67fddebffa4f3c52277b9a8cf7" title="Get the write frames Queue pool.">mdtAbstractPort::writeFramesPool()</a> dequeue() method (see Qt's QQueue documentation for more details on dequeue() ), then added to port's write queue with <a class="el" href="classmdt_abstract_port.html#a9a69eb2fc07d551ab37c011487fa319d" title="Add a frame to write.">mdtAbstractPort::addFrameToWrite()</a> . If protocol supports frame identification (like MODBUS's transaction ID or USBTMC's bTag), it should be returned here and incremented. </p>

<p>Reimplemented in <a class="el" href="classmdt_modbus_tcp_port_manager.html#a0c56b7d38cfb52d95e81de4ca6ac414f">mdtModbusTcpPortManager</a>, and <a class="el" href="classmdt_usbtmc_port_manager.html#ab7229e9d519e80a6509bec90dc9239b3">mdtUsbtmcPortManager</a>.</p>

<p>Definition at line <a class="el" href="mdt_port_manager_8cpp_source.html#l00247">247</a> of file <a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/mdtport/<a class="el" href="mdt_port_manager_8h_source.html">mdtPortManager.h</a></li>
<li>src/mdtport/<a class="el" href="mdt_port_manager_8cpp_source.html">mdtPortManager.cpp</a></li>
</ul>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Mon Dec 3 2012 19:30:15 for Multi diag tools by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
