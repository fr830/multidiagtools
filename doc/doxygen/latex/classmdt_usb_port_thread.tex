\hypertarget{classmdt_usb_port_thread}{\section{mdt\-Usb\-Port\-Thread Class Reference}
\label{classmdt_usb_port_thread}\index{mdt\-Usb\-Port\-Thread@{mdt\-Usb\-Port\-Thread}}
}


{\ttfamily \#include $<$mdt\-Usb\-Port\-Thread.\-h$>$}



Inheritance diagram for mdt\-Usb\-Port\-Thread\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=178pt]{classmdt_usb_port_thread__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for mdt\-Usb\-Port\-Thread\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmdt_usb_port_thread__coll__graph}
\end{center}
\end{figure}
\subsection*{Signals}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classmdt_usb_port_thread_ab8ac3a6e1b571215be86f9dfd8c48b2b}{control\-Response\-Readen} ()
\begin{DoxyCompactList}\small\item\em Emited when a new control response was readen. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_usb_port_thread_a850204a909f0bbe41c5e995ebe3670d8}{message\-In\-Readen} ()
\begin{DoxyCompactList}\small\item\em Emited when a message I\-N was readen (from additionnal interrupt I\-N endpoint) \end{DoxyCompactList}\item 
void \hyperlink{classmdt_usb_port_thread_a54e65bed60200cd2150b5a7b063c723e}{read\-Until\-Short\-Packet\-Received\-Finished} ()
\begin{DoxyCompactList}\small\item\em Emitted when the read until a short packet process is finished. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classmdt_usb_port_thread_aaf4e5883224f05d80132b31a921ac899}{mdt\-Usb\-Port\-Thread} (\hyperlink{class_q_object}{Q\-Object} $\ast$parent=0)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_usb_port_thread_a1661f362e2d772c1524f09daa6da3f15}{set\-Port} (mdt\-Usb\-Port $\ast$\hyperlink{classmdt_port_thread_a97bff8cf6aca37d8858cc4e5c9294cae}{port})
\begin{DoxyCompactList}\small\item\em Set the port instance. \end{DoxyCompactList}\item 
mdt\-Usb\-Port $\ast$ \hyperlink{classmdt_usb_port_thread_aaa8e1ce181489dbae57c81b42dc6ad62}{usb\-Port} ()
\begin{DoxyCompactList}\small\item\em Get U\-S\-B port instance. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_usb_port_thread_a99070e7dba4bd7939b054cddbd66979f}{detach\-Port} (bool release\-Memory)
\begin{DoxyCompactList}\small\item\em Detach the port from thread. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_usb_port_thread_aed82b57c84745f1e2391750697db1022}{is\-Reader} () const 
\begin{DoxyCompactList}\small\item\em Returns true. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_usb_port_thread_a74258f300967b5dea1fbfa9a0ccab38a}{is\-Writer} () const 
\begin{DoxyCompactList}\small\item\em Returns true. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_usb_port_thread_aeaa2dabc53e57f6b7cf7077d113c7f40}{handles\-Timeout} () const 
\begin{DoxyCompactList}\small\item\em Retunrs true. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}{mdt\-Abstract\-Port\-::error\-\_\-t} \hyperlink{classmdt_usb_port_thread_a2d234f3900b502ecced6897facdcf029}{wait\-On\-Control\-Transfer\-Possible} (bool notify\-On\-Control\-Transfer\-Complete)
\begin{DoxyCompactList}\small\item\em Wait until a new control transfer is possible (i.\-e. when control frames pool is not empty) \end{DoxyCompactList}\item 
\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}{mdt\-Abstract\-Port\-::error\-\_\-t} \hyperlink{classmdt_usb_port_thread_ae154415b3f311b02934405cd58eb9aa5}{send\-Control\-Query} (mdt\-Frame\-Usb\-Control $\ast$ctl\-Frame)
\begin{DoxyCompactList}\small\item\em Send a control query and wait until response is available. \end{DoxyCompactList}\item 
\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}{mdt\-Abstract\-Port\-::error\-\_\-t} \hyperlink{classmdt_usb_port_thread_acca2af9704cc6894ec5b2058ca102af1}{read\-Until\-Short\-Packet\-Received} (int max\-Read\-Transfers)
\begin{DoxyCompactList}\small\item\em Read until a short frame is received. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}


Definition at line 35 of file mdt\-Usb\-Port\-Thread.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classmdt_usb_port_thread_aaf4e5883224f05d80132b31a921ac899}{\index{mdt\-Usb\-Port\-Thread@{mdt\-Usb\-Port\-Thread}!mdt\-Usb\-Port\-Thread@{mdt\-Usb\-Port\-Thread}}
\index{mdt\-Usb\-Port\-Thread@{mdt\-Usb\-Port\-Thread}!mdtUsbPortThread@{mdt\-Usb\-Port\-Thread}}
\subsubsection[{mdt\-Usb\-Port\-Thread}]{\setlength{\rightskip}{0pt plus 5cm}mdt\-Usb\-Port\-Thread\-::mdt\-Usb\-Port\-Thread (
\begin{DoxyParamCaption}
\item[{{\bf Q\-Object} $\ast$}]{parent = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}\label{classmdt_usb_port_thread_aaf4e5883224f05d80132b31a921ac899}


Constructor. 



Definition at line 30 of file mdt\-Usb\-Port\-Thread.\-cpp.



\subsection{Member Function Documentation}
\hypertarget{classmdt_usb_port_thread_ab8ac3a6e1b571215be86f9dfd8c48b2b}{\index{mdt\-Usb\-Port\-Thread@{mdt\-Usb\-Port\-Thread}!control\-Response\-Readen@{control\-Response\-Readen}}
\index{control\-Response\-Readen@{control\-Response\-Readen}!mdtUsbPortThread@{mdt\-Usb\-Port\-Thread}}
\subsubsection[{control\-Response\-Readen}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Usb\-Port\-Thread\-::control\-Response\-Readen (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classmdt_usb_port_thread_ab8ac3a6e1b571215be86f9dfd8c48b2b}


Emited when a new control response was readen. 



Referenced by wait\-On\-Control\-Transfer\-Possible().

\hypertarget{classmdt_usb_port_thread_a99070e7dba4bd7939b054cddbd66979f}{\index{mdt\-Usb\-Port\-Thread@{mdt\-Usb\-Port\-Thread}!detach\-Port@{detach\-Port}}
\index{detach\-Port@{detach\-Port}!mdtUsbPortThread@{mdt\-Usb\-Port\-Thread}}
\subsubsection[{detach\-Port}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Usb\-Port\-Thread\-::detach\-Port (
\begin{DoxyParamCaption}
\item[{bool}]{release\-Memory}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classmdt_usb_port_thread_a99070e7dba4bd7939b054cddbd66979f}


Detach the port from thread. 


\begin{DoxyParams}{Parameters}
{\em release\-Memory} & If true, the port object that was set with \hyperlink{classmdt_usb_port_thread_a1661f362e2d772c1524f09daa6da3f15}{set\-Port()} will be deleted. \\
\hline
\end{DoxyParams}
\begin{DoxyPrecond}{Precondition}
The thread must not running 
\end{DoxyPrecond}


Reimplemented from \hyperlink{classmdt_port_thread_a29b434534a5564efbd9dfe570a61b143}{mdt\-Port\-Thread}.



Definition at line 49 of file mdt\-Usb\-Port\-Thread.\-cpp.



References mdt\-Port\-Thread\-::detach\-Port().

\hypertarget{classmdt_usb_port_thread_aeaa2dabc53e57f6b7cf7077d113c7f40}{\index{mdt\-Usb\-Port\-Thread@{mdt\-Usb\-Port\-Thread}!handles\-Timeout@{handles\-Timeout}}
\index{handles\-Timeout@{handles\-Timeout}!mdtUsbPortThread@{mdt\-Usb\-Port\-Thread}}
\subsubsection[{handles\-Timeout}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Usb\-Port\-Thread\-::handles\-Timeout (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classmdt_usb_port_thread_aeaa2dabc53e57f6b7cf7077d113c7f40}


Retunrs true. 



Reimplemented from \hyperlink{classmdt_port_thread_aaf671b84f7c1fb508ff9221dccee4c15}{mdt\-Port\-Thread}.



Definition at line 65 of file mdt\-Usb\-Port\-Thread.\-cpp.

\hypertarget{classmdt_usb_port_thread_aed82b57c84745f1e2391750697db1022}{\index{mdt\-Usb\-Port\-Thread@{mdt\-Usb\-Port\-Thread}!is\-Reader@{is\-Reader}}
\index{is\-Reader@{is\-Reader}!mdtUsbPortThread@{mdt\-Usb\-Port\-Thread}}
\subsubsection[{is\-Reader}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Usb\-Port\-Thread\-::is\-Reader (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classmdt_usb_port_thread_aed82b57c84745f1e2391750697db1022}


Returns true. 



Reimplemented from \hyperlink{classmdt_port_thread_acdb3d96287c571cc08ef39860dc324b1}{mdt\-Port\-Thread}.



Definition at line 55 of file mdt\-Usb\-Port\-Thread.\-cpp.

\hypertarget{classmdt_usb_port_thread_a74258f300967b5dea1fbfa9a0ccab38a}{\index{mdt\-Usb\-Port\-Thread@{mdt\-Usb\-Port\-Thread}!is\-Writer@{is\-Writer}}
\index{is\-Writer@{is\-Writer}!mdtUsbPortThread@{mdt\-Usb\-Port\-Thread}}
\subsubsection[{is\-Writer}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Usb\-Port\-Thread\-::is\-Writer (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classmdt_usb_port_thread_a74258f300967b5dea1fbfa9a0ccab38a}


Returns true. 



Reimplemented from \hyperlink{classmdt_port_thread_a0122a12262052cf3643241a3eaa31c58}{mdt\-Port\-Thread}.



Definition at line 60 of file mdt\-Usb\-Port\-Thread.\-cpp.

\hypertarget{classmdt_usb_port_thread_a850204a909f0bbe41c5e995ebe3670d8}{\index{mdt\-Usb\-Port\-Thread@{mdt\-Usb\-Port\-Thread}!message\-In\-Readen@{message\-In\-Readen}}
\index{message\-In\-Readen@{message\-In\-Readen}!mdtUsbPortThread@{mdt\-Usb\-Port\-Thread}}
\subsubsection[{message\-In\-Readen}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Usb\-Port\-Thread\-::message\-In\-Readen (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classmdt_usb_port_thread_a850204a909f0bbe41c5e995ebe3670d8}


Emited when a message I\-N was readen (from additionnal interrupt I\-N endpoint) 

\hypertarget{classmdt_usb_port_thread_acca2af9704cc6894ec5b2058ca102af1}{\index{mdt\-Usb\-Port\-Thread@{mdt\-Usb\-Port\-Thread}!read\-Until\-Short\-Packet\-Received@{read\-Until\-Short\-Packet\-Received}}
\index{read\-Until\-Short\-Packet\-Received@{read\-Until\-Short\-Packet\-Received}!mdtUsbPortThread@{mdt\-Usb\-Port\-Thread}}
\subsubsection[{read\-Until\-Short\-Packet\-Received}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdt\-Abstract\-Port\-::error\-\_\-t} mdt\-Usb\-Port\-Thread\-::read\-Until\-Short\-Packet\-Received (
\begin{DoxyParamCaption}
\item[{int}]{max\-Read\-Transfers}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classmdt_usb_port_thread_acca2af9704cc6894ec5b2058ca102af1}


Read until a short frame is received. 


\begin{DoxyParams}{Parameters}
{\em max\-Read\-Transfers} & Maximum of read transfers before return (If device returns never a short frame, this method will return after max\-Read\-Transfers). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
No\-Error or a error of type \hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}{mdt\-Abstract\-Port\-::error\-\_\-t}. If max\-Read\-Transfers is reached, Read\-Timeout is returned. 
\end{DoxyReturn}
\begin{DoxyPrecond}{Precondition}
Port must be set with \hyperlink{classmdt_usb_port_thread_a1661f362e2d772c1524f09daa6da3f15}{set\-Port()} before using this method. 
\end{DoxyPrecond}


Definition at line 154 of file mdt\-Usb\-Port\-Thread.\-cpp.



References mdt\-Error\-::commit(), mdt\-Error\-::\-Error, M\-D\-T\-\_\-\-E\-R\-R\-O\-R\-\_\-\-S\-E\-T\-\_\-\-S\-R\-C, M\-D\-T\-\_\-\-U\-S\-B\-\_\-\-I\-O\-\_\-\-E\-R\-R\-O\-R, mdt\-Abstract\-Port\-::\-No\-Error, mdt\-Abstract\-Port\-::\-Read\-Timeout, and usb\-Port().

\hypertarget{classmdt_usb_port_thread_a54e65bed60200cd2150b5a7b063c723e}{\index{mdt\-Usb\-Port\-Thread@{mdt\-Usb\-Port\-Thread}!read\-Until\-Short\-Packet\-Received\-Finished@{read\-Until\-Short\-Packet\-Received\-Finished}}
\index{read\-Until\-Short\-Packet\-Received\-Finished@{read\-Until\-Short\-Packet\-Received\-Finished}!mdtUsbPortThread@{mdt\-Usb\-Port\-Thread}}
\subsubsection[{read\-Until\-Short\-Packet\-Received\-Finished}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Usb\-Port\-Thread\-::read\-Until\-Short\-Packet\-Received\-Finished (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}}\label{classmdt_usb_port_thread_a54e65bed60200cd2150b5a7b063c723e}


Emitted when the read until a short packet process is finished. 

\hypertarget{classmdt_usb_port_thread_ae154415b3f311b02934405cd58eb9aa5}{\index{mdt\-Usb\-Port\-Thread@{mdt\-Usb\-Port\-Thread}!send\-Control\-Query@{send\-Control\-Query}}
\index{send\-Control\-Query@{send\-Control\-Query}!mdtUsbPortThread@{mdt\-Usb\-Port\-Thread}}
\subsubsection[{send\-Control\-Query}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdt\-Abstract\-Port\-::error\-\_\-t} mdt\-Usb\-Port\-Thread\-::send\-Control\-Query (
\begin{DoxyParamCaption}
\item[{mdt\-Frame\-Usb\-Control $\ast$}]{ctl\-Frame}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classmdt_usb_port_thread_ae154415b3f311b02934405cd58eb9aa5}


Send a control query and wait until response is available. 



Definition at line 119 of file mdt\-Usb\-Port\-Thread.\-cpp.



References mdt\-Abstract\-Port\-::\-No\-Error, mdt\-Port\-Thread\-::pv\-Running, and usb\-Port().

\hypertarget{classmdt_usb_port_thread_a1661f362e2d772c1524f09daa6da3f15}{\index{mdt\-Usb\-Port\-Thread@{mdt\-Usb\-Port\-Thread}!set\-Port@{set\-Port}}
\index{set\-Port@{set\-Port}!mdtUsbPortThread@{mdt\-Usb\-Port\-Thread}}
\subsubsection[{set\-Port}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Usb\-Port\-Thread\-::set\-Port (
\begin{DoxyParamCaption}
\item[{mdt\-Usb\-Port $\ast$}]{port}
\end{DoxyParamCaption}
)}}\label{classmdt_usb_port_thread_a1661f362e2d772c1524f09daa6da3f15}


Set the port instance. 

\begin{DoxyPrecond}{Precondition}
port must be a valid pointer 

The thread must not running 
\end{DoxyPrecond}


Definition at line 36 of file mdt\-Usb\-Port\-Thread.\-cpp.



References mdt\-Port\-Thread\-::port(), and mdt\-Port\-Thread\-::set\-Port().

\hypertarget{classmdt_usb_port_thread_aaa8e1ce181489dbae57c81b42dc6ad62}{\index{mdt\-Usb\-Port\-Thread@{mdt\-Usb\-Port\-Thread}!usb\-Port@{usb\-Port}}
\index{usb\-Port@{usb\-Port}!mdtUsbPortThread@{mdt\-Usb\-Port\-Thread}}
\subsubsection[{usb\-Port}]{\setlength{\rightskip}{0pt plus 5cm}mdt\-Usb\-Port $\ast$ mdt\-Usb\-Port\-Thread\-::usb\-Port (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classmdt_usb_port_thread_aaa8e1ce181489dbae57c81b42dc6ad62}


Get U\-S\-B port instance. 

\begin{DoxyReturn}{Returns}
Port instance, or a null pointer if it was not set 
\end{DoxyReturn}


Definition at line 44 of file mdt\-Usb\-Port\-Thread.\-cpp.



Referenced by read\-Until\-Short\-Packet\-Received(), send\-Control\-Query(), and wait\-On\-Control\-Transfer\-Possible().

\hypertarget{classmdt_usb_port_thread_a2d234f3900b502ecced6897facdcf029}{\index{mdt\-Usb\-Port\-Thread@{mdt\-Usb\-Port\-Thread}!wait\-On\-Control\-Transfer\-Possible@{wait\-On\-Control\-Transfer\-Possible}}
\index{wait\-On\-Control\-Transfer\-Possible@{wait\-On\-Control\-Transfer\-Possible}!mdtUsbPortThread@{mdt\-Usb\-Port\-Thread}}
\subsubsection[{wait\-On\-Control\-Transfer\-Possible}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdt\-Abstract\-Port\-::error\-\_\-t} mdt\-Usb\-Port\-Thread\-::wait\-On\-Control\-Transfer\-Possible (
\begin{DoxyParamCaption}
\item[{bool}]{notify\-On\-Control\-Transfer\-Complete}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classmdt_usb_port_thread_a2d234f3900b502ecced6897facdcf029}


Wait until a new control transfer is possible (i.\-e. when control frames pool is not empty) 



Definition at line 70 of file mdt\-Usb\-Port\-Thread.\-cpp.



References mdt\-Error\-::commit(), control\-Response\-Readen(), M\-D\-T\-\_\-\-E\-R\-R\-O\-R\-\_\-\-S\-E\-T\-\_\-\-S\-R\-C, M\-D\-T\-\_\-\-U\-S\-B\-\_\-\-I\-O\-\_\-\-E\-R\-R\-O\-R, msleep, mdt\-Abstract\-Port\-::\-No\-Error, mdt\-Port\-Thread\-::pv\-Running, usb\-Port(), and mdt\-Error\-::\-Warning.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
src/mdtport/\hyperlink{mdt_usb_port_thread_8h}{mdt\-Usb\-Port\-Thread.\-h}\item 
src/mdtport/\hyperlink{mdt_usb_port_thread_8cpp}{mdt\-Usb\-Port\-Thread.\-cpp}\end{DoxyCompactItemize}
