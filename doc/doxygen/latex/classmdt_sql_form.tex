\hypertarget{classmdt_sql_form}{\section{mdt\-Sql\-Form Class Reference}
\label{classmdt_sql_form}\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}}
}


Base class for high level S\-Q\-L widgets A\-P\-I.  




{\ttfamily \#include $<$mdt\-Sql\-Form.\-h$>$}



Inheritance diagram for mdt\-Sql\-Form\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classmdt_sql_form__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for mdt\-Sql\-Form\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=218pt]{classmdt_sql_form__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classmdt_sql_form_a607993f0d35207668c0f220d77bd9298}{mdt\-Sql\-Form} (\hyperlink{class_q_widget}{Q\-Widget} $\ast$parent, Q\-Sql\-Database db)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
virtual \hyperlink{classmdt_sql_form_ab4538979323566433a20bb71118525a5}{$\sim$mdt\-Sql\-Form} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_sql_form_ab1fee5cecde1e2faf4b4c1bf1ee672b1}{set\-Main\-Table\-Widget} (\hyperlink{class_q_widget}{Q\-Widget} $\ast$widget)
\begin{DoxyCompactList}\small\item\em Set main table widget. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classmdt_sql_form_ae3651d94b995dc84665f934ba9c7458f}{set\-Main\-Table\-Ui} ()
\begin{DoxyCompactList}\small\item\em Set main table U\-I. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{classmdt_sql_form_ab4e3d6512a68eba681be79d1602b6d44}{set\-Main\-Table\-Ui} (T \&ui)
\begin{DoxyCompactList}\small\item\em Set main table U\-I. \end{DoxyCompactList}\item 
virtual void \hyperlink{classmdt_sql_form_a696cdbda10abab368ca9cbf1bbdd1bf1}{add\-Menus} (Q\-Menu\-Bar $\ast$menu\-Bar)
\begin{DoxyCompactList}\small\item\em Add menus to menu bar. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_sql_form_abe4cc1a317d8e76aed7b408184c8712e}{set\-Main\-Table} (const Q\-String \&table\-Name, const Q\-String \&user\-Friendly\-Table\-Name, const Q\-String \&first\-Widget\-In\-Tab\-Order=Q\-String())
\begin{DoxyCompactList}\small\item\em Set the main (or parent) table of the form. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_sql_form_aee00ca6122b6a18a72b861e691fd035a}{set\-Main\-Table} (const Q\-String \&table\-Name, const Q\-String \&user\-Friendly\-Table\-Name, Q\-Sql\-Database db, const Q\-String \&first\-Widget\-In\-Tab\-Order=Q\-String())
\begin{DoxyCompactList}\small\item\em Set the main (or parent) table of the form. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_sql_form_a9c48a7af83effbc50e9171a8d7ff3889}{add\-Child\-Table} (const \hyperlink{classmdt_sql_relation_info}{mdt\-Sql\-Relation\-Info} \&relation\-Info, const Q\-String \&user\-Friendly\-Table\-Name)
\begin{DoxyCompactList}\small\item\em Add a child table to the form. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_sql_form_a0ffbb237eef4cb3b4e9b458860ef411d}{add\-Child\-Table} (const \hyperlink{classmdt_sql_relation_info}{mdt\-Sql\-Relation\-Info} \&relation\-Info, const Q\-String \&user\-Friendly\-Table\-Name, Q\-Sql\-Database db)
\begin{DoxyCompactList}\small\item\em Add a child table to the form. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_sql_form_a86174e002c2dd5496ab74a7eb67c614c}{add\-Child\-Widget} (\hyperlink{class_q_widget}{Q\-Widget} $\ast$widget, const Q\-String \&label, const Q\-Icon \&icon=Q\-Icon())
\begin{DoxyCompactList}\small\item\em Add a widget to the internal Q\-Tab\-Widget. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_sql_form_a101b73d24864dd208968ca6dfe5f8cd8}{start} ()
\begin{DoxyCompactList}\small\item\em Start internal state machines. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\std\-::shared\-\_\-ptr$<$ T $>$ \hyperlink{classmdt_sql_form_ac32b24ebb2d203cbefb6c7bdb8d9867b}{main\-Table\-Controller} ()
\begin{DoxyCompactList}\small\item\em Get main table controller. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename T $>$ }\\std\-::shared\-\_\-ptr$<$ T $>$ \hyperlink{classmdt_sql_form_ae812518bc0c786b918dbc63bc8a69741}{table\-Controller} (const Q\-String \&table\-Name)
\begin{DoxyCompactList}\small\item\em Get a table controller. \end{DoxyCompactList}\item 
\hyperlink{classmdt_sql_table_widget}{mdt\-Sql\-Table\-Widget} $\ast$ \hyperlink{classmdt_sql_form_a6a17f32077fb7cc33139c3dc26a8d011}{sql\-Table\-Widget} (const Q\-String \&table\-Name)
\item 
Q\-Sql\-Database \hyperlink{classmdt_sql_form_ac8423f91a1f8a6fa7408cd61be86a89c}{database} ()
\begin{DoxyCompactList}\small\item\em Get database that was given by constructor. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_sql_form_a2a2f564fe934cc8997b07f90abb771e1}{select} ()
\begin{DoxyCompactList}\small\item\em Call select on model that acts on main table name. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_sql_form_ae9a1f8c03e5ac8ccd01fa804356abd01}{select} (const Q\-String \&table\-Name)
\begin{DoxyCompactList}\small\item\em Call select on model that acts on given table name. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_sql_form_a86c870d9875efbd83262f5dd28df5177}{set\-Main\-Table\-Filter} (const Q\-String \&filter)
\begin{DoxyCompactList}\small\item\em Set a filter on main table. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_sql_form_abfc6d7f49debf02f5016923cbd422f2f}{set\-Main\-Table\-Filter} (const Q\-String \&field\-Name, const Q\-Variant \&match\-Data)
\begin{DoxyCompactList}\small\item\em Set a filter on main table. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_sql_form_a61c0a1a4a2c53ca5571168e9761adff8}{set\-Main\-Table\-Filter} (const Q\-String \&field\-Name, const Q\-List$<$ Q\-Variant $>$ \&match\-Data\-List)
\begin{DoxyCompactList}\small\item\em Set a filter on main table. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_sql_form_a37cd63844276e50bda58fe8edafc704e}{clear\-Main\-Table\-Filter} ()
\begin{DoxyCompactList}\small\item\em Clear filter of main table. \end{DoxyCompactList}\item 
\hyperlink{classmdt_error}{mdt\-Error} \hyperlink{classmdt_sql_form_a04724293298421c404e93c58015cda5e}{last\-Error} () const 
\begin{DoxyCompactList}\small\item\em Get last error. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_sql_form_a7521d231f24663ee1d2acb904387353b}{display\-Last\-Error} ()
\begin{DoxyCompactList}\small\item\em Display last error in a message box. \end{DoxyCompactList}\item 
int \hyperlink{classmdt_sql_form_a533d58efc54f9ecc180467cd13b8e511}{row\-Count} (const Q\-String \&table\-Name, bool fetch\-All=false)
\begin{DoxyCompactList}\small\item\em Get row count for given table\-Name. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_sql_form_a268cedc485a92877a551cee34cf0eecc}{set\-Current\-Row} (const Q\-String \&field\-Name, const Q\-Variant \&match\-Data)
\begin{DoxyCompactList}\small\item\em Set the first row that matches given criteria as current row. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_sql_form_abd4c01483812a53edc4be116a7dd2612}{set\-Current\-Row} (const Q\-String \&table\-Name, const Q\-String \&field\-Name, const Q\-Variant \&match\-Data)
\begin{DoxyCompactList}\small\item\em Set the first row that matches given criteria as current row. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_sql_form_aa377e70f4a2e865b0b696957c0fca766}{set\-Current\-Data} (const Q\-String \&table\-Name, const Q\-String \&field\-Name, const Q\-Variant \&\hyperlink{classmdt_sql_form_a0c27d6a9ecbf0589f313c7193c632a62}{data}, bool submit=true)
\begin{DoxyCompactList}\small\item\em Set (update) data of current row (record) for given table and field name. \end{DoxyCompactList}\item 
Q\-Variant \hyperlink{classmdt_sql_form_aca283557b7e2586779cb5c498d388f14}{current\-Data} (const Q\-String \&table\-Name, const Q\-String \&field\-Name)
\begin{DoxyCompactList}\small\item\em Get current data for given table and field name. \end{DoxyCompactList}\item 
Q\-Variant \hyperlink{classmdt_sql_form_af24711f9c18a1009352b62d47b9758d7}{current\-Data} (const Q\-String \&table\-Name, const Q\-String \&field\-Name, bool \&ok)
\begin{DoxyCompactList}\small\item\em Get current data for given table and field name. \end{DoxyCompactList}\item 
Q\-Variant \hyperlink{classmdt_sql_form_a0c27d6a9ecbf0589f313c7193c632a62}{data} (const Q\-String \&table\-Name, int row, const Q\-String \&field\-Name)
\begin{DoxyCompactList}\small\item\em Get data for given table , row and field name. \end{DoxyCompactList}\item 
Q\-Variant \hyperlink{classmdt_sql_form_ab0c251a35567dd34f244fea715a7a3d4}{data} (const Q\-String \&table\-Name, int row, const Q\-String \&field\-Name, bool \&ok)
\begin{DoxyCompactList}\small\item\em Get data for given table , row and field name. \end{DoxyCompactList}\item 
Q\-List$<$ Q\-Variant $>$ \hyperlink{classmdt_sql_form_a15a92b2116f2fd3a37344afb66b77a3d}{data\-List} (const Q\-String \&table\-Name, const Q\-String \&field\-Name, bool fetch\-All=true)
\begin{DoxyCompactList}\small\item\em Get a list of data for given table and field name. \end{DoxyCompactList}\item 
Q\-List$<$ Q\-Variant $>$ \hyperlink{classmdt_sql_form_a271b8bc1adac05a36d2db24d0b9cdaff}{data\-List} (const Q\-String \&table\-Name, const Q\-String \&field\-Name, bool \&ok, bool fetch\-All=true)
\begin{DoxyCompactList}\small\item\em Get a list of data for given table and field name. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_sql_form_a2138e4e1236a9b1c002825ddd9e59298}{insert} ()
\begin{DoxyCompactList}\small\item\em Call insert method on main table controller. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classmdt_sql_form_a27fe6e45aa5d4d7782aad9833e6de20b}{setup\-Tables} ()
\begin{DoxyCompactList}\small\item\em Setup tables. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_sql_form_a1e14cbb5bf04d2eb1c703862a6084031}{all\-Data\-Are\-Saved} ()
\begin{DoxyCompactList}\small\item\em Check if all data are saved. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classmdt_error}{mdt\-Error} \hyperlink{classmdt_sql_form_afc24e8dedd1249a29708347fdff560fd}{pv\-Last\-Error}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Base class for high level S\-Q\-L widgets A\-P\-I. 

To create S\-Q\-L G\-U\-I's, some clases are available\-:
\begin{DoxyItemize}
\item \hyperlink{classmdt_abstract_sql_table_controller}{mdt\-Abstract\-Sql\-Table\-Controller}
\item \hyperlink{classmdt_sql_data_widget_controller}{mdt\-Sql\-Data\-Widget\-Controller}
\item \hyperlink{classmdt_sql_table_view_controller}{mdt\-Sql\-Table\-View\-Controller}
\item \hyperlink{classmdt_sql_table_widget}{mdt\-Sql\-Table\-Widget}
\end{DoxyItemize}

They help to deal with several common problems, but they need several code (creating objects, configure them, handle memory, ...).

This class was made to have less code for common database G\-U\-I .

When adding child table with \hyperlink{classmdt_sql_form_a9c48a7af83effbc50e9171a8d7ff3889}{add\-Child\-Table()} , a instance of \hyperlink{classmdt_sql_table_widget}{mdt\-Sql\-Table\-Widget} is created, and placed to a Q\-Tab\-Widget . It is also possible to add a non database related widget, using \hyperlink{classmdt_sql_form_a86174e002c2dd5496ab74a7eb67c614c}{add\-Child\-Widget()} . In this case, the given widget is simply added to the internal Q\-Tab\-Widget . 

Definition at line 62 of file mdt\-Sql\-Form.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classmdt_sql_form_a607993f0d35207668c0f220d77bd9298}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!mdt\-Sql\-Form@{mdt\-Sql\-Form}}
\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{mdt\-Sql\-Form}]{\setlength{\rightskip}{0pt plus 5cm}mdt\-Sql\-Form\-::mdt\-Sql\-Form (
\begin{DoxyParamCaption}
\item[{{\bf Q\-Widget} $\ast$}]{parent, }
\item[{Q\-Sql\-Database}]{db}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_a607993f0d35207668c0f220d77bd9298}


Constructor. 

Given database will be used whenn adding new tables with set\-Main\-Table(const Q\-String\&, const Q\-String\&) and add\-Child\-Table(const Q\-String\&, const Q\-String\&) .

\hyperlink{classmdt_sql_form_ac8423f91a1f8a6fa7408cd61be86a89c}{database()} will also return this version . 

Definition at line 36 of file mdt\-Sql\-Form.\-cpp.

\hypertarget{classmdt_sql_form_ab4538979323566433a20bb71118525a5}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!$\sim$mdt\-Sql\-Form@{$\sim$mdt\-Sql\-Form}}
\index{$\sim$mdt\-Sql\-Form@{$\sim$mdt\-Sql\-Form}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{$\sim$mdt\-Sql\-Form}]{\setlength{\rightskip}{0pt plus 5cm}mdt\-Sql\-Form\-::$\sim$mdt\-Sql\-Form (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classmdt_sql_form_ab4538979323566433a20bb71118525a5}


Destructor. 



Definition at line 47 of file mdt\-Sql\-Form.\-cpp.



\subsection{Member Function Documentation}
\hypertarget{classmdt_sql_form_a9c48a7af83effbc50e9171a8d7ff3889}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!add\-Child\-Table@{add\-Child\-Table}}
\index{add\-Child\-Table@{add\-Child\-Table}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{add\-Child\-Table}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Sql\-Form\-::add\-Child\-Table (
\begin{DoxyParamCaption}
\item[{const {\bf mdt\-Sql\-Relation\-Info} \&}]{relation\-Info, }
\item[{const Q\-String \&}]{user\-Friendly\-Table\-Name}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_a9c48a7af83effbc50e9171a8d7ff3889}


Add a child table to the form. 


\begin{DoxyParams}{Parameters}
{\em relation\-Info} & Informations about relation between main table and child table to create (note\-: parent table name is not used). \\
\hline
{\em user\-Friendly\-Table\-Name} & If set, will be used at places that are visible from user. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True on success, false if given table name does not exist or on some other errors (database not open, access privileges, ...). False can also be returned if main table was not set (see \hyperlink{classmdt_sql_form_abe4cc1a317d8e76aed7b408184c8712e}{set\-Main\-Table()} ). 
\end{DoxyReturn}


Definition at line 93 of file mdt\-Sql\-Form.\-cpp.

\hypertarget{classmdt_sql_form_a0ffbb237eef4cb3b4e9b458860ef411d}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!add\-Child\-Table@{add\-Child\-Table}}
\index{add\-Child\-Table@{add\-Child\-Table}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{add\-Child\-Table}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Sql\-Form\-::add\-Child\-Table (
\begin{DoxyParamCaption}
\item[{const {\bf mdt\-Sql\-Relation\-Info} \&}]{relation\-Info, }
\item[{const Q\-String \&}]{user\-Friendly\-Table\-Name, }
\item[{Q\-Sql\-Database}]{db}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_a0ffbb237eef4cb3b4e9b458860ef411d}


Add a child table to the form. 

This method is only useful if different tables have to act on different databases .


\begin{DoxyParams}{Parameters}
{\em relation\-Info} & Informations about relation between main table and child table to create (note\-: parent table name is not used). \\
\hline
{\em user\-Friendly\-Table\-Name} & If set, will be used at places that are visible from user. \\
\hline
{\em db} & Database to use. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True on success, false if given table name does not exist or on some other errors (database not open, access privileges, ...). False can also be returned if main table was not set (see \hyperlink{classmdt_sql_form_abe4cc1a317d8e76aed7b408184c8712e}{set\-Main\-Table()} ). 
\end{DoxyReturn}


Definition at line 98 of file mdt\-Sql\-Form.\-cpp.



References add\-Child\-Widget(), mdt\-Sql\-Relation\-Info\-::child\-Table\-Name(), mdt\-Error\-::commit(), mdt\-Error\-::\-Error, M\-D\-T\-\_\-\-E\-R\-R\-O\-R\-\_\-\-S\-E\-T\-\_\-\-S\-R\-C, pv\-Last\-Error, mdt\-Error\-::set\-Error(), mdt\-Sql\-Table\-Widget\-::set\-Table\-Controller(), and mdt\-Sql\-Table\-Widget\-::user\-Friendly\-Table\-Name().

\hypertarget{classmdt_sql_form_a86174e002c2dd5496ab74a7eb67c614c}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!add\-Child\-Widget@{add\-Child\-Widget}}
\index{add\-Child\-Widget@{add\-Child\-Widget}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{add\-Child\-Widget}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Sql\-Form\-::add\-Child\-Widget (
\begin{DoxyParamCaption}
\item[{{\bf Q\-Widget} $\ast$}]{widget, }
\item[{const Q\-String \&}]{label, }
\item[{const Q\-Icon \&}]{icon = {\ttfamily QIcon()}}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_a86174e002c2dd5496ab74a7eb67c614c}


Add a widget to the internal Q\-Tab\-Widget. 

Can be used if a widget that is not related to a database table must be placed in the Q\-Tab\-Widget .

Note\-: the given widget will be reparented, and also deleted when the form is destroyed . 

Definition at line 134 of file mdt\-Sql\-Form.\-cpp.



Referenced by add\-Child\-Table().

\hypertarget{classmdt_sql_form_a696cdbda10abab368ca9cbf1bbdd1bf1}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!add\-Menus@{add\-Menus}}
\index{add\-Menus@{add\-Menus}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{add\-Menus}]{\setlength{\rightskip}{0pt plus 5cm}virtual void mdt\-Sql\-Form\-::add\-Menus (
\begin{DoxyParamCaption}
\item[{Q\-Menu\-Bar $\ast$}]{menu\-Bar}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}}\label{classmdt_sql_form_a696cdbda10abab368ca9cbf1bbdd1bf1}


Add menus to menu bar. 

This method is called by \hyperlink{classmdt_sql_window}{mdt\-Sql\-Window}, and let subclass (of \hyperlink{classmdt_sql_form}{mdt\-Sql\-Form}) add menus. Add all needed stuff using given menu\-Bar pointer.

This default implementation dows nothing. 

Reimplemented in \hyperlink{classmdt_tt_test_cable_editor_afc87688d1fd0e3a48ca5239b95154827}{mdt\-Tt\-Test\-Cable\-Editor}.



Definition at line 120 of file mdt\-Sql\-Form.\-h.



Referenced by mdt\-Sql\-Window\-::set\-Sql\-Form().

\hypertarget{classmdt_sql_form_a1e14cbb5bf04d2eb1c703862a6084031}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!all\-Data\-Are\-Saved@{all\-Data\-Are\-Saved}}
\index{all\-Data\-Are\-Saved@{all\-Data\-Are\-Saved}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{all\-Data\-Are\-Saved}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Sql\-Form\-::all\-Data\-Are\-Saved (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_form_a1e14cbb5bf04d2eb1c703862a6084031}


Check if all data are saved. 

Will call \hyperlink{classmdt_sql_form_a1e14cbb5bf04d2eb1c703862a6084031}{all\-Data\-Are\-Saved()} on main table controller.

\begin{DoxyReturn}{Returns}
true if all data are saved, false if a S\-Q\-L table controller has pending data. 
\end{DoxyReturn}


Definition at line 450 of file mdt\-Sql\-Form.\-h.



Referenced by mdt\-Sql\-Dialog\-::accept(), and mdt\-Sql\-Dialog\-::reject().

\hypertarget{classmdt_sql_form_a37cd63844276e50bda58fe8edafc704e}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!clear\-Main\-Table\-Filter@{clear\-Main\-Table\-Filter}}
\index{clear\-Main\-Table\-Filter@{clear\-Main\-Table\-Filter}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{clear\-Main\-Table\-Filter}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Sql\-Form\-::clear\-Main\-Table\-Filter (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_form_a37cd63844276e50bda58fe8edafc704e}


Clear filter of main table. 

\begin{DoxyPrecond}{Precondition}
Main table must be set with \hyperlink{classmdt_sql_form_abe4cc1a317d8e76aed7b408184c8712e}{set\-Main\-Table()} 

Internal state machine must run (see \hyperlink{classmdt_sql_form_a101b73d24864dd208968ca6dfe5f8cd8}{start()} ). 
\end{DoxyPrecond}


Definition at line 306 of file mdt\-Sql\-Form.\-h.

\hypertarget{classmdt_sql_form_aca283557b7e2586779cb5c498d388f14}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!current\-Data@{current\-Data}}
\index{current\-Data@{current\-Data}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{current\-Data}]{\setlength{\rightskip}{0pt plus 5cm}Q\-Variant mdt\-Sql\-Form\-::current\-Data (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{table\-Name, }
\item[{const Q\-String \&}]{field\-Name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_form_aca283557b7e2586779cb5c498d388f14}


Get current data for given table and field name. 

Note that S\-Q\-L table controller related to given table\-Name is searched at each request. If several access to set\-Current\-Data is needed, it can be better to get a pointer to related controller with \hyperlink{classmdt_sql_form_ae812518bc0c786b918dbc63bc8a69741}{table\-Controller()} , and call his \hyperlink{classmdt_sql_form_aca283557b7e2586779cb5c498d388f14}{current\-Data()} method.

\begin{DoxyReturn}{Returns}
Current value, or a invalid Q\-Variant on error (f.\-ex. table or field not found). 
\end{DoxyReturn}


Definition at line 371 of file mdt\-Sql\-Form.\-h.

\hypertarget{classmdt_sql_form_af24711f9c18a1009352b62d47b9758d7}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!current\-Data@{current\-Data}}
\index{current\-Data@{current\-Data}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{current\-Data}]{\setlength{\rightskip}{0pt plus 5cm}Q\-Variant mdt\-Sql\-Form\-::current\-Data (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{table\-Name, }
\item[{const Q\-String \&}]{field\-Name, }
\item[{bool \&}]{ok}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_af24711f9c18a1009352b62d47b9758d7}


Get current data for given table and field name. 

Note that S\-Q\-L table controller related to given table\-Name is searched at each request. If several access to set\-Current\-Data is needed, it can be better to get a pointer to related controller with \hyperlink{classmdt_sql_form_ae812518bc0c786b918dbc63bc8a69741}{table\-Controller()} , and call his \hyperlink{classmdt_sql_form_aca283557b7e2586779cb5c498d388f14}{current\-Data()} method.

\begin{DoxyReturn}{Returns}
Current value, or a invalid Q\-Variant on error (f.\-ex. table or field not found). 
\end{DoxyReturn}


Definition at line 256 of file mdt\-Sql\-Form.\-cpp.

\hypertarget{classmdt_sql_form_a0c27d6a9ecbf0589f313c7193c632a62}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!data@{data}}
\index{data@{data}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{data}]{\setlength{\rightskip}{0pt plus 5cm}Q\-Variant mdt\-Sql\-Form\-::data (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{table\-Name, }
\item[{int}]{row, }
\item[{const Q\-String \&}]{field\-Name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_form_a0c27d6a9ecbf0589f313c7193c632a62}


Get data for given table , row and field name. 

Note that S\-Q\-L table controller related to given table\-Name is searched at each request. If several access to set\-Current\-Data is needed, it can be better to get a pointer to related controller with \hyperlink{classmdt_sql_form_ae812518bc0c786b918dbc63bc8a69741}{table\-Controller()} , and call his \hyperlink{classmdt_sql_form_a0c27d6a9ecbf0589f313c7193c632a62}{data()} method.

\begin{DoxyReturn}{Returns}
Current value, or a invalid Q\-Variant on error (f.\-ex. table, row or field not found). 
\end{DoxyReturn}


Definition at line 397 of file mdt\-Sql\-Form.\-h.

\hypertarget{classmdt_sql_form_ab0c251a35567dd34f244fea715a7a3d4}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!data@{data}}
\index{data@{data}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{data}]{\setlength{\rightskip}{0pt plus 5cm}Q\-Variant mdt\-Sql\-Form\-::data (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{table\-Name, }
\item[{int}]{row, }
\item[{const Q\-String \&}]{field\-Name, }
\item[{bool \&}]{ok}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_ab0c251a35567dd34f244fea715a7a3d4}


Get data for given table , row and field name. 

Note that S\-Q\-L table controller related to given table\-Name is searched at each request. If several access to set\-Current\-Data is needed, it can be better to get a pointer to related controller with \hyperlink{classmdt_sql_form_ae812518bc0c786b918dbc63bc8a69741}{table\-Controller()} , and call his \hyperlink{classmdt_sql_form_a0c27d6a9ecbf0589f313c7193c632a62}{data()} method.

\begin{DoxyReturn}{Returns}
Current value, or a invalid Q\-Variant on error (f.\-ex. table, row or field not found). 
\end{DoxyReturn}


Definition at line 266 of file mdt\-Sql\-Form.\-cpp.

\hypertarget{classmdt_sql_form_ac8423f91a1f8a6fa7408cd61be86a89c}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!database@{database}}
\index{database@{database}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{database}]{\setlength{\rightskip}{0pt plus 5cm}Q\-Sql\-Database mdt\-Sql\-Form\-::database (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_form_ac8423f91a1f8a6fa7408cd61be86a89c}


Get database that was given by constructor. 



Definition at line 228 of file mdt\-Sql\-Form.\-h.

\hypertarget{classmdt_sql_form_a15a92b2116f2fd3a37344afb66b77a3d}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!data\-List@{data\-List}}
\index{data\-List@{data\-List}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{data\-List}]{\setlength{\rightskip}{0pt plus 5cm}Q\-List$<$Q\-Variant$>$ mdt\-Sql\-Form\-::data\-List (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{table\-Name, }
\item[{const Q\-String \&}]{field\-Name, }
\item[{bool}]{fetch\-All = {\ttfamily true}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_form_a15a92b2116f2fd3a37344afb66b77a3d}


Get a list of data for given table and field name. 

If fetch\-All is true, all available data will be fetched from database (regarding applied filter), else only cached data are returned (see Q\-Sql\-Query\-Model\-::fetch\-More() for details). 

Definition at line 420 of file mdt\-Sql\-Form.\-h.

\hypertarget{classmdt_sql_form_a271b8bc1adac05a36d2db24d0b9cdaff}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!data\-List@{data\-List}}
\index{data\-List@{data\-List}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{data\-List}]{\setlength{\rightskip}{0pt plus 5cm}Q\-List$<$ Q\-Variant $>$ mdt\-Sql\-Form\-::data\-List (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{table\-Name, }
\item[{const Q\-String \&}]{field\-Name, }
\item[{bool \&}]{ok, }
\item[{bool}]{fetch\-All = {\ttfamily true}}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_a271b8bc1adac05a36d2db24d0b9cdaff}


Get a list of data for given table and field name. 

If fetch\-All is true, all available data will be fetched from database (regarding applied filter), else only cached data are returned (see Q\-Sql\-Query\-Model\-::fetch\-More() for details). 

Definition at line 276 of file mdt\-Sql\-Form.\-cpp.

\hypertarget{classmdt_sql_form_a7521d231f24663ee1d2acb904387353b}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!display\-Last\-Error@{display\-Last\-Error}}
\index{display\-Last\-Error@{display\-Last\-Error}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{display\-Last\-Error}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Sql\-Form\-::display\-Last\-Error (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_a7521d231f24663ee1d2acb904387353b}


Display last error in a message box. 



Definition at line 207 of file mdt\-Sql\-Form.\-cpp.



References mdt\-Error\-::informative\-Text(), mdt\-Error\-::level\-Icon(), pv\-Last\-Error, mdt\-Error\-::system\-Text(), and mdt\-Error\-::text().



Referenced by mdt\-Tt\-Test\-Model\-Item\-Editor\-::set\-Sequence\-Number(), and mdt\-Tt\-Test\-Model\-Item\-Editor\-::set\-Test\-Model\-Id().

\hypertarget{classmdt_sql_form_a2138e4e1236a9b1c002825ddd9e59298}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!insert@{insert}}
\index{insert@{insert}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{insert}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Sql\-Form\-::insert (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_form_a2138e4e1236a9b1c002825ddd9e59298}


Call insert method on main table controller. 



Definition at line 436 of file mdt\-Sql\-Form.\-h.

\hypertarget{classmdt_sql_form_a04724293298421c404e93c58015cda5e}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!last\-Error@{last\-Error}}
\index{last\-Error@{last\-Error}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{last\-Error}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdt\-Error} mdt\-Sql\-Form\-::last\-Error (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{classmdt_sql_form_a04724293298421c404e93c58015cda5e}


Get last error. 



Definition at line 202 of file mdt\-Sql\-Form.\-cpp.



References pv\-Last\-Error.

\hypertarget{classmdt_sql_form_ac32b24ebb2d203cbefb6c7bdb8d9867b}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!main\-Table\-Controller@{main\-Table\-Controller}}
\index{main\-Table\-Controller@{main\-Table\-Controller}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{main\-Table\-Controller}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ std\-::shared\-\_\-ptr$<$T$>$ mdt\-Sql\-Form\-::main\-Table\-Controller (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_form_ac32b24ebb2d203cbefb6c7bdb8d9867b}


Get main table controller. 

Can return a Null pointer if no controller is assigned to rquested table, or it exists, but is not of requested type T. 

Definition at line 201 of file mdt\-Sql\-Form.\-h.

\hypertarget{classmdt_sql_form_a533d58efc54f9ecc180467cd13b8e511}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!row\-Count@{row\-Count}}
\index{row\-Count@{row\-Count}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{row\-Count}]{\setlength{\rightskip}{0pt plus 5cm}int mdt\-Sql\-Form\-::row\-Count (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{table\-Name, }
\item[{bool}]{fetch\-All = {\ttfamily false}}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_a533d58efc54f9ecc180467cd13b8e511}


Get row count for given table\-Name. 

Note\-: this will search internall controller at each request. If repeated calls of this method is required, get a instance of needed controller with \hyperlink{classmdt_sql_form_ae812518bc0c786b918dbc63bc8a69741}{table\-Controller()}, and call its \hyperlink{classmdt_sql_form_a533d58efc54f9ecc180467cd13b8e511}{row\-Count()} method. 

Definition at line 218 of file mdt\-Sql\-Form.\-cpp.

\hypertarget{classmdt_sql_form_a2a2f564fe934cc8997b07f90abb771e1}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!select@{select}}
\index{select@{select}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{select}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Sql\-Form\-::select (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_a2a2f564fe934cc8997b07f90abb771e1}


Call select on model that acts on main table name. 

\begin{DoxyReturn}{Returns}
True on success, false on error. On failure, the last error is avaliable with \hyperlink{classmdt_sql_form_a04724293298421c404e93c58015cda5e}{last\-Error()} 
\end{DoxyReturn}


Definition at line 169 of file mdt\-Sql\-Form.\-cpp.



References pv\-Last\-Error.

\hypertarget{classmdt_sql_form_ae9a1f8c03e5ac8ccd01fa804356abd01}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!select@{select}}
\index{select@{select}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{select}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Sql\-Form\-::select (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{table\-Name}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_ae9a1f8c03e5ac8ccd01fa804356abd01}


Call select on model that acts on given table name. 

\begin{DoxyReturn}{Returns}
True on success, false if table\-Name was not found or other error. On failure, the last error is avaliable with \hyperlink{classmdt_sql_form_a04724293298421c404e93c58015cda5e}{last\-Error()} 
\end{DoxyReturn}


Definition at line 178 of file mdt\-Sql\-Form.\-cpp.



References mdt\-Error\-::commit(), mdt\-Error\-::\-Error, M\-D\-T\-\_\-\-E\-R\-R\-O\-R\-\_\-\-S\-E\-T\-\_\-\-S\-R\-C, pv\-Last\-Error, and mdt\-Error\-::set\-Error().

\hypertarget{classmdt_sql_form_aa377e70f4a2e865b0b696957c0fca766}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!set\-Current\-Data@{set\-Current\-Data}}
\index{set\-Current\-Data@{set\-Current\-Data}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{set\-Current\-Data}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Sql\-Form\-::set\-Current\-Data (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{table\-Name, }
\item[{const Q\-String \&}]{field\-Name, }
\item[{const Q\-Variant \&}]{data, }
\item[{bool}]{submit = {\ttfamily true}}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_aa377e70f4a2e865b0b696957c0fca766}


Set (update) data of current row (record) for given table and field name. 

Note that S\-Q\-L table controller related to given table\-Name is searched at each request. If several access to set\-Current\-Data is needed, it can be better to get a pointer to related controller with \hyperlink{classmdt_sql_form_ae812518bc0c786b918dbc63bc8a69741}{table\-Controller()} , and call his \hyperlink{classmdt_sql_form_aa377e70f4a2e865b0b696957c0fca766}{set\-Current\-Data()} method. 

Definition at line 242 of file mdt\-Sql\-Form.\-cpp.



References pv\-Last\-Error.



Referenced by mdt\-Tt\-Test\-Model\-Item\-Editor\-::set\-Sequence\-Number(), and mdt\-Tt\-Test\-Model\-Item\-Editor\-::set\-Test\-Model\-Id().

\hypertarget{classmdt_sql_form_a268cedc485a92877a551cee34cf0eecc}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!set\-Current\-Row@{set\-Current\-Row}}
\index{set\-Current\-Row@{set\-Current\-Row}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{set\-Current\-Row}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Sql\-Form\-::set\-Current\-Row (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{field\-Name, }
\item[{const Q\-Variant \&}]{match\-Data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_form_a268cedc485a92877a551cee34cf0eecc}


Set the first row that matches given criteria as current row. 

This variant will act on main table controller.


\begin{DoxyParams}{Parameters}
{\em field\-Name} & Field that must contain searched value \\
\hline
{\em value} & Value that must matche \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if matching record was found (in this case, set\-Current\-Index() is called on sql widget witch acts on main table to update current\-Row), false else. 
\end{DoxyReturn}


Definition at line 337 of file mdt\-Sql\-Form.\-h.

\hypertarget{classmdt_sql_form_abd4c01483812a53edc4be116a7dd2612}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!set\-Current\-Row@{set\-Current\-Row}}
\index{set\-Current\-Row@{set\-Current\-Row}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{set\-Current\-Row}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Sql\-Form\-::set\-Current\-Row (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{table\-Name, }
\item[{const Q\-String \&}]{field\-Name, }
\item[{const Q\-Variant \&}]{match\-Data}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_abd4c01483812a53edc4be116a7dd2612}


Set the first row that matches given criteria as current row. 


\begin{DoxyParams}{Parameters}
{\em table\-Name} & The controller acting on this table name is used. \\
\hline
{\em field\-Name} & Field that must contain searched value \\
\hline
{\em value} & Value that must matche \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if matching record was found (in this case, set\-Current\-Index() is called on sql widget witch acts on main table to update current\-Row), false else. 
\end{DoxyReturn}


Definition at line 228 of file mdt\-Sql\-Form.\-cpp.



References pv\-Last\-Error.

\hypertarget{classmdt_sql_form_abe4cc1a317d8e76aed7b408184c8712e}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!set\-Main\-Table@{set\-Main\-Table}}
\index{set\-Main\-Table@{set\-Main\-Table}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{set\-Main\-Table}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Sql\-Form\-::set\-Main\-Table (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{table\-Name, }
\item[{const Q\-String \&}]{user\-Friendly\-Table\-Name, }
\item[{const Q\-String \&}]{first\-Widget\-In\-Tab\-Order = {\ttfamily QString()}}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_abe4cc1a317d8e76aed7b408184c8712e}


Set the main (or parent) table of the form. 

Note\-: call \hyperlink{classmdt_sql_form_ae3651d94b995dc84665f934ba9c7458f}{set\-Main\-Table\-Ui()} or \hyperlink{classmdt_sql_form_ab1fee5cecde1e2faf4b4c1bf1ee672b1}{set\-Main\-Table\-Widget()} before, else no data widget will be mapped. See \hyperlink{classmdt_sql_data_widget_controller}{mdt\-Sql\-Data\-Widget\-Controller} for details.


\begin{DoxyParams}{Parameters}
{\em table\-Name} & Table on witch the form must act. \\
\hline
{\em user\-Friendly\-Table\-Name} & If set, will be used at places that are visible from user. \\
\hline
{\em first\-Widget\-In\-Tab\-Order} & It's possible to specify the object name of the first widget in tab order. This is then used by insertion to give this widget the focus. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True on success, false if given table name does not exist or on some other errors (database not open, access privileges, ...) 
\end{DoxyReturn}


Definition at line 60 of file mdt\-Sql\-Form.\-cpp.

\hypertarget{classmdt_sql_form_aee00ca6122b6a18a72b861e691fd035a}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!set\-Main\-Table@{set\-Main\-Table}}
\index{set\-Main\-Table@{set\-Main\-Table}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{set\-Main\-Table}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Sql\-Form\-::set\-Main\-Table (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{table\-Name, }
\item[{const Q\-String \&}]{user\-Friendly\-Table\-Name, }
\item[{Q\-Sql\-Database}]{db, }
\item[{const Q\-String \&}]{first\-Widget\-In\-Tab\-Order = {\ttfamily QString()}}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_aee00ca6122b6a18a72b861e691fd035a}


Set the main (or parent) table of the form. 

Note\-: call \hyperlink{classmdt_sql_form_ae3651d94b995dc84665f934ba9c7458f}{set\-Main\-Table\-Ui()} or \hyperlink{classmdt_sql_form_ab1fee5cecde1e2faf4b4c1bf1ee672b1}{set\-Main\-Table\-Widget()} before, else no data widget will be mapped. See \hyperlink{classmdt_sql_data_widget_controller}{mdt\-Sql\-Data\-Widget\-Controller} for details.

This method is only useful if different tables have to act on different databases .


\begin{DoxyParams}{Parameters}
{\em table\-Name} & Table on witch the form must act. \\
\hline
{\em user\-Friendly\-Table\-Name} & If set, will be used at places that are visible from user. \\
\hline
{\em db} & Database to use (pass a Q\-Sql\-Database() if only one database is used). \\
\hline
{\em first\-Widget\-In\-Tab\-Order} & It's possible to specify the object name of the first widget in tab order. This is then used by insertion to give this widget the focus. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True on success, false if given table name does not exist or on some other errors (database not open, access privileges, ...) 
\end{DoxyReturn}


Definition at line 65 of file mdt\-Sql\-Form.\-cpp.



References mdt\-Error\-::commit(), mdt\-Error\-::\-Error, M\-D\-T\-\_\-\-E\-R\-R\-O\-R\-\_\-\-S\-E\-T\-\_\-\-S\-R\-C, pv\-Last\-Error, and mdt\-Error\-::set\-Error().

\hypertarget{classmdt_sql_form_a86c870d9875efbd83262f5dd28df5177}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!set\-Main\-Table\-Filter@{set\-Main\-Table\-Filter}}
\index{set\-Main\-Table\-Filter@{set\-Main\-Table\-Filter}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{set\-Main\-Table\-Filter}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Sql\-Form\-::set\-Main\-Table\-Filter (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{filter}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_form_a86c870d9875efbd83262f5dd28df5177}


Set a filter on main table. 

Set filter based on S\-Q\-L query W\-H\-E\-R\-E part, without the W\-H\-E\-R\-E keyword (f.\-ex. Id\-\_\-\-P\-K = 15)

Note\-: if internal controller's model is allready populated with data, i.\-e. \hyperlink{classmdt_sql_form_a2a2f564fe934cc8997b07f90abb771e1}{select()} was called before, filter is applied directly, else, select must be called explicitly after \hyperlink{classmdt_sql_form_a86c870d9875efbd83262f5dd28df5177}{set\-Main\-Table\-Filter()} (this is the same behaviour as \hyperlink{class_q_sql_table_model}{Q\-Sql\-Table\-Model}).

\begin{DoxyPrecond}{Precondition}
Main table must be set with \hyperlink{classmdt_sql_form_abe4cc1a317d8e76aed7b408184c8712e}{set\-Main\-Table()} 

Internal state machine must run (see \hyperlink{classmdt_sql_form_a101b73d24864dd208968ca6dfe5f8cd8}{start()} ). 
\end{DoxyPrecond}


Definition at line 256 of file mdt\-Sql\-Form.\-h.

\hypertarget{classmdt_sql_form_abfc6d7f49debf02f5016923cbd422f2f}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!set\-Main\-Table\-Filter@{set\-Main\-Table\-Filter}}
\index{set\-Main\-Table\-Filter@{set\-Main\-Table\-Filter}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{set\-Main\-Table\-Filter}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Sql\-Form\-::set\-Main\-Table\-Filter (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{field\-Name, }
\item[{const Q\-Variant \&}]{match\-Data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_form_abfc6d7f49debf02f5016923cbd422f2f}


Set a filter on main table. 


\begin{DoxyParams}{Parameters}
{\em field\-Name} & Field that must match data \\
\hline
{\em match\-Data} & Match data\\
\hline
\end{DoxyParams}
Internally, a S\-Q\-L statement is generated linke\-: field\-Name = match\-Data

Note\-: if internal controller's model is allready populated with data, i.\-e. \hyperlink{classmdt_sql_form_a2a2f564fe934cc8997b07f90abb771e1}{select()} was called before, filter is applied directly, else, select must be called explicitly after \hyperlink{classmdt_sql_form_a86c870d9875efbd83262f5dd28df5177}{set\-Main\-Table\-Filter()} (this is the same behaviour as \hyperlink{class_q_sql_table_model}{Q\-Sql\-Table\-Model}).

\begin{DoxyPrecond}{Precondition}
Main table must be set with \hyperlink{classmdt_sql_form_abe4cc1a317d8e76aed7b408184c8712e}{set\-Main\-Table()} 

Internal state machine must run (see \hyperlink{classmdt_sql_form_a101b73d24864dd208968ca6dfe5f8cd8}{start()} ). 
\end{DoxyPrecond}


Definition at line 276 of file mdt\-Sql\-Form.\-h.

\hypertarget{classmdt_sql_form_a61c0a1a4a2c53ca5571168e9761adff8}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!set\-Main\-Table\-Filter@{set\-Main\-Table\-Filter}}
\index{set\-Main\-Table\-Filter@{set\-Main\-Table\-Filter}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{set\-Main\-Table\-Filter}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Sql\-Form\-::set\-Main\-Table\-Filter (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{field\-Name, }
\item[{const Q\-List$<$ Q\-Variant $>$ \&}]{match\-Data\-List}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_form_a61c0a1a4a2c53ca5571168e9761adff8}


Set a filter on main table. 


\begin{DoxyParams}{Parameters}
{\em field\-Name} & Field that must match data \\
\hline
{\em match\-Data\-List} & A list of match data\\
\hline
\end{DoxyParams}
Internally, a S\-Q\-L statement is generated linke\-: field\-Name I\-N (match\-Data\mbox{[}0\mbox{]}, match\-Data\mbox{[}1\mbox{]}, ...)

Note\-: if internal controller's model is allready populated with data, i.\-e. \hyperlink{classmdt_sql_form_a2a2f564fe934cc8997b07f90abb771e1}{select()} was called before, filter is applied directly, else, select must be called explicitly after \hyperlink{classmdt_sql_form_a86c870d9875efbd83262f5dd28df5177}{set\-Main\-Table\-Filter()} (this is the same behaviour as \hyperlink{class_q_sql_table_model}{Q\-Sql\-Table\-Model}).

\begin{DoxyPrecond}{Precondition}
Main table must be set with \hyperlink{classmdt_sql_form_abe4cc1a317d8e76aed7b408184c8712e}{set\-Main\-Table()} 

Internal state machine must run (see \hyperlink{classmdt_sql_form_a101b73d24864dd208968ca6dfe5f8cd8}{start()} ). 
\end{DoxyPrecond}


Definition at line 296 of file mdt\-Sql\-Form.\-h.

\hypertarget{classmdt_sql_form_ae3651d94b995dc84665f934ba9c7458f}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!set\-Main\-Table\-Ui@{set\-Main\-Table\-Ui}}
\index{set\-Main\-Table\-Ui@{set\-Main\-Table\-Ui}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{set\-Main\-Table\-Ui}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ void mdt\-Sql\-Form\-::set\-Main\-Table\-Ui (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_form_ae3651d94b995dc84665f934ba9c7458f}


Set main table U\-I. 

Usefull for U\-I created with Qt\-Designer 

Definition at line 94 of file mdt\-Sql\-Form.\-h.

\hypertarget{classmdt_sql_form_ab4e3d6512a68eba681be79d1602b6d44}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!set\-Main\-Table\-Ui@{set\-Main\-Table\-Ui}}
\index{set\-Main\-Table\-Ui@{set\-Main\-Table\-Ui}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{set\-Main\-Table\-Ui}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ void mdt\-Sql\-Form\-::set\-Main\-Table\-Ui (
\begin{DoxyParamCaption}
\item[{T \&}]{ui}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_form_ab4e3d6512a68eba681be79d1602b6d44}


Set main table U\-I. 

Usefull for U\-I created with Qt\-Designer 

Definition at line 105 of file mdt\-Sql\-Form.\-h.



References set\-Main\-Table\-Widget().

\hypertarget{classmdt_sql_form_ab1fee5cecde1e2faf4b4c1bf1ee672b1}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!set\-Main\-Table\-Widget@{set\-Main\-Table\-Widget}}
\index{set\-Main\-Table\-Widget@{set\-Main\-Table\-Widget}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{set\-Main\-Table\-Widget}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Sql\-Form\-::set\-Main\-Table\-Widget (
\begin{DoxyParamCaption}
\item[{{\bf Q\-Widget} $\ast$}]{widget}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_ab1fee5cecde1e2faf4b4c1bf1ee672b1}


Set main table widget. 

If you have a U\-I file generated from Qt\-Designer, witch has a setup\-Ui() method, simply use \hyperlink{classmdt_sql_form_ae3651d94b995dc84665f934ba9c7458f}{set\-Main\-Table\-Ui()} 

Definition at line 51 of file mdt\-Sql\-Form.\-cpp.



Referenced by set\-Main\-Table\-Ui().

\hypertarget{classmdt_sql_form_a27fe6e45aa5d4d7782aad9833e6de20b}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!setup\-Tables@{setup\-Tables}}
\index{setup\-Tables@{setup\-Tables}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{setup\-Tables}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Sql\-Form\-::setup\-Tables (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classmdt_sql_form_a27fe6e45aa5d4d7782aad9833e6de20b}


Setup tables. 

Must be re-\/implemented in subclass, default implementation does nothing . 

Reimplemented in \hyperlink{classmdt_cl_unit_editor_a962cfbdda9400a7cf99ba38eec0a4155}{mdt\-Cl\-Unit\-Editor}, \hyperlink{classmdt_cl_article_editor_aded93cdb635e69fdba0f8b59054c8fce}{mdt\-Cl\-Article\-Editor}, \hyperlink{classmdt_cl_vehicle_type_editor_aa23c76e65f52575a31616267757603ae}{mdt\-Cl\-Vehicle\-Type\-Editor}, \hyperlink{classmdt_tt_logical_test_cable_editor_a5b2d693df300953d3af67dad87cb5a0b}{mdt\-Tt\-Logical\-Test\-Cable\-Editor}, \hyperlink{classmdt_tt_test_cable_editor_a8feb6a7ed2e1ad3de6e1c61cca8e5185}{mdt\-Tt\-Test\-Cable\-Editor}, \hyperlink{classmdt_cl_connector_editor_a6f3fdb1041ec8d562aac777471b7892f}{mdt\-Cl\-Connector\-Editor}, \hyperlink{classmdt_tt_test_node_editor_ac8f144b6fb17a2dd6eec9eae7a824b6b}{mdt\-Tt\-Test\-Node\-Editor}, \hyperlink{classmdt_cl_link_beam_editor_aff3668706e304470e55165d036feae80}{mdt\-Cl\-Link\-Beam\-Editor}, \hyperlink{classmdt_tt_test_model_item_editor_a1281b469c8d9493e2ce97923c7ce9b33}{mdt\-Tt\-Test\-Model\-Item\-Editor}, and \hyperlink{classmdt_tt_test_model_editor_acb871c3218f3d458b5f9ba5e49c74df9}{mdt\-Tt\-Test\-Model\-Editor}.



Definition at line 286 of file mdt\-Sql\-Form.\-cpp.

\hypertarget{classmdt_sql_form_a6a17f32077fb7cc33139c3dc26a8d011}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!sql\-Table\-Widget@{sql\-Table\-Widget}}
\index{sql\-Table\-Widget@{sql\-Table\-Widget}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{sql\-Table\-Widget}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdt\-Sql\-Table\-Widget} $\ast$ mdt\-Sql\-Form\-::sql\-Table\-Widget (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{table\-Name}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_a6a17f32077fb7cc33139c3dc26a8d011}
Get instance of the stored S\-Q\-L table widget related to a table name 

Definition at line 155 of file mdt\-Sql\-Form.\-cpp.

\hypertarget{classmdt_sql_form_a101b73d24864dd208968ca6dfe5f8cd8}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!start@{start}}
\index{start@{start}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{start}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Sql\-Form\-::start (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_form_a101b73d24864dd208968ca6dfe5f8cd8}


Start internal state machines. 

Will start state machine of each contained S\-Q\-L widget. This method is called by \hyperlink{classmdt_sql_window}{mdt\-Sql\-Window} and \hyperlink{classmdt_sql_dialog}{mdt\-Sql\-Dialog}. 

Definition at line 150 of file mdt\-Sql\-Form.\-cpp.



Referenced by mdt\-Sql\-Dialog\-::set\-Sql\-Form(), and mdt\-Sql\-Window\-::set\-Sql\-Form().

\hypertarget{classmdt_sql_form_ae812518bc0c786b918dbc63bc8a69741}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!table\-Controller@{table\-Controller}}
\index{table\-Controller@{table\-Controller}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{table\-Controller}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ std\-::shared\-\_\-ptr$<$T$>$ mdt\-Sql\-Form\-::table\-Controller (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{table\-Name}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_form_ae812518bc0c786b918dbc63bc8a69741}


Get a table controller. 

Can return a Null pointer if no controller is assigned to rquested table, or it exists, but is not of requested type T. 

Definition at line 213 of file mdt\-Sql\-Form.\-h.



\subsection{Member Data Documentation}
\hypertarget{classmdt_sql_form_afc24e8dedd1249a29708347fdff560fd}{\index{mdt\-Sql\-Form@{mdt\-Sql\-Form}!pv\-Last\-Error@{pv\-Last\-Error}}
\index{pv\-Last\-Error@{pv\-Last\-Error}!mdtSqlForm@{mdt\-Sql\-Form}}
\subsubsection[{pv\-Last\-Error}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdt\-Error} mdt\-Sql\-Form\-::pv\-Last\-Error\hspace{0.3cm}{\ttfamily [protected]}}}\label{classmdt_sql_form_afc24e8dedd1249a29708347fdff560fd}


Definition at line 454 of file mdt\-Sql\-Form.\-h.



Referenced by add\-Child\-Table(), display\-Last\-Error(), last\-Error(), select(), set\-Current\-Data(), set\-Current\-Row(), set\-Main\-Table(), and mdt\-Cl\-Unit\-Editor\-::set\-Working\-On\-Vehicle\-Type\-Id\-List().



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
src/mdtdatabase/\hyperlink{mdt_sql_form_8h}{mdt\-Sql\-Form.\-h}\item 
src/mdtdatabase/\hyperlink{mdt_sql_form_8cpp}{mdt\-Sql\-Form.\-cpp}\end{DoxyCompactItemize}
