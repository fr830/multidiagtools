\hypertarget{classmdt_device_u3606_a}{
\section{mdtDeviceU3606A Class Reference}
\label{classmdt_device_u3606_a}\index{mdtDeviceU3606A@{mdtDeviceU3606A}}
}


Representation of a Agilent U3606A.  




{\ttfamily \#include $<$mdtDeviceU3606A.h$>$}



Inheritance diagram for mdtDeviceU3606A:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=178pt]{classmdt_device_u3606_a__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for mdtDeviceU3606A:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=400pt]{classmdt_device_u3606_a__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Slots}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classmdt_device_u3606_a_a94a6f8b3f64cd35b33204c66816f3f6a}{
void \hyperlink{classmdt_device_u3606_a_a94a6f8b3f64cd35b33204c66816f3f6a}{onStateChanged} (int state)}
\label{classmdt_device_u3606_a_a94a6f8b3f64cd35b33204c66816f3f6a}

\begin{DoxyCompactList}\small\item\em Update (G)UI when device's state has changed. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classmdt_device_u3606_a_a91201ae14df7b553a947b5857eaa1c65}{mdtDeviceU3606A} (QObject $\ast$parent=0)
\item 
\hypertarget{classmdt_device_u3606_a_a48a23abc92df9064c2d21411745160e5}{
\hyperlink{classmdt_port_manager}{mdtPortManager} $\ast$ \hyperlink{classmdt_device_u3606_a_a48a23abc92df9064c2d21411745160e5}{portManager} ()}
\label{classmdt_device_u3606_a_a48a23abc92df9064c2d21411745160e5}

\begin{DoxyCompactList}\small\item\em Get internal port manager instance. \end{DoxyCompactList}\item 
\hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}{mdtAbstractPort::error\_\-t} \hyperlink{classmdt_device_u3606_a_acf3b48b13bc179ad4f94b3011b7d607a}{connectToDevice} (const \hyperlink{classmdt_device_info}{mdtDeviceInfo} \&devInfo)
\begin{DoxyCompactList}\small\item\em Search and connect to physical device. \end{DoxyCompactList}\item 
int \hyperlink{classmdt_device_u3606_a_aa9045c25f6be6797b21ea98b4958e8f1}{sendCommand} (const QByteArray \&command, int timeout=1000)
\begin{DoxyCompactList}\small\item\em Send a command to device. \end{DoxyCompactList}\item 
QByteArray \hyperlink{classmdt_device_u3606_a_a637c4b440e9c4905c11c16a056e2c7ad}{sendQuery} (const QByteArray \&query, int writeTimeout=1000, int readTimeout=30000)
\begin{DoxyCompactList}\small\item\em Send a query to device. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Representation of a Agilent U3606A. 

Definition at line 30 of file mdtDeviceU3606A.h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classmdt_device_u3606_a_a91201ae14df7b553a947b5857eaa1c65}{
\index{mdtDeviceU3606A@{mdtDeviceU3606A}!mdtDeviceU3606A@{mdtDeviceU3606A}}
\index{mdtDeviceU3606A@{mdtDeviceU3606A}!mdtDeviceU3606A@{mdtDeviceU3606A}}
\subsubsection[{mdtDeviceU3606A}]{\setlength{\rightskip}{0pt plus 5cm}mdtDeviceU3606A::mdtDeviceU3606A (
\begin{DoxyParamCaption}
\item[{QObject $\ast$}]{parent = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}
\label{classmdt_device_u3606_a_a91201ae14df7b553a947b5857eaa1c65}


pvPortManager-\/$>$setNotifyNewReadenFrame(true); 



Definition at line 29 of file mdtDeviceU3606A.cpp.



\subsection{Member Function Documentation}
\hypertarget{classmdt_device_u3606_a_acf3b48b13bc179ad4f94b3011b7d607a}{
\index{mdtDeviceU3606A@{mdtDeviceU3606A}!connectToDevice@{connectToDevice}}
\index{connectToDevice@{connectToDevice}!mdtDeviceU3606A@{mdtDeviceU3606A}}
\subsubsection[{connectToDevice}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdtAbstractPort::error\_\-t} mdtDeviceU3606A::connectToDevice (
\begin{DoxyParamCaption}
\item[{const {\bf mdtDeviceInfo} \&}]{devInfo}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}virtual\mbox{]}}}}
\label{classmdt_device_u3606_a_acf3b48b13bc179ad4f94b3011b7d607a}


Search and connect to physical device. 

Will scan available ports and open the first port that has device attached maching request.


\begin{DoxyParams}{Parameters}
{\em devInfo} & Requested device's informations. Note: Vendor ID and/or product ID are automatically set. (in other words, a empty \hyperlink{classmdt_device_info}{mdtDeviceInfo} can be passed). Optionnaly, a serial device can be set (usefull if many U3606A devices are connected) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A error listed in \hyperlink{classmdt_abstract_port_ad4121bb930c95887e77f8bafa065a85e}{mdtAbstractPort::error\_\-t} (NoError on success) 
\end{DoxyReturn}


\begin{Desc}
\item[\hyperlink{todo__todo000005}{Todo}]Add DeviceNotFound error ? \end{Desc}




Reimplemented from \hyperlink{classmdt_device_abab1b6e45af527880ce469ae318474c0}{mdtDevice}.



Definition at line 61 of file mdtDeviceU3606A.cpp.

\hypertarget{classmdt_device_u3606_a_aa9045c25f6be6797b21ea98b4958e8f1}{
\index{mdtDeviceU3606A@{mdtDeviceU3606A}!sendCommand@{sendCommand}}
\index{sendCommand@{sendCommand}!mdtDeviceU3606A@{mdtDeviceU3606A}}
\subsubsection[{sendCommand}]{\setlength{\rightskip}{0pt plus 5cm}int mdtDeviceU3606A::sendCommand (
\begin{DoxyParamCaption}
\item[{const QByteArray \&}]{command, }
\item[{int}]{timeout = {\ttfamily 1000}}
\end{DoxyParamCaption}
)}}
\label{classmdt_device_u3606_a_aa9045c25f6be6797b21ea98b4958e8f1}


Send a command to device. 

Wait until it's possible to write to device, then send the command.

Note that the wait will not break the GUI's event loop (see \hyperlink{classmdt_port_manager_ae1cc1010067bcbf104fb3d1b19f2fa48}{mdtPortManager::waitOnWriteReady()} for details).


\begin{DoxyParams}{Parameters}
{\em command} & Command to send. \\
\hline
{\em timeout} & Write timeout \mbox{[}ms\mbox{]} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bTag on success, or a error $<$ 0 (see \hyperlink{classmdt_usbtmc_port_manager_ab7229e9d519e80a6509bec90dc9239b3}{mdtUsbtmcPortManager::writeData()} for details). 
\end{DoxyReturn}


Definition at line 126 of file mdtDeviceU3606A.cpp.

\hypertarget{classmdt_device_u3606_a_a637c4b440e9c4905c11c16a056e2c7ad}{
\index{mdtDeviceU3606A@{mdtDeviceU3606A}!sendQuery@{sendQuery}}
\index{sendQuery@{sendQuery}!mdtDeviceU3606A@{mdtDeviceU3606A}}
\subsubsection[{sendQuery}]{\setlength{\rightskip}{0pt plus 5cm}QByteArray mdtDeviceU3606A::sendQuery (
\begin{DoxyParamCaption}
\item[{const QByteArray \&}]{query, }
\item[{int}]{writeTimeout = {\ttfamily 1000}, }
\item[{int}]{readTimeout = {\ttfamily 30000}}
\end{DoxyParamCaption}
)}}
\label{classmdt_device_u3606_a_a637c4b440e9c4905c11c16a056e2c7ad}


Send a query to device. 

Wait until it's possible to write to device, send the query and wait until a response is available or timeout.

Note that the wait will not break the GUI's event loop.

This method will not update internal I/O states. It's recommended to use \hyperlink{classmdt_device}{mdtDevice} functions if available.


\begin{DoxyParams}{Parameters}
{\em query} & Query to send. \\
\hline
{\em writeTimeout} & Write timeout \mbox{[}ms\mbox{]} \\
\hline
{\em readTimeout} & Response timeout \mbox{[}ms\mbox{]} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Result as string (empty string on error) Note that \hyperlink{classmdt_frame_codec_scpi}{mdtFrameCodecScpi} can be helpful to decode returned result. 
\end{DoxyReturn}


Definition at line 131 of file mdtDeviceU3606A.cpp.



The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
src/mdtdevice/mdtDeviceU3606A.h\item 
src/mdtdevice/mdtDeviceU3606A.cpp\end{DoxyCompactItemize}
