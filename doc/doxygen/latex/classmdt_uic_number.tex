\hypertarget{classmdt_uic_number}{
\section{mdtUicNumber Class Reference}
\label{classmdt_uic_number}\index{mdtUicNumber@{mdtUicNumber}}
}


Parse a UIC number and get details.  




{\ttfamily \#include $<$mdtUicNumber.h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classmdt_uic_number_aadf50072784344824c696da7cff5b445}{setNumber} (const QString \&uicNumber)
\begin{DoxyCompactList}\small\item\em Set the UIC number. \end{DoxyCompactList}\item 
QString \hyperlink{classmdt_uic_number_a0eda9b614e91b32c0d99bc016d906eae}{formatedUicNumber} ()
\begin{DoxyCompactList}\small\item\em Get the complete formated UIC number. \end{DoxyCompactList}\item 
QString \hyperlink{classmdt_uic_number_ac213145f98f8373d3300f4b3d46881cc}{compact6UicNumber} ()
\begin{DoxyCompactList}\small\item\em Get 6 digit compact unformated UIC number. \end{DoxyCompactList}\item 
QString \hyperlink{classmdt_uic_number_a1923dbc9f382433d3d669b32aac75888}{compact11UicNumber} ()
\begin{DoxyCompactList}\small\item\em Get 11 digit compact unformated UIC number. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_uic_number_aac3c9e1adb6f9646216b4327645a621a}{isValid} ()
\begin{DoxyCompactList}\small\item\em Check the UIC number validity. \end{DoxyCompactList}\item 
int \hyperlink{classmdt_uic_number_acd5013109fc4b953023333ac1382edd6}{controlKey} ()
\begin{DoxyCompactList}\small\item\em Get the control key. \end{DoxyCompactList}\item 
QString \hyperlink{classmdt_uic_number_a7a66af4f41cfaf69d53b9db66f465c27}{controlKeyString} ()
\begin{DoxyCompactList}\small\item\em Get the control key. \end{DoxyCompactList}\item 
QString \hyperlink{classmdt_uic_number_ad4fbefb268327d15c2d39d2a17f45180}{serialNumber} ()
\begin{DoxyCompactList}\small\item\em Get the serial number part. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_uic_number_ad7bb1405db0de8f1d247fa5a7bdb19ce}{loadCountriesDb} (const QString \&dbPath)
\begin{DoxyCompactList}\small\item\em Load the coutries database. \end{DoxyCompactList}\item 
\hypertarget{classmdt_uic_number_a36eec09823de2d9848e9f7b8135fa59d}{
bool \hyperlink{classmdt_uic_number_a36eec09823de2d9848e9f7b8135fa59d}{countriesDbLoaded} ()}
\label{classmdt_uic_number_a36eec09823de2d9848e9f7b8135fa59d}

\begin{DoxyCompactList}\small\item\em Return true if Countries DB was successfully loaded. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_uic_number_af496e1fb75f696258287754fe2607561}{loadUsagesDb} (const QString \&dbPath)
\begin{DoxyCompactList}\small\item\em Load the usage database. \end{DoxyCompactList}\item 
\hypertarget{classmdt_uic_number_a2090c7d80c75d1db42d271f82ff8f598}{
bool \hyperlink{classmdt_uic_number_a2090c7d80c75d1db42d271f82ff8f598}{usagesDbLoaded} ()}
\label{classmdt_uic_number_a2090c7d80c75d1db42d271f82ff8f598}

\begin{DoxyCompactList}\small\item\em Return true if usages DB was successfully loaded. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_uic_number_a98c879c7bb7412caac4612a46586b76d}{loadTypesDb} (const QString \&dbPath)
\begin{DoxyCompactList}\small\item\em Load the vehicule type database. \end{DoxyCompactList}\item 
\hypertarget{classmdt_uic_number_a39fb254207bfe6dd6eaade2711030dac}{
bool \hyperlink{classmdt_uic_number_a39fb254207bfe6dd6eaade2711030dac}{typesDbLoaded} ()}
\label{classmdt_uic_number_a39fb254207bfe6dd6eaade2711030dac}

\begin{DoxyCompactList}\small\item\em Return true if types DB was successfully loaded. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_uic_number_ab1d08c2ea34f310631866d2e46010363}{loadSpeedAndHeatsDb} (const QString \&dbPath)
\begin{DoxyCompactList}\small\item\em Load the vehicule speend and heat. \end{DoxyCompactList}\item 
\hypertarget{classmdt_uic_number_a42ec71258e2120337953c8c6bda63638}{
bool \hyperlink{classmdt_uic_number_a42ec71258e2120337953c8c6bda63638}{speedAndHeatDbLoaded} ()}
\label{classmdt_uic_number_a42ec71258e2120337953c8c6bda63638}

\begin{DoxyCompactList}\small\item\em Return true if speed and heat DB was successfully loaded. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_uic_number_ab7d29b1cb5fe5ac58bef5bec787e83df}{loadDbs} (const QString \&dir)
\begin{DoxyCompactList}\small\item\em Load all needed DBs. \end{DoxyCompactList}\item 
\hypertarget{classmdt_uic_number_ab684e8290b0a74a05e992699bf0fa7f4}{
bool \hyperlink{classmdt_uic_number_ab684e8290b0a74a05e992699bf0fa7f4}{dbsLoaded} ()}
\label{classmdt_uic_number_ab684e8290b0a74a05e992699bf0fa7f4}

\begin{DoxyCompactList}\small\item\em Return true if all DBs was successfully loaded. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_uic_number_a7bb368e5de6a9e7af3a2516eb4282e04}{unloadDbs} ()
\begin{DoxyCompactList}\small\item\em Unload databases. \end{DoxyCompactList}\item 
\hyperlink{classmdt_uic_number_item}{mdtUicNumberItem} \hyperlink{classmdt_uic_number_a69fea97b67a745980ad4386d5ffa9505}{country} ()
\begin{DoxyCompactList}\small\item\em Get the country. \end{DoxyCompactList}\item 
\hyperlink{classmdt_uic_number_item}{mdtUicNumberItem} \hyperlink{classmdt_uic_number_a8e2e1c1be4425b57e0fa60113410bfbc}{usage} ()
\begin{DoxyCompactList}\small\item\em Get the usage. \end{DoxyCompactList}\item 
\hyperlink{classmdt_uic_number_item}{mdtUicNumberItem} \hyperlink{classmdt_uic_number_ae7d6500d0e939956371e152d9ca17117}{type} ()
\begin{DoxyCompactList}\small\item\em Get the vehicule type. \end{DoxyCompactList}\item 
\hyperlink{classmdt_uic_number_item}{mdtUicNumberItem} \hyperlink{classmdt_uic_number_af2c13420378ec5559ce4f1eaba1f38e7}{speedAndHeat} ()
\begin{DoxyCompactList}\small\item\em Get the vehicule speed and heat. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Parse a UIC number and get details. 

\begin{DoxySeeAlso}{See also}
\href{http://www.uic.org/spip.php?rubrique95}{\tt http://www.uic.org/spip.php?rubrique95} 

\href{http://en.wikipedia.org/wiki/UIC_wagon_numbers}{\tt http://en.wikipedia.org/wiki/UIC\_\-wagon\_\-numbers} 
\end{DoxySeeAlso}


\subsection{Member Function Documentation}
\hypertarget{classmdt_uic_number_a1923dbc9f382433d3d669b32aac75888}{
\index{mdtUicNumber@{mdtUicNumber}!compact11UicNumber@{compact11UicNumber}}
\index{compact11UicNumber@{compact11UicNumber}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{compact11UicNumber}]{\setlength{\rightskip}{0pt plus 5cm}QString mdtUicNumber::compact11UicNumber (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_a1923dbc9f382433d3d669b32aac75888}


Get 11 digit compact unformated UIC number. 

A 11 digit UIC number must first be set with \hyperlink{classmdt_uic_number_aadf50072784344824c696da7cff5b445}{setNumber()}. \begin{DoxyReturn}{Returns}
11 digit UIC number without space, without control key, or a empty string on error 
\end{DoxyReturn}
\hypertarget{classmdt_uic_number_ac213145f98f8373d3300f4b3d46881cc}{
\index{mdtUicNumber@{mdtUicNumber}!compact6UicNumber@{compact6UicNumber}}
\index{compact6UicNumber@{compact6UicNumber}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{compact6UicNumber}]{\setlength{\rightskip}{0pt plus 5cm}QString mdtUicNumber::compact6UicNumber (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_ac213145f98f8373d3300f4b3d46881cc}


Get 6 digit compact unformated UIC number. 

A 6 or 11 digit UIC number must first be set with \hyperlink{classmdt_uic_number_aadf50072784344824c696da7cff5b445}{setNumber()}.\par
 Note: if a 11 digits UIC number is set, the 6 last digit (without control key) are returned.\par
 F.ex: if 94 85 7 560 256-\/0 is set, this method returns 560256. \begin{DoxyReturn}{Returns}
6 digit UIC number without space, without control key, or a empty string on error 
\end{DoxyReturn}
\hypertarget{classmdt_uic_number_acd5013109fc4b953023333ac1382edd6}{
\index{mdtUicNumber@{mdtUicNumber}!controlKey@{controlKey}}
\index{controlKey@{controlKey}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{controlKey}]{\setlength{\rightskip}{0pt plus 5cm}int mdtUicNumber::controlKey (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_acd5013109fc4b953023333ac1382edd6}


Get the control key. 

The UIC number must be set before. \begin{DoxyReturn}{Returns}
Control key, or value $<$ 0 on error 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_uic_number_aadf50072784344824c696da7cff5b445}{setNumber()} 
\end{DoxySeeAlso}
\hypertarget{classmdt_uic_number_a7a66af4f41cfaf69d53b9db66f465c27}{
\index{mdtUicNumber@{mdtUicNumber}!controlKeyString@{controlKeyString}}
\index{controlKeyString@{controlKeyString}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{controlKeyString}]{\setlength{\rightskip}{0pt plus 5cm}QString mdtUicNumber::controlKeyString (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_a7a66af4f41cfaf69d53b9db66f465c27}


Get the control key. 

The UIC number must be set before. \begin{DoxyReturn}{Returns}
Control key, $<$unknow$>$ on error 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{classmdt_uic_number_acd5013109fc4b953023333ac1382edd6}{controlKey()} 
\end{DoxySeeAlso}
\hypertarget{classmdt_uic_number_a69fea97b67a745980ad4386d5ffa9505}{
\index{mdtUicNumber@{mdtUicNumber}!country@{country}}
\index{country@{country}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{country}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdtUicNumberItem} mdtUicNumber::country (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_a69fea97b67a745980ad4386d5ffa9505}


Get the country. 

The UIC number must be set, and country database loaded before this method works. \hypertarget{classmdt_uic_number_a0eda9b614e91b32c0d99bc016d906eae}{
\index{mdtUicNumber@{mdtUicNumber}!formatedUicNumber@{formatedUicNumber}}
\index{formatedUicNumber@{formatedUicNumber}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{formatedUicNumber}]{\setlength{\rightskip}{0pt plus 5cm}QString mdtUicNumber::formatedUicNumber (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_a0eda9b614e91b32c0d99bc016d906eae}


Get the complete formated UIC number. 

The UIC number must first be set with \hyperlink{classmdt_uic_number_aadf50072784344824c696da7cff5b445}{setNumber()}. \begin{DoxyReturn}{Returns}
7 or 12 digit formated UIC number, or $<$unknow$>$ on error 
\end{DoxyReturn}
\hypertarget{classmdt_uic_number_aac3c9e1adb6f9646216b4327645a621a}{
\index{mdtUicNumber@{mdtUicNumber}!isValid@{isValid}}
\index{isValid@{isValid}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{isValid}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtUicNumber::isValid (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_aac3c9e1adb6f9646216b4327645a621a}


Check the UIC number validity. 

A valid UIC number contains 6, 7, 11 or 12 digits. \hypertarget{classmdt_uic_number_ad7bb1405db0de8f1d247fa5a7bdb19ce}{
\index{mdtUicNumber@{mdtUicNumber}!loadCountriesDb@{loadCountriesDb}}
\index{loadCountriesDb@{loadCountriesDb}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{loadCountriesDb}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtUicNumber::loadCountriesDb (
\begin{DoxyParamCaption}
\item[{const QString \&}]{dbPath}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_ad7bb1405db0de8f1d247fa5a7bdb19ce}


Load the coutries database. 

The database is a CSV file containing the correspondance between 2 digits number and the country. \begin{DoxySeeAlso}{See also}
\href{http://www.uic.org/IMG/xls/country_code_applicable.xls}{\tt http://www.uic.org/IMG/xls/country\_\-code\_\-applicable.xls} 
\end{DoxySeeAlso}
\hypertarget{classmdt_uic_number_ab7d29b1cb5fe5ac58bef5bec787e83df}{
\index{mdtUicNumber@{mdtUicNumber}!loadDbs@{loadDbs}}
\index{loadDbs@{loadDbs}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{loadDbs}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtUicNumber::loadDbs (
\begin{DoxyParamCaption}
\item[{const QString \&}]{dir}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_ab7d29b1cb5fe5ac58bef5bec787e83df}


Load all needed DBs. 

The directory that contains the databeses must be given as argument. This directory must contain following files:
\begin{DoxyItemize}
\item uic\_\-countries\_\-db.csv
\item uic\_\-speedandheat\_\-db.csv
\item uic\_\-types\_\-db.csv
\item uic\_\-usages\_\-db.csv 
\end{DoxyItemize}\hypertarget{classmdt_uic_number_ab1d08c2ea34f310631866d2e46010363}{
\index{mdtUicNumber@{mdtUicNumber}!loadSpeedAndHeatsDb@{loadSpeedAndHeatsDb}}
\index{loadSpeedAndHeatsDb@{loadSpeedAndHeatsDb}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{loadSpeedAndHeatsDb}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtUicNumber::loadSpeedAndHeatsDb (
\begin{DoxyParamCaption}
\item[{const QString \&}]{dbPath}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_ab1d08c2ea34f310631866d2e46010363}


Load the vehicule speend and heat. 

The database is a CSV file containing the correspondance between 2 digits number and the vehicule type. \hypertarget{classmdt_uic_number_a98c879c7bb7412caac4612a46586b76d}{
\index{mdtUicNumber@{mdtUicNumber}!loadTypesDb@{loadTypesDb}}
\index{loadTypesDb@{loadTypesDb}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{loadTypesDb}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtUicNumber::loadTypesDb (
\begin{DoxyParamCaption}
\item[{const QString \&}]{dbPath}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_a98c879c7bb7412caac4612a46586b76d}


Load the vehicule type database. 

The database is a CSV file containing the correspondance between 2 digits number and the vehicule type. \hypertarget{classmdt_uic_number_af496e1fb75f696258287754fe2607561}{
\index{mdtUicNumber@{mdtUicNumber}!loadUsagesDb@{loadUsagesDb}}
\index{loadUsagesDb@{loadUsagesDb}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{loadUsagesDb}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtUicNumber::loadUsagesDb (
\begin{DoxyParamCaption}
\item[{const QString \&}]{dbPath}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_af496e1fb75f696258287754fe2607561}


Load the usage database. 

The database is a CSV file containing the correspondance between 2 digits number and the usage. \hypertarget{classmdt_uic_number_ad4fbefb268327d15c2d39d2a17f45180}{
\index{mdtUicNumber@{mdtUicNumber}!serialNumber@{serialNumber}}
\index{serialNumber@{serialNumber}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{serialNumber}]{\setlength{\rightskip}{0pt plus 5cm}QString mdtUicNumber::serialNumber (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_ad4fbefb268327d15c2d39d2a17f45180}


Get the serial number part. 

\begin{DoxyReturn}{Returns}
Serial number or $<$unknow$>$ on error 
\end{DoxyReturn}
\hypertarget{classmdt_uic_number_aadf50072784344824c696da7cff5b445}{
\index{mdtUicNumber@{mdtUicNumber}!setNumber@{setNumber}}
\index{setNumber@{setNumber}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{setNumber}]{\setlength{\rightskip}{0pt plus 5cm}bool mdtUicNumber::setNumber (
\begin{DoxyParamCaption}
\item[{const QString \&}]{uicNumber}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_aadf50072784344824c696da7cff5b445}


Set the UIC number. 

The UIC number passed as argument is first checked. If ok, it is stored as list of digits. Note: some chars are allowed (space, -\/), but alpha (a-\/b, A-\/B) are not valid. \hypertarget{classmdt_uic_number_af2c13420378ec5559ce4f1eaba1f38e7}{
\index{mdtUicNumber@{mdtUicNumber}!speedAndHeat@{speedAndHeat}}
\index{speedAndHeat@{speedAndHeat}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{speedAndHeat}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdtUicNumberItem} mdtUicNumber::speedAndHeat (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_af2c13420378ec5559ce4f1eaba1f38e7}


Get the vehicule speed and heat. 

The UIC number must be set, and type database loaded before this method works. \hypertarget{classmdt_uic_number_ae7d6500d0e939956371e152d9ca17117}{
\index{mdtUicNumber@{mdtUicNumber}!type@{type}}
\index{type@{type}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{type}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdtUicNumberItem} mdtUicNumber::type (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_ae7d6500d0e939956371e152d9ca17117}


Get the vehicule type. 

The UIC number must be set, and type database loaded before this method works. \hypertarget{classmdt_uic_number_a7bb368e5de6a9e7af3a2516eb4282e04}{
\index{mdtUicNumber@{mdtUicNumber}!unloadDbs@{unloadDbs}}
\index{unloadDbs@{unloadDbs}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{unloadDbs}]{\setlength{\rightskip}{0pt plus 5cm}void mdtUicNumber::unloadDbs (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_a7bb368e5de6a9e7af3a2516eb4282e04}


Unload databases. 

This will free memory used by load$\ast$Db(). This method is automatically called by destructor. \hypertarget{classmdt_uic_number_a8e2e1c1be4425b57e0fa60113410bfbc}{
\index{mdtUicNumber@{mdtUicNumber}!usage@{usage}}
\index{usage@{usage}!mdtUicNumber@{mdtUicNumber}}
\subsubsection[{usage}]{\setlength{\rightskip}{0pt plus 5cm}{\bf mdtUicNumberItem} mdtUicNumber::usage (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classmdt_uic_number_a8e2e1c1be4425b57e0fa60113410bfbc}


Get the usage. 

The UIC number must be set, and usage database loaded before this method works. 

The documentation for this class was generated from the following files:\begin{DoxyCompactItemize}
\item 
src/mdtutils/mdtUicNumber.h\item 
src/mdtutils/mdtUicNumber.cpp\end{DoxyCompactItemize}
