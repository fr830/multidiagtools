\hypertarget{classmdt_sql_table_selection}{\section{mdt\-Sql\-Table\-Selection Class Reference}
\label{classmdt_sql_table_selection}\index{mdt\-Sql\-Table\-Selection@{mdt\-Sql\-Table\-Selection}}
}


Handle selection of model indexes in a Q\-Table\-View.  




{\ttfamily \#include $<$mdt\-Sql\-Table\-Selection.\-h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classmdt_sql_table_selection_a2821fe9269802a36b77b89d8e22bb10b}{mdt\-Sql\-Table\-Selection} ()
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
void \hyperlink{classmdt_sql_table_selection_ab233d9312c053b20a8e1d35e26dcab86}{clear} ()
\begin{DoxyCompactList}\small\item\em Clear selection (will not affect any model, view or selection model) \end{DoxyCompactList}\item 
void \hyperlink{classmdt_sql_table_selection_a8a7fec3deddde52a3cfdb2ea96a75894}{set\-Index\-List} (const Q\-Model\-Index\-List \&index\-List, const Q\-String\-List \&field\-List, Q\-Sql\-Query\-Model $\ast$model)
\begin{DoxyCompactList}\small\item\em Set model index list. \end{DoxyCompactList}\item 
int \hyperlink{classmdt_sql_table_selection_a411d70a724981bd47f550d05cf3858be}{row\-Count} () const 
\begin{DoxyCompactList}\small\item\em Get row count. \end{DoxyCompactList}\item 
bool \hyperlink{classmdt_sql_table_selection_a739d9d474c3df10c01ea4094a3f8c201}{is\-Empty} () const 
\begin{DoxyCompactList}\small\item\em Check if selection is empty. \end{DoxyCompactList}\item 
Q\-Variant \hyperlink{classmdt_sql_table_selection_a30a3f85a56792d9641abbd2129c50bca}{data} (int row, const Q\-String \&field\-Name) const 
\begin{DoxyCompactList}\small\item\em Get data for given row and field name. \end{DoxyCompactList}\item 
Q\-String\-List \hyperlink{classmdt_sql_table_selection_a5885e6bb6fadabb425c4ec170c5bdfc7}{fields} (int row) const 
\begin{DoxyCompactList}\small\item\em Get a list of fields contained in given row. \end{DoxyCompactList}\item 
Q\-List$<$ Q\-Variant $>$ \hyperlink{classmdt_sql_table_selection_a51db96b59cc388c6d4bb2d4e4fdcea51}{data\-List} (const Q\-String \&field\-Name) const 
\begin{DoxyCompactList}\small\item\em Get a list of data for given field. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Handle selection of model indexes in a Q\-Table\-View. 

Qt offers some classes to handle selections in item view/model classes.

But, in database applications, it's common that the user can select one or many items, and we want to get a result for selected rows, and only some fields.

For example, say we have a table\-:

\begin{TabularC}{3}
\hline
\rowcolor{lightgray}{\bf Id\-\_\-\-P\-K}&{\bf Name}&{\bf Remarks }\\\cline{1-3}
1&User 1&A remark on User 1 \\\cline{1-3}
2&User 2&A remark on User 2 \\\cline{1-3}
\end{TabularC}


This table is displayed in a Q\-Table\-View and data are handled by a \hyperlink{class_q_sql_table_model}{Q\-Sql\-Table\-Model}. For commodity, we let the user select individual items (not complete rows). Now, its possible to edit a user by double clicking on a row. Or, it's also possible to remove several users by selecting corresponding rows, and clicking a push button (or a menu item, ...). The data we need, is in Id\-\_\-\-P\-K field, witch is probably not shown to the user. If hi wants to edit, hi will probably double click on \char`\"{}\-User 1\char`\"{} item in view. Here, we need to get value of Id\-\_\-\-P\-K of row 0 (=1).

This class is used by \hyperlink{classmdt_sql_table_widget}{mdt\-Sql\-Table\-Widget}, \hyperlink{classmdt_sql_selection_dialog}{mdt\-Sql\-Selection\-Dialog}. 

Definition at line 58 of file mdt\-Sql\-Table\-Selection.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{classmdt_sql_table_selection_a2821fe9269802a36b77b89d8e22bb10b}{\index{mdt\-Sql\-Table\-Selection@{mdt\-Sql\-Table\-Selection}!mdt\-Sql\-Table\-Selection@{mdt\-Sql\-Table\-Selection}}
\index{mdt\-Sql\-Table\-Selection@{mdt\-Sql\-Table\-Selection}!mdtSqlTableSelection@{mdt\-Sql\-Table\-Selection}}
\subsubsection[{mdt\-Sql\-Table\-Selection}]{\setlength{\rightskip}{0pt plus 5cm}mdt\-Sql\-Table\-Selection\-::mdt\-Sql\-Table\-Selection (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_table_selection_a2821fe9269802a36b77b89d8e22bb10b}


Constructor. 



Definition at line 26 of file mdt\-Sql\-Table\-Selection.\-cpp.



\subsection{Member Function Documentation}
\hypertarget{classmdt_sql_table_selection_ab233d9312c053b20a8e1d35e26dcab86}{\index{mdt\-Sql\-Table\-Selection@{mdt\-Sql\-Table\-Selection}!clear@{clear}}
\index{clear@{clear}!mdtSqlTableSelection@{mdt\-Sql\-Table\-Selection}}
\subsubsection[{clear}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Sql\-Table\-Selection\-::clear (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_table_selection_ab233d9312c053b20a8e1d35e26dcab86}


Clear selection (will not affect any model, view or selection model) 



Definition at line 30 of file mdt\-Sql\-Table\-Selection.\-cpp.



Referenced by set\-Index\-List().

\hypertarget{classmdt_sql_table_selection_a30a3f85a56792d9641abbd2129c50bca}{\index{mdt\-Sql\-Table\-Selection@{mdt\-Sql\-Table\-Selection}!data@{data}}
\index{data@{data}!mdtSqlTableSelection@{mdt\-Sql\-Table\-Selection}}
\subsubsection[{data}]{\setlength{\rightskip}{0pt plus 5cm}Q\-Variant mdt\-Sql\-Table\-Selection\-::data (
\begin{DoxyParamCaption}
\item[{int}]{row, }
\item[{const Q\-String \&}]{field\-Name}
\end{DoxyParamCaption}
) const}}\label{classmdt_sql_table_selection_a30a3f85a56792d9641abbd2129c50bca}


Get data for given row and field name. 

Note\-: row does not match any model index, it's a row index of internally stored selection rows.

\begin{DoxyPrecond}{Precondition}
row must be in a valid range ( 0 $<$= row $<$ \hyperlink{classmdt_sql_table_selection_a411d70a724981bd47f550d05cf3858be}{row\-Count()} ). 
\end{DoxyPrecond}


Definition at line 70 of file mdt\-Sql\-Table\-Selection.\-cpp.



Referenced by mdt\-Tt\-Base\-::remove\-Data(), mdt\-Cl\-Link\-Beam\-::remove\-Links(), and mdt\-Cl\-Link\-::remove\-Links().

\hypertarget{classmdt_sql_table_selection_a51db96b59cc388c6d4bb2d4e4fdcea51}{\index{mdt\-Sql\-Table\-Selection@{mdt\-Sql\-Table\-Selection}!data\-List@{data\-List}}
\index{data\-List@{data\-List}!mdtSqlTableSelection@{mdt\-Sql\-Table\-Selection}}
\subsubsection[{data\-List}]{\setlength{\rightskip}{0pt plus 5cm}Q\-List$<$ Q\-Variant $>$ mdt\-Sql\-Table\-Selection\-::data\-List (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{field\-Name}
\end{DoxyParamCaption}
) const}}\label{classmdt_sql_table_selection_a51db96b59cc388c6d4bb2d4e4fdcea51}


Get a list of data for given field. 



Definition at line 90 of file mdt\-Sql\-Table\-Selection.\-cpp.



Referenced by mdt\-Cl\-Unit\-::remove\-Connections(), and mdt\-Tt\-Test\-Node\-Unit\-::remove\-Node\-Units().

\hypertarget{classmdt_sql_table_selection_a5885e6bb6fadabb425c4ec170c5bdfc7}{\index{mdt\-Sql\-Table\-Selection@{mdt\-Sql\-Table\-Selection}!fields@{fields}}
\index{fields@{fields}!mdtSqlTableSelection@{mdt\-Sql\-Table\-Selection}}
\subsubsection[{fields}]{\setlength{\rightskip}{0pt plus 5cm}Q\-String\-List mdt\-Sql\-Table\-Selection\-::fields (
\begin{DoxyParamCaption}
\item[{int}]{row}
\end{DoxyParamCaption}
) const}}\label{classmdt_sql_table_selection_a5885e6bb6fadabb425c4ec170c5bdfc7}


Get a list of fields contained in given row. 

\begin{DoxyPrecond}{Precondition}
row must be in a valid range ( 0 $<$= row $<$ \hyperlink{classmdt_sql_table_selection_a411d70a724981bd47f550d05cf3858be}{row\-Count()} ). 
\end{DoxyPrecond}


Definition at line 82 of file mdt\-Sql\-Table\-Selection.\-cpp.



Referenced by mdt\-Tt\-Base\-::remove\-Data().

\hypertarget{classmdt_sql_table_selection_a739d9d474c3df10c01ea4094a3f8c201}{\index{mdt\-Sql\-Table\-Selection@{mdt\-Sql\-Table\-Selection}!is\-Empty@{is\-Empty}}
\index{is\-Empty@{is\-Empty}!mdtSqlTableSelection@{mdt\-Sql\-Table\-Selection}}
\subsubsection[{is\-Empty}]{\setlength{\rightskip}{0pt plus 5cm}bool mdt\-Sql\-Table\-Selection\-::is\-Empty (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_table_selection_a739d9d474c3df10c01ea4094a3f8c201}


Check if selection is empty. 



Definition at line 88 of file mdt\-Sql\-Table\-Selection.\-h.



Referenced by mdt\-Tt\-Base\-::remove\-Data().

\hypertarget{classmdt_sql_table_selection_a411d70a724981bd47f550d05cf3858be}{\index{mdt\-Sql\-Table\-Selection@{mdt\-Sql\-Table\-Selection}!row\-Count@{row\-Count}}
\index{row\-Count@{row\-Count}!mdtSqlTableSelection@{mdt\-Sql\-Table\-Selection}}
\subsubsection[{row\-Count}]{\setlength{\rightskip}{0pt plus 5cm}int mdt\-Sql\-Table\-Selection\-::row\-Count (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}}\label{classmdt_sql_table_selection_a411d70a724981bd47f550d05cf3858be}


Get row count. 



Definition at line 84 of file mdt\-Sql\-Table\-Selection.\-h.



Referenced by mdt\-Tt\-Base\-::remove\-Data(), mdt\-Cl\-Link\-Beam\-::remove\-Links(), and mdt\-Cl\-Link\-::remove\-Links().

\hypertarget{classmdt_sql_table_selection_a8a7fec3deddde52a3cfdb2ea96a75894}{\index{mdt\-Sql\-Table\-Selection@{mdt\-Sql\-Table\-Selection}!set\-Index\-List@{set\-Index\-List}}
\index{set\-Index\-List@{set\-Index\-List}!mdtSqlTableSelection@{mdt\-Sql\-Table\-Selection}}
\subsubsection[{set\-Index\-List}]{\setlength{\rightskip}{0pt plus 5cm}void mdt\-Sql\-Table\-Selection\-::set\-Index\-List (
\begin{DoxyParamCaption}
\item[{const Q\-Model\-Index\-List \&}]{index\-List, }
\item[{const Q\-String\-List \&}]{field\-List, }
\item[{Q\-Sql\-Query\-Model $\ast$}]{model}
\end{DoxyParamCaption}
)}}\label{classmdt_sql_table_selection_a8a7fec3deddde52a3cfdb2ea96a75894}


Set model index list. 


\begin{DoxyParams}{Parameters}
{\em index\-List} & Typically a result returned from Q\-Item\-Selection\-Model\-::selected\-Indexes() \\
\hline
{\em field\-List} & List of fields that are needed \\
\hline
{\em model} & Needed to get some informations (typically field names related to a model index) \\
\hline
\end{DoxyParams}
\begin{DoxyPrecond}{Precondition}
model must be a valid pointer 

Each model index in index\-List must point to given model
\end{DoxyPrecond}
Note\-: calling this method will clear previous data. 

Definition at line 35 of file mdt\-Sql\-Table\-Selection.\-cpp.



References mdt\-Sql\-Table\-Selection\-Row\-::add\-Index(), mdt\-Sql\-Table\-Selection\-Row\-::clear(), and clear().



Referenced by mdt\-Sql\-Table\-Widget\-::current\-Selection(), and mdt\-Sql\-Selection\-Dialog\-::selection().



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
src/mdtdatabase/\hyperlink{mdt_sql_table_selection_8h}{mdt\-Sql\-Table\-Selection.\-h}\item 
src/mdtdatabase/\hyperlink{mdt_sql_table_selection_8cpp}{mdt\-Sql\-Table\-Selection.\-cpp}\end{DoxyCompactItemize}
